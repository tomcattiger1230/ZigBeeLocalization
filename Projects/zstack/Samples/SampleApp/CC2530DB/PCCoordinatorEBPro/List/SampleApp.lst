###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.20.2.41139 for 8051             21/Jun/2016  17:00:55 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\Source\SampleApp.c                   #
#    Command line       =  -f F:\myCloud\ZigBeeLocalization\Projects\zstack\S #
#                          amples\SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\ #
#                          f8wCoord.cfg (-DCPU32MHZ -DROOT=__near_func        #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DZDO_COORDINATOR -DRTR_NWK -DBLINK_LEDS) -f       #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8w #
#                          Config.cfg (-DSECURE=0 -DZG_SECURE_DYNAMIC=0       #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE      #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100) -DREJOIN_POLL_RATE=440   #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\Source\SampleApp.c -D ZIGBEEPRO -D   #
#                          ZTOOL_P1 -D xMT_TASK -D xMT_SYS_FUNC -D            #
#                          xMT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -lC            #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\PCCoordinatorEBPro\List\    #
#                          -lA F:\myCloud\ZigBeeLocalization\Projects\zstack\ #
#                          Samples\SampleApp\CC2530DB\PCCoordinatorEBPro\List #
#                          \ --diag_suppress Pe001,Pa010 -o                   #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\PCCoordinatorEBPro\Obj\ -e  #
#                          --no_cse --no_unroll --no_inline --no_code_motion  #
#                          --no_tbaa --debug --core=plain --dptr=16,1         #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I F:\myCloud\ZigBeeLocalization\Projects\zstack\S #
#                          amples\SampleApp\CC2530DB\ -I                      #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\SOURCE\ -I               #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\ZMAIN\TI2530DB\    #
#                          -I F:\myCloud\ZigBeeLocalization\Projects\zstack\S #
#                          amples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENT #
#                          S\MT\ -I F:\myCloud\ZigBeeLocalization\Projects\zs #
#                          tack\Samples\SampleApp\CC2530DB\..\..\..\..\..\COM #
#                          PONENTS\HAL\INCLUDE\ -I F:\myCloud\ZigBeeLocalizat #
#                          ion\Projects\zstack\Samples\SampleApp\CC2530DB\..\ #
#                          ..\..\..\..\COMPONENTS\HAL\TARGET\CC2530EB\ -I     #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\O #
#                          SAL\MCU\CCSOC\ -I F:\myCloud\ZigBeeLocalization\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\COMPONENTS\OSAL\INCLUDE\ -I                  #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\S #
#                          TACK\AF\ -I F:\myCloud\ZigBeeLocalization\Projects #
#                          \zstack\Samples\SampleApp\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\STACK\NWK\ -I                           #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\S #
#                          TACK\SEC\ -I F:\myCloud\ZigBeeLocalization\Project #
#                          s\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\SAPI\ -I                         #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\S #
#                          TACK\SYS\ -I F:\myCloud\ZigBeeLocalization\Project #
#                          s\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\ZDO\ -I                          #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\Z #
#                          MAC\F8W\ -I F:\myCloud\ZigBeeLocalization\Projects #
#                          \zstack\Samples\SampleApp\CC2530DB\..\..\..\..\..\ #
#                          COMPONENTS\ZMAC\ -I F:\myCloud\ZigBeeLocalization\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\COMPONENTS\SERVICES\SADDR\ -I              #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\S #
#                          ERVICES\SDATA\ -I F:\myCloud\ZigBeeLocalization\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\COMPONENTS\MAC\INCLUDE\ -I                   #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\M #
#                          AC\HIGH_LEVEL\ -I F:\myCloud\ZigBeeLocalization\Pr #
#                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\..\ #
#                          ..\..\COMPONENTS\MAC\LOW_LEVEL\srf04\ -I           #
#                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\M #
#                          AC\LOW_LEVEL\srf04\SINGLE_CHIP\ -On                #
#                          --require_prototypes                               #
#    List file          =  F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\PCCoordinatorEBPro\List\Sam #
#                          pleApp.lst                                         #
#    Object file        =  F:\myCloud\ZigBeeLocalization\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\PCCoordinatorEBPro\Obj\Samp #
#                          leApp.r51                                          #
#                                                                             #
#                                                                             #
###############################################################################

F:\myCloud\ZigBeeLocalization\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          /**************************************************************************************************
      2            Filename:       SampleApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Sample Application (no Profile).
      7          
      8          
      9            Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          
     41          
     42          /*********************************************************************
     43           * INCLUDES
     44           */
     45          #include "OSAL.h"
     46          #include "ZGlobals.h"
     47          #include "AF.h"
     48          #include "aps_groups.h"
     49          #include "ZDApp.h"
     50          
     51          #include "SampleApp.h"
     52          #include "SampleAppHw.h"
     53          
     54          #include "OnBoard.h"
     55          
     56          /* HAL */
     57          #include "hal_lcd.h"
     58          #include "hal_led.h"
     59          #include "hal_key.h"
     60          #include "MT_UART.h"
     61          #include "MT_APP.h"
     62          #include "MT.h"
     63          
     64          /*********************************************************************
     65           * MACROS
     66           */
     67          
     68          /*********************************************************************
     69           * CONSTANTS
     70           */
     71          
     72          /*********************************************************************
     73           * TYPEDEFS
     74           */
     75          
     76          /*********************************************************************
     77           * GLOBAL VARIABLES
     78           */
     79          
     80          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     81          const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0300         DW 3
     82          {
     83            SAMPLEAPP_PERIODIC_CLUSTERID,
     84            CALBRATION_N_CLUSTERID,
     85            LZQR_GROUP_CLUSTERID   //id for localization of quadrotor group 
     86          };
     87          

   \                                 In  segment XDATA_ROM_C, align 1
     88          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   14           DB 20
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   03           DB 3
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   03           DB 3
   \   00000A   ....         DW SampleApp_ClusterList
     89          {
     90            SAMPLEAPP_ENDPOINT,              //  int Endpoint;
     91            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
     92            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     93            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     94            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
     95            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     96            (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
     97            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     98            (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
     99          };
    100          
    101          // This is the Endpoint/Interface description.  It is defined here, but
    102          // filled-in in SampleApp_Init().  Another way to go would be to fill
    103          // in the structure here and make it a "const" (in code space).  The
    104          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    105          endPointDesc_t SampleApp_epDesc;
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    106          endPointDesc_t SampleApp_test_epDesc;   //not jet in use
   \                     SampleApp_test_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    107          /*********************************************************************
    108           * EXTERNAL VARIABLES
    109           */
    110          
    111          /*********************************************************************
    112           * EXTERNAL FUNCTIONS
    113           */
    114          
    115          
    116          /*********************************************************************
    117           * LOCAL VARIABLES
    118           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    119          uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    120                                    // This variable will be received when
    121                                    // SampleApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    122          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    123          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    124          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    125          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    126          afAddrType_t SampleApp_Router_Periodic_DstAddr;       // address for router
   \                     SampleApp_Router_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    127          afAddrType_t SampleApp_Tester_DstAddr;                // address for tester
   \                     SampleApp_Tester_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    128          afAddrType_t SampleApp_Quadrotor_Location_DstAddr;    // address for quadrotor/end device
   \                     SampleApp_Quadrotor_Location_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    129          
    130          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    131          aps_Group_t SampleApp_Group_1;                        // group 1 for calibration of parameter n (quadrotor, router, coord)
   \                     SampleApp_Group_1:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    132          aps_Group_t SampleApp_Group_2;                        // group 2 for communication between quadrotors (quadrotor, coord)
   \                     SampleApp_Group_2:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z
    133          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    134          uint8 SampleAppPeriodicCounter = 0;
   \                     SampleAppPeriodicCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    135          uint8 SampleAppFlashCounter = 0;
   \                     SampleAppFlashCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    136          
    137          //user setting for quadrotor
    138          
    139          //buf for storing rssi values from 4 anchors

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    140          int8 perRssiBuf1[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 1
   \                     perRssiBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          int8 perRssiBuf2[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 2
   \                     perRssiBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    142          int8 perRssiBuf3[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 3
   \                     perRssiBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    143          int8 perRssiBuf4[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 4
   \                     perRssiBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    144          
    145          //buf for n-value

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    146          float pernBuf1[8]={0};  // array for storing the n-value of router 1
   \                     pernBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    147          float pernBuf2[8]={0};  // array for storing the n-value of router 2
   \                     pernBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    148          float pernBuf3[8]={0};  // array for storing the n-value of router 3
   \                     pernBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          float pernBuf4[8]={0};  // array for storing the n-value of router 4
   \                     pernBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    150          
    151          //buf for A calibration

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    152          float peraBuf1[8]={0};  // array for storing the n-value of router 1
   \                     peraBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    153          float peraBuf2[8]={0};  // array for storing the n-value of router 2
   \                     peraBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    154          float peraBuf3[8]={0};  // array for storing the n-value of router 3
   \                     peraBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    155          float peraBuf4[8]={0};  // array for storing the n-value of router 4
   \                     peraBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    156          
    157          //temp rssivalue

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    158          int8 rssivalue;         // temporary rssi value
   \                     rssivalue:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    159          
    160          // index for loop innenhalb the window

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    161          int8 i1=0;             
   \                     i1:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    162          int8 i2=0;
   \                     i2:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    163          int8 i3=0;
   \                     i3:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    164          int8 i4=0;
   \                     i4:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    165          
    166          // index for moving filter

   \                                 In  segment XDATA_I, align 1, keep-with-next
    167          int imof1[2]={0,1};
   \                     imof1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    168          int imof2[2]={0,1};
   \                     imof2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    169          int imof3[2]={0,1};
   \                     imof3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    170          int imof4[2]={0,1};
   \                     imof4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof4>`
   \   000004                REQUIRE __INIT_XDATA_I
    171          
    172          // index for moving filter of n value

   \                                 In  segment XDATA_I, align 1, keep-with-next
    173          int nindex1[2]={0,1};
   \                     nindex1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    174          int nindex2[2]={0,1};
   \                     nindex2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    175          int nindex3[2]={0,1};
   \                     nindex3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    176          int nindex4[2]={0,1};
   \                     nindex4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex4>`
   \   000004                REQUIRE __INIT_XDATA_I
    177          
    178          // index for moving filter of a value

   \                                 In  segment XDATA_I, align 1, keep-with-next
    179          int aindex1[2]={0,1};
   \                     aindex1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    180          int aindex2[2]={0,1};
   \                     aindex2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    181          int aindex3[2]={0,1};
   \                     aindex3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    182          int aindex4[2]={0,1};
   \                     aindex4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex4>`
   \   000004                REQUIRE __INIT_XDATA_I
    183          
    184          // sum/average Rssi value

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    185          float sumRssi1=0;
   \                     sumRssi1:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    186          float sumRssi2=0;
   \                     sumRssi2:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    187          float sumRssi3=0;
   \                     sumRssi3:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    188          float sumRssi4=0;
   \                     sumRssi4:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    189          
    190          //localization parameter
    191          //float distance[4]={0,0,0,0};

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    192          float RssiValue[4]={0,0,0,0};                   // array for storing rssi values
   \                     RssiValue:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    193          float nValue[4]={2.0f,2.0f,2.0f,2.0f};       // initialized n parameter   --3.59f,3.94f,2.63f,5.6f 
   \                     nValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for nValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    194          float AValue[4]={51.34f,52.91f,50.28f,51.67f};     // initialized A parameter      ??47.52f,46.53,43.56,43.56  48.28f,52.11f,53.83f,52.27f
   \                     AValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    195          float AnchorX[4]={4.0f, 0.0f, 0.0f, 4.0f};      // router position in x direction in m
   \                     AnchorX:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorX>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    196          float AnchorY[4]={4.0f, 4.0f, 0.0f, 0.0f};      // router position in y direction in m
   \                     AnchorY:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorY>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    197          float AnchorZ[4]={0.7f, 0.7f, 0.7f, 0.7f};      // router position in z direction in m
   \                     AnchorZ:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorZ>`
   \   000010                REQUIRE __INIT_XDATA_I
    198          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    199          float RefAValue[4]={48.0f,54.0f,68.0f,48.6f};  // reference A values for self calibration
   \                     RefAValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for RefAValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    200          float OffsetAValue[4]={0.0f, 0.0f, 0.0f, 0.0f};   // offset compared with reference A values
   \                     OffsetAValue:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z
    201          
    202          //altitude information

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    203          float locationX[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in x direction
   \                     locationX:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    204          float locationY[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in y direction
   \                     locationY:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    205          float locationZ[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in z direction
   \                     locationZ:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z
    206          
    207          //LParameter tempParameter;                       // structure parameter, which is not in used
    208          
    209          // device id

   \                                 In  segment XDATA_I, align 1, keep-with-next
    210          int DeviceID=2;                                 // device id to identify the device
   \                     DeviceID:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for DeviceID>`
   \   000002                REQUIRE __INIT_XDATA_I
    211                                                          // for coordinator meanless; for router is the anchor's id, except id 6,
    212                                                          // which is preparing for tester; for quadrotor, it is the id.
    213          /*********************************************************************
    214           * LOCAL FUNCTIONS
    215           */
    216          // button setting for tester
    217          void SampleApp_HandleKeys( uint8 shift, uint8 keys );
    218          //deal with message(Co)
    219          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    220          //deal with message(Ed)
    221          void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pckt );
    222          //deal with message(Ro)
    223          void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pckt );
    224          //tester reading messages from broadcast
    225          void SampleApp_Tester_calibrationMSGCB(afIncomingMSGPacket_t *pckt );
    226          //router send period message
    227          void SampleApp_Router_SendPeriodicMessage( int index );
    228          //quadrotor send their location in the group
    229          void SampleApp_Quadrotor_SendLocation( int index );
    230          //router calibration n
    231          void SampleApp_Router_calibrationNMessage(int index, float nvalue);
    232          //router calibration A
    233          void SampleApp_Router_calibrationAMessage( int index , float avalue );
    234          //tester calibration A
    235          void SampleApp_Tester_calibrationAMessage( int index , float A );
    236          void SampleApp_Tester_calibration_differentAMessage(int index );
    237          void SampleApp_Tester_calibrationOffsetAMessage(int index, float A);
    238          
    239          //void SampleApp_SendFlashMessage( uint16 flashTime );
    240          //void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg);
    241          
    242          //float gaussianfilter(int8* rssi, int length);
    243          //float averagefilter(int8* rssi, int length);
    244          //float calibrationN(int localID, int index, float rssivalue_f, float AnchorX[4], float AnchorY[4], float AnchorZ[4], float A[4]);
    245          /*********************************************************************
    246           * NETWORK LAYER CALLBACKS
    247           */
    248          
    249          /*********************************************************************
    250           * PUBLIC FUNCTIONS
    251           */
    252          
    253          /*********************************************************************
    254           * @fn      SampleApp_Init
    255           *
    256           * @brief   Initialization function for the Generic App Task.
    257           *          This is called during initialization and should contain
    258           *          any application specific initialization (ie. hardware
    259           *          initialization/setup, table initialization, power up
    260           *          notificaiton ... ).
    261           *
    262           * @param   task_id - the ID assigned by OSAL.  This ID should be
    263           *                    used to send messages and set timers.
    264           *
    265           * @return  none
    266           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    267          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    268          { 
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    269            SampleApp_TaskID = task_id;
   \   000007   EE           MOV     A,R6
   \   000008   90....       MOV     DPTR,#SampleApp_TaskID
   \   00000B   F0           MOVX    @DPTR,A
    270            SampleApp_NwkState = DEV_INIT;
   \   00000C   90....       MOV     DPTR,#SampleApp_NwkState
   \   00000F   7401         MOV     A,#0x1
   \   000011   F0           MOVX    @DPTR,A
    271            SampleApp_TransID = 0;
   \   000012   90....       MOV     DPTR,#SampleApp_TransID
   \   000015   7400         MOV     A,#0x0
   \   000017   F0           MOVX    @DPTR,A
    272            
    273            MT_UartInit();                  //initial uart
   \   000018                ; Setup parameters for call to function MT_UartInit
   \   000018   12....       LCALL   ??MT_UartInit?relay
    274            MT_UartRegisterTaskID(task_id); //register uart task id
   \   00001B                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   00001B   EE           MOV     A,R6
   \   00001C   F9           MOV     R1,A
   \   00001D   12....       LCALL   ??MT_UartRegisterTaskID?relay
    275            HalUARTWrite(0,"UartInit OK\n", sizeof("UartInit OK\n"));// initial uart finish
   \   000020                ; Setup parameters for call to function HalUARTWrite
   \   000020   7C0D         MOV     R4,#0xd
   \   000022   7D00         MOV     R5,#0x0
   \   000024   7A..         MOV     R2,#`?<Constant "UartInit OK\\n">` & 0xff
   \   000026   7B..         MOV     R3,#(`?<Constant "UartInit OK\\n">` >> 8) & 0xff
   \   000028   7900         MOV     R1,#0x0
   \   00002A   12....       LCALL   ??HalUARTWrite?relay
    276            
    277            // Device hardware initialization can be added here or in main() (Zmain.c).
    278            // If the hardware is application specific - add it here.
    279            // If the hardware is other parts of the device add it in main().
    280          
    281           #if defined ( BUILD_ALL_DEVICES )
    282            // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
    283            // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
    284            // together - if they are - we will start up a coordinator. Otherwise,
    285            // the device will start as a router.
    286            if ( readCoordinatorJumper() )
    287              zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
    288            else
    289              zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
    290          #endif // BUILD_ALL_DEVICES
    291          
    292          #if defined ( HOLD_AUTO_START )
    293            // HOLD_AUTO_START is a compile option that will surpress ZDApp
    294            //  from starting the device and wait for the application to
    295            //  start the device.
    296            ZDOInitDevice(0);
    297          #endif
    298          
    299            // Setup for the periodic message's destination address
    300            // Router broadcast to everyone
    301          
    302          
    303            // Setup for the flash command's destination address - Group 1
    304          //  SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
    305          //  SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
    306          //  SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
    307          
    308            // Fill out the endpoint description.
    309            SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
   \   00002D   90....       MOV     DPTR,#SampleApp_epDesc
   \   000030   7414         MOV     A,#0x14
   \   000032   F0           MOVX    @DPTR,A
    310            SampleApp_epDesc.task_id = &SampleApp_TaskID;
   \   000033   90....       MOV     DPTR,#SampleApp_epDesc + 1
   \   000036   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   000038   F0           MOVX    @DPTR,A
   \   000039   A3           INC     DPTR
   \   00003A   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   00003C   F0           MOVX    @DPTR,A
    311            SampleApp_epDesc.simpleDesc
    312                      = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
   \   00003D   90....       MOV     DPTR,#SampleApp_epDesc + 3
   \   000040   74..         MOV     A,#SampleApp_SimpleDesc & 0xff
   \   000042   F0           MOVX    @DPTR,A
   \   000043   A3           INC     DPTR
   \   000044   74..         MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
   \   000046   F0           MOVX    @DPTR,A
    313            SampleApp_epDesc.latencyReq = noLatencyReqs;
   \   000047   90....       MOV     DPTR,#SampleApp_epDesc + 5
   \   00004A   7400         MOV     A,#0x0
   \   00004C   F0           MOVX    @DPTR,A
    314          
    315            // Register the endpoint description with the AF
    316            afRegister( &SampleApp_epDesc );
   \   00004D                ; Setup parameters for call to function afRegister
   \   00004D   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   00004F   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   000051   12....       LCALL   ??afRegister?relay
   \   000054   E9           MOV     A,R1
    317          
    318            // Register for all key events - This app will handle all key events
    319            RegisterForKeys( SampleApp_TaskID );
   \   000055                ; Setup parameters for call to function RegisterForKeys
   \   000055   90....       MOV     DPTR,#SampleApp_TaskID
   \   000058   E0           MOVX    A,@DPTR
   \   000059   F9           MOV     R1,A
   \   00005A   12....       LCALL   ??RegisterForKeys?relay
   \   00005D   E9           MOV     A,R1
    320          
    321            // By default, all devices start out in Group 1
    322            SampleApp_Group_1.ID = SAMPLEAPP_CalN_GROUP; //0x0001
   \   00005E   90....       MOV     DPTR,#SampleApp_Group_1
   \   000061   7401         MOV     A,#0x1
   \   000063   F0           MOVX    @DPTR,A
   \   000064   A3           INC     DPTR
   \   000065   7400         MOV     A,#0x0
   \   000067   F0           MOVX    @DPTR,A
    323            //SampleApp_Group.name[0]=0; or just as bellow
    324            osal_memcpy( SampleApp_Group_1.name, "Group 1", 7 );
   \   000068                ; Setup parameters for call to function osal_memcpy
   \   000068   75....       MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
   \   00006B   75....       MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   00006E   75..00       MOV     ?V0 + 2,#0x0
   \   000071   78..         MOV     R0,#?V0 + 0
   \   000073   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000076   7C07         MOV     R4,#0x7
   \   000078   7D00         MOV     R5,#0x0
   \   00007A   7A..         MOV     R2,#(SampleApp_Group_1 + 2) & 0xff
   \   00007C   7B..         MOV     R3,#((SampleApp_Group_1 + 2) >> 8) & 0xff
   \   00007E   12....       LCALL   ??osal_memcpy?relay
   \   000081   7403         MOV     A,#0x3
   \   000083   12....       LCALL   ?DEALLOC_XSTACK8
    325            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_1 );
   \   000086                ; Setup parameters for call to function aps_AddGroup
   \   000086   7A..         MOV     R2,#SampleApp_Group_1 & 0xff
   \   000088   7B..         MOV     R3,#(SampleApp_Group_1 >> 8) & 0xff
   \   00008A   7914         MOV     R1,#0x14
   \   00008C   12....       LCALL   ??aps_AddGroup?relay
   \   00008F   E9           MOV     A,R1
    326            
    327             // Only end devices and coordinator can joint this Group 2
    328            SampleApp_Group_2.ID = SAMPLEAPP_QUADROTOR_GROUP; //0x0002
   \   000090   90....       MOV     DPTR,#SampleApp_Group_2
   \   000093   7402         MOV     A,#0x2
   \   000095   F0           MOVX    @DPTR,A
   \   000096   A3           INC     DPTR
   \   000097   7400         MOV     A,#0x0
   \   000099   F0           MOVX    @DPTR,A
    329            //SampleApp_Group.name[0]=0; or just as bellow
    330            osal_memcpy( SampleApp_Group_2.name, "Group 2", 7 );
   \   00009A                ; Setup parameters for call to function osal_memcpy
   \   00009A   75....       MOV     ?V0 + 0,#`?<Constant "Group 2">` & 0xff
   \   00009D   75....       MOV     ?V0 + 1,#(`?<Constant "Group 2">` >> 8) & 0xff
   \   0000A0   75..00       MOV     ?V0 + 2,#0x0
   \   0000A3   78..         MOV     R0,#?V0 + 0
   \   0000A5   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A8   7C07         MOV     R4,#0x7
   \   0000AA   7D00         MOV     R5,#0x0
   \   0000AC   7A..         MOV     R2,#(SampleApp_Group_2 + 2) & 0xff
   \   0000AE   7B..         MOV     R3,#((SampleApp_Group_2 + 2) >> 8) & 0xff
   \   0000B0   12....       LCALL   ??osal_memcpy?relay
   \   0000B3   7403         MOV     A,#0x3
   \   0000B5   12....       LCALL   ?DEALLOC_XSTACK8
    331            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_2 );
   \   0000B8                ; Setup parameters for call to function aps_AddGroup
   \   0000B8   7A..         MOV     R2,#SampleApp_Group_2 & 0xff
   \   0000BA   7B..         MOV     R3,#(SampleApp_Group_2 >> 8) & 0xff
   \   0000BC   7914         MOV     R1,#0x14
   \   0000BE   12....       LCALL   ??aps_AddGroup?relay
   \   0000C1   E9           MOV     A,R1
    332          
    333          
    334           
    335          
    336          #if defined ( LCD_SUPPORTED )
    337            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
   \   0000C2                ; Setup parameters for call to function HalLcdWriteString
   \   0000C2   7901         MOV     R1,#0x1
   \   0000C4   7A..         MOV     R2,#`?<Constant "SampleApp">` & 0xff
   \   0000C6   7B..         MOV     R3,#(`?<Constant "SampleApp">` >> 8) & 0xff
   \   0000C8   12....       LCALL   ??HalLcdWriteString?relay
    338          #endif
    339            
    340            
    341          }
   \   0000CB   7F03         MOV     R7,#0x3
   \   0000CD   02....       LJMP    ?BANKED_LEAVE_XDATA
    342          
    343          /*********************************************************************
    344           * @fn      SampleApp_ProcessEvent
    345           *
    346           * @brief   Generic Application Task event processor.  This function
    347           *          is called to process all events for the task.  Events
    348           *          include timers, messages and any other user defined events.
    349           *
    350           * @param   task_id  - The OSAL assigned task ID.
    351           * @param   events - events to process.  This is a bit map and can
    352           *                   contain more than one event.
    353           *
    354           * @return  none
    355           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    356          uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     SampleApp_ProcessEvent:
    357          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 2,R1
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
   \   000009   EB           MOV     A,R3
   \   00000A   FF           MOV     R7,A
    358            afIncomingMSGPacket_t *MSGpkt;
    359            (void)task_id;  // Intentionally unreferenced parameter
    360          
    361            if ( events & SYS_EVENT_MSG )
   \   00000B   EE           MOV     A,R6
   \   00000C   5400         ANL     A,#0x0
   \   00000E   F8           MOV     R0,A
   \   00000F   EF           MOV     A,R7
   \   000010   5480         ANL     A,#0x80
   \   000012   F9           MOV     R1,A
   \   000013   E8           MOV     A,R0
   \   000014   49           ORL     A,R1
   \   000015   7003         JNZ     $+5
   \   000017   02....       LJMP    ??SampleApp_ProcessEvent_0 & 0xFFFF
    362            {
    363              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00001A                ; Setup parameters for call to function osal_msg_receive
   \   00001A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F9           MOV     R1,A
   \   00001F   12....       LCALL   ??osal_msg_receive?relay
   \   000022   8A..         MOV     ?V0 + 4,R2
   \   000024   8B..         MOV     ?V0 + 5,R3
   \   000026   85....       MOV     ?V0 + 0,?V0 + 4
   \   000029   85....       MOV     ?V0 + 1,?V0 + 5
    364              while ( MSGpkt )
   \                     ??SampleApp_ProcessEvent_1:
   \   00002C   E5..         MOV     A,?V0 + 0
   \   00002E   45..         ORL     A,?V0 + 1
   \   000030   7003         JNZ     $+5
   \   000032   02....       LJMP    ??SampleApp_ProcessEvent_2 & 0xFFFF
    365              {
    366                switch ( MSGpkt->hdr.event )
   \   000035   85..82       MOV     DPL,?V0 + 0
   \   000038   85..83       MOV     DPH,?V0 + 1
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   24E6         ADD     A,#-0x1a
   \   00003E   6026         JZ      ??SampleApp_ProcessEvent_3
   \   000040   245A         ADD     A,#0x5a
   \   000042   6007         JZ      ??SampleApp_ProcessEvent_4
   \   000044   24EF         ADD     A,#-0x11
   \   000046   6077         JZ      ??SampleApp_ProcessEvent_5
   \   000048   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    367                {        
    368                  // Received when a key is pressed
    369                  case KEY_CHANGE:
    370                    SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
   \                     ??SampleApp_ProcessEvent_4:
   \   00004B                ; Setup parameters for call to function SampleApp_HandleKeys
   \   00004B   85..82       MOV     DPL,?V0 + 0
   \   00004E   85..83       MOV     DPH,?V0 + 1
   \   000051   A3           INC     DPTR
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   E0           MOVX    A,@DPTR
   \   000055   FA           MOV     R2,A
   \   000056   85..82       MOV     DPL,?V0 + 0
   \   000059   85..83       MOV     DPH,?V0 + 1
   \   00005C   A3           INC     DPTR
   \   00005D   A3           INC     DPTR
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   F9           MOV     R1,A
   \   000060   12....       LCALL   ??SampleApp_HandleKeys?relay
    371                    break;
   \   000063   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    372          
    373                  // Received when a messages is received (OTA) for this endpoint
    374                  case AF_INCOMING_MSG_CMD:
    375                            if ( (SampleApp_NwkState == DEV_ZB_COORD)  // coordinator deals with incoming messages
    376                                )
   \                     ??SampleApp_ProcessEvent_3:
   \   000066   90....       MOV     DPTR,#SampleApp_NwkState
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   6409         XRL     A,#0x9
   \   00006C   7009         JNZ     ??SampleApp_ProcessEvent_7
    377                            {
    378                             SampleApp_MessageMSGCB( MSGpkt );
   \   00006E                ; Setup parameters for call to function SampleApp_MessageMSGCB
   \   00006E   AA..         MOV     R2,?V0 + 0
   \   000070   AB..         MOV     R3,?V0 + 1
   \   000072   12....       LCALL   ??SampleApp_MessageMSGCB?relay
   \   000075   8045         SJMP    ??SampleApp_ProcessEvent_8
    379                            }
    380                            else if((SampleApp_NwkState == DEV_END_DEVICE)) // end device deals with incoming messages
   \                     ??SampleApp_ProcessEvent_7:
   \   000077   90....       MOV     DPTR,#SampleApp_NwkState
   \   00007A   E0           MOVX    A,@DPTR
   \   00007B   6406         XRL     A,#0x6
   \   00007D   7009         JNZ     ??SampleApp_ProcessEvent_9
    381                            {
    382                             
    383                              SampleApp_QuadrotorMSGCB(MSGpkt);
   \   00007F                ; Setup parameters for call to function SampleApp_QuadrotorMSGCB
   \   00007F   AA..         MOV     R2,?V0 + 0
   \   000081   AB..         MOV     R3,?V0 + 1
   \   000083   12....       LCALL   ??SampleApp_QuadrotorMSGCB?relay
   \   000086   8034         SJMP    ??SampleApp_ProcessEvent_8
    384                             
    385                            }
    386                             else if(SampleApp_NwkState == DEV_ROUTER)      // router deals with incoming messages
   \                     ??SampleApp_ProcessEvent_9:
   \   000088   90....       MOV     DPTR,#SampleApp_NwkState
   \   00008B   E0           MOVX    A,@DPTR
   \   00008C   6407         XRL     A,#0x7
   \   00008E   702C         JNZ     ??SampleApp_ProcessEvent_8
    387                            {
    388                               if(DeviceID!=6&&DeviceID!=8)
   \   000090   90....       MOV     DPTR,#DeviceID
   \   000093   E0           MOVX    A,@DPTR
   \   000094   6406         XRL     A,#0x6
   \   000096   7004         JNZ     ??SampleApp_ProcessEvent_10
   \   000098   A3           INC     DPTR
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_10:
   \   00009C   6017         JZ      ??SampleApp_ProcessEvent_11
   \   00009E   90....       MOV     DPTR,#DeviceID
   \   0000A1   E0           MOVX    A,@DPTR
   \   0000A2   6408         XRL     A,#0x8
   \   0000A4   7004         JNZ     ??SampleApp_ProcessEvent_12
   \   0000A6   A3           INC     DPTR
   \   0000A7   E0           MOVX    A,@DPTR
   \   0000A8   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_12:
   \   0000AA   6009         JZ      ??SampleApp_ProcessEvent_11
    389                              SampleApp_AnchorMSGCB(MSGpkt);
   \   0000AC                ; Setup parameters for call to function SampleApp_AnchorMSGCB
   \   0000AC   AA..         MOV     R2,?V0 + 0
   \   0000AE   AB..         MOV     R3,?V0 + 1
   \   0000B0   12....       LCALL   ??SampleApp_AnchorMSGCB?relay
   \   0000B3   8007         SJMP    ??SampleApp_ProcessEvent_8
    390                               else
    391                               SampleApp_Tester_calibrationMSGCB(MSGpkt);   // sepcial router device
   \                     ??SampleApp_ProcessEvent_11:
   \   0000B5                ; Setup parameters for call to function SampleApp_Tester_calibrationMSGCB
   \   0000B5   AA..         MOV     R2,?V0 + 0
   \   0000B7   AB..         MOV     R3,?V0 + 1
   \   0000B9   12....       LCALL   ??SampleApp_Tester_calibrationMSGCB?relay
    392                            }
    393          //                  else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID==6))
    394          //                  {
    395          //                    SampleApp_Tester_calibrationMSGCB(MSGpkt);
    396          //                  }
    397                              
    398                    break;
   \                     ??SampleApp_ProcessEvent_8:
   \   0000BC   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
    399          
    400                  case ZDO_STATE_CHANGE:
    401                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \                     ??SampleApp_ProcessEvent_5:
   \   0000BF   85..82       MOV     DPL,?V0 + 0
   \   0000C2   85..83       MOV     DPH,?V0 + 1
   \   0000C5   A3           INC     DPTR
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   90....       MOV     DPTR,#SampleApp_NwkState
   \   0000CA   F0           MOVX    @DPTR,A
    402                    if ( //(SampleApp_NwkState == DEV_ZB_COORD) ||
    403                           (SampleApp_NwkState == DEV_ROUTER)&&(DeviceID!=6)&&(DeviceID!=8)
    404                       //|| (SampleApp_NwkState == DEV_END_DEVICE)
    405                            
    406                        )
   \   0000CB   90....       MOV     DPTR,#SampleApp_NwkState
   \   0000CE   E0           MOVX    A,@DPTR
   \   0000CF   6407         XRL     A,#0x7
   \   0000D1   702F         JNZ     ??SampleApp_ProcessEvent_13
   \   0000D3   90....       MOV     DPTR,#DeviceID
   \   0000D6   E0           MOVX    A,@DPTR
   \   0000D7   6406         XRL     A,#0x6
   \   0000D9   7004         JNZ     ??SampleApp_ProcessEvent_14
   \   0000DB   A3           INC     DPTR
   \   0000DC   E0           MOVX    A,@DPTR
   \   0000DD   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_14:
   \   0000DF   6021         JZ      ??SampleApp_ProcessEvent_13
   \   0000E1   90....       MOV     DPTR,#DeviceID
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   6408         XRL     A,#0x8
   \   0000E7   7004         JNZ     ??SampleApp_ProcessEvent_15
   \   0000E9   A3           INC     DPTR
   \   0000EA   E0           MOVX    A,@DPTR
   \   0000EB   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_15:
   \   0000ED   6013         JZ      ??SampleApp_ProcessEvent_13
    407                    {
    408                      // Start sending the periodic message in a regular interval.
    409                      osal_start_timerEx( SampleApp_TaskID,
    410                                        SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    411                                        SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
   \   0000EF                ; Setup parameters for call to function osal_start_timerEx
   \   0000EF   7C1E         MOV     R4,#0x1e
   \   0000F1   7D00         MOV     R5,#0x0
   \   0000F3   7A01         MOV     R2,#0x1
   \   0000F5   7B00         MOV     R3,#0x0
   \   0000F7   90....       MOV     DPTR,#SampleApp_TaskID
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   F9           MOV     R1,A
   \   0000FC   12....       LCALL   ??osal_start_timerEx?relay
   \   0000FF   E9           MOV     A,R1
   \   000100   8079         SJMP    ??SampleApp_ProcessEvent_6
    412                         
    413                    }
    414                    else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==8))    // for special router
   \                     ??SampleApp_ProcessEvent_13:
   \   000102   90....       MOV     DPTR,#SampleApp_NwkState
   \   000105   E0           MOVX    A,@DPTR
   \   000106   6407         XRL     A,#0x7
   \   000108   7021         JNZ     ??SampleApp_ProcessEvent_16
   \   00010A   90....       MOV     DPTR,#DeviceID
   \   00010D   E0           MOVX    A,@DPTR
   \   00010E   6408         XRL     A,#0x8
   \   000110   7004         JNZ     ??SampleApp_ProcessEvent_17
   \   000112   A3           INC     DPTR
   \   000113   E0           MOVX    A,@DPTR
   \   000114   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_17:
   \   000116   7013         JNZ     ??SampleApp_ProcessEvent_16
    415                    {
    416                      osal_start_timerEx( SampleApp_TaskID,
    417                                        SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    418                                        SAMPLEAPP_SEND_PERIODIC_TESTER );
   \   000118                ; Setup parameters for call to function osal_start_timerEx
   \   000118   7C64         MOV     R4,#0x64
   \   00011A   7D00         MOV     R5,#0x0
   \   00011C   7A03         MOV     R2,#0x3
   \   00011E   7B00         MOV     R3,#0x0
   \   000120   90....       MOV     DPTR,#SampleApp_TaskID
   \   000123   E0           MOVX    A,@DPTR
   \   000124   F9           MOV     R1,A
   \   000125   12....       LCALL   ??osal_start_timerEx?relay
   \   000128   E9           MOV     A,R1
   \   000129   8050         SJMP    ??SampleApp_ProcessEvent_6
    419                    }
    420                    else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==6))    // for special fixed router
   \                     ??SampleApp_ProcessEvent_16:
   \   00012B   90....       MOV     DPTR,#SampleApp_NwkState
   \   00012E   E0           MOVX    A,@DPTR
   \   00012F   6407         XRL     A,#0x7
   \   000131   7021         JNZ     ??SampleApp_ProcessEvent_18
   \   000133   90....       MOV     DPTR,#DeviceID
   \   000136   E0           MOVX    A,@DPTR
   \   000137   6406         XRL     A,#0x6
   \   000139   7004         JNZ     ??SampleApp_ProcessEvent_19
   \   00013B   A3           INC     DPTR
   \   00013C   E0           MOVX    A,@DPTR
   \   00013D   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_19:
   \   00013F   7013         JNZ     ??SampleApp_ProcessEvent_18
    421                    {
    422                      osal_start_timerEx( SampleApp_TaskID,
    423                                        SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    424                                        SAMPLEAPP_SEND_PERIODIC_TESTER );
   \   000141                ; Setup parameters for call to function osal_start_timerEx
   \   000141   7C64         MOV     R4,#0x64
   \   000143   7D00         MOV     R5,#0x0
   \   000145   7A03         MOV     R2,#0x3
   \   000147   7B00         MOV     R3,#0x0
   \   000149   90....       MOV     DPTR,#SampleApp_TaskID
   \   00014C   E0           MOVX    A,@DPTR
   \   00014D   F9           MOV     R1,A
   \   00014E   12....       LCALL   ??osal_start_timerEx?relay
   \   000151   E9           MOV     A,R1
   \   000152   8027         SJMP    ??SampleApp_ProcessEvent_6
    425                    }
    426                    else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID!=6))  // for end devices
   \                     ??SampleApp_ProcessEvent_18:
   \   000154   90....       MOV     DPTR,#SampleApp_NwkState
   \   000157   E0           MOVX    A,@DPTR
   \   000158   6406         XRL     A,#0x6
   \   00015A   701F         JNZ     ??SampleApp_ProcessEvent_6
   \   00015C   90....       MOV     DPTR,#DeviceID
   \   00015F   E0           MOVX    A,@DPTR
   \   000160   6406         XRL     A,#0x6
   \   000162   7004         JNZ     ??SampleApp_ProcessEvent_20
   \   000164   A3           INC     DPTR
   \   000165   E0           MOVX    A,@DPTR
   \   000166   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_20:
   \   000168   6011         JZ      ??SampleApp_ProcessEvent_6
    427                    {
    428                        //Start sending quadrotor location after calculation
    429                         osal_start_timerEx( SampleApp_TaskID,
    430                                        SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
    431                                        SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT );
   \   00016A                ; Setup parameters for call to function osal_start_timerEx
   \   00016A   7C2C         MOV     R4,#0x2c
   \   00016C   7D01         MOV     R5,#0x1
   \   00016E   7A02         MOV     R2,#0x2
   \   000170   7B00         MOV     R3,#0x0
   \   000172   90....       MOV     DPTR,#SampleApp_TaskID
   \   000175   E0           MOVX    A,@DPTR
   \   000176   F9           MOV     R1,A
   \   000177   12....       LCALL   ??osal_start_timerEx?relay
   \   00017A   E9           MOV     A,R1
    432                            
    433                    }
    434                    else
    435                    {
    436                      // Device is no longer in the network
    437                    }
    438                    break;
    439          
    440                  default:
    441                    break;
    442                }
    443          
    444                // Release the memory
    445                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??SampleApp_ProcessEvent_6:
   \   00017B                ; Setup parameters for call to function osal_msg_deallocate
   \   00017B   AA..         MOV     R2,?V0 + 0
   \   00017D   AB..         MOV     R3,?V0 + 1
   \   00017F   12....       LCALL   ??osal_msg_deallocate?relay
   \   000182   E9           MOV     A,R1
    446          
    447                // Next - if one is available
    448                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   000183                ; Setup parameters for call to function osal_msg_receive
   \   000183   90....       MOV     DPTR,#SampleApp_TaskID
   \   000186   E0           MOVX    A,@DPTR
   \   000187   F9           MOV     R1,A
   \   000188   12....       LCALL   ??osal_msg_receive?relay
   \   00018B   8A..         MOV     ?V0 + 4,R2
   \   00018D   8B..         MOV     ?V0 + 5,R3
   \   00018F   85....       MOV     ?V0 + 0,?V0 + 4
   \   000192   85....       MOV     ?V0 + 1,?V0 + 5
   \   000195   02....       LJMP    ??SampleApp_ProcessEvent_1 & 0xFFFF
    449              }
    450          
    451              // return unprocessed events
    452              return (events ^ SYS_EVENT_MSG);
   \                     ??SampleApp_ProcessEvent_2:
   \   000198   EE           MOV     A,R6
   \   000199   6400         XRL     A,#0x0
   \   00019B   FA           MOV     R2,A
   \   00019C   EF           MOV     A,R7
   \   00019D   6480         XRL     A,#0x80
   \   00019F   FB           MOV     R3,A
   \   0001A0   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
    453            }
    454          
    455            // Send a message out - This event is generated by a timer
    456            //  (setup in SampleApp_Init()).
    457            // anchor sends period message to help ed to localise itself 
    458            if ( (events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT)&&(DeviceID!=6)&&(DeviceID!=8) )
   \                     ??SampleApp_ProcessEvent_0:
   \   0001A3   EE           MOV     A,R6
   \   0001A4   A2E0         MOV     C,0xE0 /* A   */.0
   \   0001A6   505C         JNC     ??SampleApp_ProcessEvent_22
   \   0001A8   90....       MOV     DPTR,#DeviceID
   \   0001AB   E0           MOVX    A,@DPTR
   \   0001AC   6406         XRL     A,#0x6
   \   0001AE   7004         JNZ     ??SampleApp_ProcessEvent_23
   \   0001B0   A3           INC     DPTR
   \   0001B1   E0           MOVX    A,@DPTR
   \   0001B2   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_23:
   \   0001B4   604E         JZ      ??SampleApp_ProcessEvent_22
   \   0001B6   90....       MOV     DPTR,#DeviceID
   \   0001B9   E0           MOVX    A,@DPTR
   \   0001BA   6408         XRL     A,#0x8
   \   0001BC   7004         JNZ     ??SampleApp_ProcessEvent_24
   \   0001BE   A3           INC     DPTR
   \   0001BF   E0           MOVX    A,@DPTR
   \   0001C0   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_24:
   \   0001C2   6040         JZ      ??SampleApp_ProcessEvent_22
    459            {
    460              // Send the periodic message
    461              SampleApp_Router_SendPeriodicMessage(DeviceID);
   \   0001C4                ; Setup parameters for call to function SampleApp_Router_SendPeriodicMessage
   \   0001C4   90....       MOV     DPTR,#DeviceID
   \   0001C7   E0           MOVX    A,@DPTR
   \   0001C8   FA           MOV     R2,A
   \   0001C9   A3           INC     DPTR
   \   0001CA   E0           MOVX    A,@DPTR
   \   0001CB   FB           MOV     R3,A
   \   0001CC   12....       LCALL   ??SampleApp_Router_SendPeriodicMessage?relay
    462          
    463              // Setup to send message again in normal period (+ a little jitter)
    464              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    465                  (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x0003)) );
   \   0001CF                ; Setup parameters for call to function osal_rand
   \   0001CF   12....       LCALL   ??osal_rand?relay
   \   0001D2   8A..         MOV     ?V0 + 4,R2
   \   0001D4   8B..         MOV     ?V0 + 5,R3
   \   0001D6   A8..         MOV     R0,?V0 + 4
   \   0001D8   A9..         MOV     R1,?V0 + 5
   \   0001DA                ; Setup parameters for call to function osal_start_timerEx
   \   0001DA   E5..         MOV     A,?V0 + 4
   \   0001DC   5403         ANL     A,#0x3
   \   0001DE   F8           MOV     R0,A
   \   0001DF   E5..         MOV     A,?V0 + 5
   \   0001E1   5400         ANL     A,#0x0
   \   0001E3   F9           MOV     R1,A
   \   0001E4   E8           MOV     A,R0
   \   0001E5   241E         ADD     A,#0x1e
   \   0001E7   FC           MOV     R4,A
   \   0001E8   E9           MOV     A,R1
   \   0001E9   3400         ADDC    A,#0x0
   \   0001EB   FD           MOV     R5,A
   \   0001EC   7A01         MOV     R2,#0x1
   \   0001EE   7B00         MOV     R3,#0x0
   \   0001F0   90....       MOV     DPTR,#SampleApp_TaskID
   \   0001F3   E0           MOVX    A,@DPTR
   \   0001F4   F9           MOV     R1,A
   \   0001F5   12....       LCALL   ??osal_start_timerEx?relay
   \   0001F8   E9           MOV     A,R1
    466          
    467              // return unprocessed events
    468              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \   0001F9   EE           MOV     A,R6
   \   0001FA   6401         XRL     A,#0x1
   \   0001FC   FA           MOV     R2,A
   \   0001FD   EF           MOV     A,R7
   \   0001FE   6400         XRL     A,#0x0
   \   000200   FB           MOV     R3,A
   \   000201   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
    469            }
    470            
    471            // special anchor with id = 8
    472              if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==8) )
   \                     ??SampleApp_ProcessEvent_22:
   \   000204   EE           MOV     A,R6
   \   000205   5403         ANL     A,#0x3
   \   000207   6078         JZ      ??SampleApp_ProcessEvent_25
   \   000209   90....       MOV     DPTR,#DeviceID
   \   00020C   E0           MOVX    A,@DPTR
   \   00020D   6408         XRL     A,#0x8
   \   00020F   7004         JNZ     ??SampleApp_ProcessEvent_26
   \   000211   A3           INC     DPTR
   \   000212   E0           MOVX    A,@DPTR
   \   000213   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_26:
   \   000215   706A         JNZ     ??SampleApp_ProcessEvent_25
    473            {
    474              static int index;
    475              if (index<5)
   \   000217   90....       MOV     DPTR,#??index
   \   00021A   C3           CLR     C
   \   00021B   E0           MOVX    A,@DPTR
   \   00021C   9405         SUBB    A,#0x5
   \   00021E   A3           INC     DPTR
   \   00021F   E0           MOVX    A,@DPTR
   \   000220   9400         SUBB    A,#0x0
   \   000222   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000224   65D0         XRL     A,PSW
   \   000226   33           RLC     A
   \   000227   5019         JNC     ??SampleApp_ProcessEvent_27
    476              // Send the periodic message
    477              {
    478                SampleApp_Tester_calibration_differentAMessage(index);
   \   000229                ; Setup parameters for call to function SampleApp_Tester_calibration_differentAMessage
   \   000229   90....       MOV     DPTR,#??index
   \   00022C   E0           MOVX    A,@DPTR
   \   00022D   FA           MOV     R2,A
   \   00022E   A3           INC     DPTR
   \   00022F   E0           MOVX    A,@DPTR
   \   000230   FB           MOV     R3,A
   \   000231   12....       LCALL   ??SampleApp_Tester_calibration_differentAMessag
    479                index++;  // move to next devices
   \   000234   90....       MOV     DPTR,#??index
   \   000237   E0           MOVX    A,@DPTR
   \   000238   2401         ADD     A,#0x1
   \   00023A   F0           MOVX    @DPTR,A
   \   00023B   A3           INC     DPTR
   \   00023C   E0           MOVX    A,@DPTR
   \   00023D   3400         ADDC    A,#0x0
   \   00023F   F0           MOVX    @DPTR,A
   \   000240   800A         SJMP    ??SampleApp_ProcessEvent_28
    480              }
    481              else
    482              {index=1;}
   \                     ??SampleApp_ProcessEvent_27:
   \   000242   90....       MOV     DPTR,#??index
   \   000245   7401         MOV     A,#0x1
   \   000247   F0           MOVX    @DPTR,A
   \   000248   A3           INC     DPTR
   \   000249   7400         MOV     A,#0x0
   \   00024B   F0           MOVX    @DPTR,A
    483              // Setup to send message again in normal period (+ a little jitter)
    484              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    485                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
   \                     ??SampleApp_ProcessEvent_28:
   \   00024C                ; Setup parameters for call to function osal_rand
   \   00024C   12....       LCALL   ??osal_rand?relay
   \   00024F   8A..         MOV     ?V0 + 4,R2
   \   000251   8B..         MOV     ?V0 + 5,R3
   \   000253   A8..         MOV     R0,?V0 + 4
   \   000255   A9..         MOV     R1,?V0 + 5
   \   000257                ; Setup parameters for call to function osal_start_timerEx
   \   000257   E5..         MOV     A,?V0 + 4
   \   000259   5402         ANL     A,#0x2
   \   00025B   F8           MOV     R0,A
   \   00025C   E5..         MOV     A,?V0 + 5
   \   00025E   5400         ANL     A,#0x0
   \   000260   F9           MOV     R1,A
   \   000261   E8           MOV     A,R0
   \   000262   242C         ADD     A,#0x2c
   \   000264   FC           MOV     R4,A
   \   000265   E9           MOV     A,R1
   \   000266   3401         ADDC    A,#0x1
   \   000268   FD           MOV     R5,A
   \   000269   7A03         MOV     R2,#0x3
   \   00026B   7B00         MOV     R3,#0x0
   \   00026D   90....       MOV     DPTR,#SampleApp_TaskID
   \   000270   E0           MOVX    A,@DPTR
   \   000271   F9           MOV     R1,A
   \   000272   12....       LCALL   ??osal_start_timerEx?relay
   \   000275   E9           MOV     A,R1
    486          
    487              // return unprocessed events
    488              return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
   \   000276   EE           MOV     A,R6
   \   000277   6403         XRL     A,#0x3
   \   000279   FA           MOV     R2,A
   \   00027A   EF           MOV     A,R7
   \   00027B   6400         XRL     A,#0x0
   \   00027D   FB           MOV     R3,A
   \   00027E   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
    489            }
    490          
    491             // special anchor with id = 6
    492              if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==6) )
   \                     ??SampleApp_ProcessEvent_25:
   \   000281   EE           MOV     A,R6
   \   000282   5403         ANL     A,#0x3
   \   000284   7003         JNZ     $+5
   \   000286   02....       LJMP    ??SampleApp_ProcessEvent_29 & 0xFFFF
   \   000289   90....       MOV     DPTR,#DeviceID
   \   00028C   E0           MOVX    A,@DPTR
   \   00028D   6406         XRL     A,#0x6
   \   00028F   7004         JNZ     ??SampleApp_ProcessEvent_30
   \   000291   A3           INC     DPTR
   \   000292   E0           MOVX    A,@DPTR
   \   000293   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_30:
   \   000295   6003         JZ      $+5
   \   000297   02....       LJMP    ??SampleApp_ProcessEvent_29 & 0xFFFF
    493            {
    494              static int index;
    495              if (index<5)
   \   00029A   90....       MOV     DPTR,#??index_1
   \   00029D   C3           CLR     C
   \   00029E   E0           MOVX    A,@DPTR
   \   00029F   9405         SUBB    A,#0x5
   \   0002A1   A3           INC     DPTR
   \   0002A2   E0           MOVX    A,@DPTR
   \   0002A3   9400         SUBB    A,#0x0
   \   0002A5   A2D2         MOV     C,0xD0 /* PSW */.2
   \   0002A7   65D0         XRL     A,PSW
   \   0002A9   33           RLC     A
   \   0002AA   5048         JNC     ??SampleApp_ProcessEvent_31
    496              // Send the periodic message
    497              {
    498               SampleApp_Tester_calibrationOffsetAMessage(index, OffsetAValue[index-1]);
   \   0002AC                ; Setup parameters for call to function SampleApp_Tester_calibrationOffsetAMessage
   \   0002AC   90....       MOV     DPTR,#??index_1
   \   0002AF   E0           MOVX    A,@DPTR
   \   0002B0   F8           MOV     R0,A
   \   0002B1   A3           INC     DPTR
   \   0002B2   E0           MOVX    A,@DPTR
   \   0002B3   F9           MOV     R1,A
   \   0002B4   E8           MOV     A,R0
   \   0002B5   75F004       MOV     B,#0x4
   \   0002B8   A4           MUL     AB
   \   0002B9   C8           XCH     A,R0
   \   0002BA   AAF0         MOV     R2,B
   \   0002BC   75F000       MOV     B,#0x0
   \   0002BF   A4           MUL     AB
   \   0002C0   2A           ADD     A,R2
   \   0002C1   FA           MOV     R2,A
   \   0002C2   75F004       MOV     B,#0x4
   \   0002C5   E9           MOV     A,R1
   \   0002C6   A4           MUL     AB
   \   0002C7   2A           ADD     A,R2
   \   0002C8   F9           MOV     R1,A
   \   0002C9   74..         MOV     A,#(OffsetAValue + 252) & 0xff
   \   0002CB   28           ADD     A,R0
   \   0002CC   F582         MOV     DPL,A
   \   0002CE   74..         MOV     A,#((OffsetAValue - 4) >> 8) & 0xff
   \   0002D0   39           ADDC    A,R1
   \   0002D1   F583         MOV     DPH,A
   \   0002D3   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0002D6   90....       MOV     DPTR,#??index_1
   \   0002D9   E0           MOVX    A,@DPTR
   \   0002DA   FA           MOV     R2,A
   \   0002DB   A3           INC     DPTR
   \   0002DC   E0           MOVX    A,@DPTR
   \   0002DD   FB           MOV     R3,A
   \   0002DE   12....       LCALL   ??SampleApp_Tester_calibrationOffsetAMessage?re
   \   0002E1   7404         MOV     A,#0x4
   \   0002E3   12....       LCALL   ?DEALLOC_XSTACK8
    499                index++;  // move to next devices
   \   0002E6   90....       MOV     DPTR,#??index_1
   \   0002E9   E0           MOVX    A,@DPTR
   \   0002EA   2401         ADD     A,#0x1
   \   0002EC   F0           MOVX    @DPTR,A
   \   0002ED   A3           INC     DPTR
   \   0002EE   E0           MOVX    A,@DPTR
   \   0002EF   3400         ADDC    A,#0x0
   \   0002F1   F0           MOVX    @DPTR,A
   \   0002F2   800A         SJMP    ??SampleApp_ProcessEvent_32
    500              }
    501              else
    502              {
    503                index=1;
   \                     ??SampleApp_ProcessEvent_31:
   \   0002F4   90....       MOV     DPTR,#??index_1
   \   0002F7   7401         MOV     A,#0x1
   \   0002F9   F0           MOVX    @DPTR,A
   \   0002FA   A3           INC     DPTR
   \   0002FB   7400         MOV     A,#0x0
   \   0002FD   F0           MOVX    @DPTR,A
    504              }
    505              // Setup to send message again in normal period (+ a little jitter)
    506              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    507                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
   \                     ??SampleApp_ProcessEvent_32:
   \   0002FE                ; Setup parameters for call to function osal_rand
   \   0002FE   12....       LCALL   ??osal_rand?relay
   \   000301   8A..         MOV     ?V0 + 4,R2
   \   000303   8B..         MOV     ?V0 + 5,R3
   \   000305   A8..         MOV     R0,?V0 + 4
   \   000307   A9..         MOV     R1,?V0 + 5
   \   000309                ; Setup parameters for call to function osal_start_timerEx
   \   000309   E5..         MOV     A,?V0 + 4
   \   00030B   5402         ANL     A,#0x2
   \   00030D   F8           MOV     R0,A
   \   00030E   E5..         MOV     A,?V0 + 5
   \   000310   5400         ANL     A,#0x0
   \   000312   F9           MOV     R1,A
   \   000313   E8           MOV     A,R0
   \   000314   242C         ADD     A,#0x2c
   \   000316   FC           MOV     R4,A
   \   000317   E9           MOV     A,R1
   \   000318   3401         ADDC    A,#0x1
   \   00031A   FD           MOV     R5,A
   \   00031B   7A03         MOV     R2,#0x3
   \   00031D   7B00         MOV     R3,#0x0
   \   00031F   90....       MOV     DPTR,#SampleApp_TaskID
   \   000322   E0           MOVX    A,@DPTR
   \   000323   F9           MOV     R1,A
   \   000324   12....       LCALL   ??osal_start_timerEx?relay
   \   000327   E9           MOV     A,R1
    508          
    509              // return unprocessed events
    510              return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
   \   000328   EE           MOV     A,R6
   \   000329   6403         XRL     A,#0x3
   \   00032B   FA           MOV     R2,A
   \   00032C   EF           MOV     A,R7
   \   00032D   6400         XRL     A,#0x0
   \   00032F   FB           MOV     R3,A
   \   000330   8056         SJMP    ??SampleApp_ProcessEvent_21
    511            }
    512            
    513            
    514             // Send a location message out (ED)
    515              if ( (events & SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT)&&(DeviceID!=6) )
   \                     ??SampleApp_ProcessEvent_29:
   \   000332   EE           MOV     A,R6
   \   000333   5402         ANL     A,#0x2
   \   000335   604D         JZ      ??SampleApp_ProcessEvent_33
   \   000337   90....       MOV     DPTR,#DeviceID
   \   00033A   E0           MOVX    A,@DPTR
   \   00033B   6406         XRL     A,#0x6
   \   00033D   7004         JNZ     ??SampleApp_ProcessEvent_34
   \   00033F   A3           INC     DPTR
   \   000340   E0           MOVX    A,@DPTR
   \   000341   6400         XRL     A,#0x0
   \                     ??SampleApp_ProcessEvent_34:
   \   000343   603F         JZ      ??SampleApp_ProcessEvent_33
    516            {
    517              // Send the periodic message
    518              SampleApp_Quadrotor_SendLocation(DeviceID);
   \   000345                ; Setup parameters for call to function SampleApp_Quadrotor_SendLocation
   \   000345   90....       MOV     DPTR,#DeviceID
   \   000348   E0           MOVX    A,@DPTR
   \   000349   FA           MOV     R2,A
   \   00034A   A3           INC     DPTR
   \   00034B   E0           MOVX    A,@DPTR
   \   00034C   FB           MOV     R3,A
   \   00034D   12....       LCALL   ??SampleApp_Quadrotor_SendLocation?relay
    519          
    520              // Setup to send message again in normal period (+ a little jitter)
    521              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
    522                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x000E)) );
   \   000350                ; Setup parameters for call to function osal_rand
   \   000350   12....       LCALL   ??osal_rand?relay
   \   000353   8A..         MOV     ?V0 + 4,R2
   \   000355   8B..         MOV     ?V0 + 5,R3
   \   000357   A8..         MOV     R0,?V0 + 4
   \   000359   A9..         MOV     R1,?V0 + 5
   \   00035B                ; Setup parameters for call to function osal_start_timerEx
   \   00035B   E5..         MOV     A,?V0 + 4
   \   00035D   540E         ANL     A,#0xe
   \   00035F   F8           MOV     R0,A
   \   000360   E5..         MOV     A,?V0 + 5
   \   000362   5400         ANL     A,#0x0
   \   000364   F9           MOV     R1,A
   \   000365   E8           MOV     A,R0
   \   000366   242C         ADD     A,#0x2c
   \   000368   FC           MOV     R4,A
   \   000369   E9           MOV     A,R1
   \   00036A   3401         ADDC    A,#0x1
   \   00036C   FD           MOV     R5,A
   \   00036D   7A02         MOV     R2,#0x2
   \   00036F   7B00         MOV     R3,#0x0
   \   000371   90....       MOV     DPTR,#SampleApp_TaskID
   \   000374   E0           MOVX    A,@DPTR
   \   000375   F9           MOV     R1,A
   \   000376   12....       LCALL   ??osal_start_timerEx?relay
   \   000379   E9           MOV     A,R1
    523          
    524              // return unprocessed events
    525              return (events ^ SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT);
   \   00037A   EE           MOV     A,R6
   \   00037B   6402         XRL     A,#0x2
   \   00037D   FA           MOV     R2,A
   \   00037E   EF           MOV     A,R7
   \   00037F   6400         XRL     A,#0x0
   \   000381   FB           MOV     R3,A
   \   000382   8004         SJMP    ??SampleApp_ProcessEvent_21
    526            }
    527            
    528            
    529            
    530            // Discard unknown events
    531            return 0;
   \                     ??SampleApp_ProcessEvent_33:
   \   000384   7A00         MOV     R2,#0x0
   \   000386   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_21:
   \   000388   7F06         MOV     R7,#0x6
   \   00038A   02....       LJMP    ?BANKED_LEAVE_XDATA
    532          }

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??index:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??index_1:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    533          
    534          /*********************************************************************
    535           * Event Generation Functions
    536           */
    537          /*********************************************************************
    538           * @fn      SampleApp_HandleKeys
    539           *
    540           * @brief   Handles all key events for this device.
    541           *
    542           * @param   shift - true if in shift/alt.
    543           * @param   keys - bit field for key events. Valid entries:
    544           *                 HAL_KEY_SW_2
    545           *                 HAL_KEY_SW_1
    546           *
    547           * @return  none
    548           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    549          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    550          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
   \   000007   EA           MOV     A,R2
   \   000008   FF           MOV     R7,A
    551            (void)shift;  // Intentionally unreferenced parameter
    552            
    553            if ( keys & HAL_KEY_SW_1 && (DeviceID==6))
   \   000009   A2E0         MOV     C,0xE0 /* A   */.0
   \   00000B   5072         JNC     ??SampleApp_HandleKeys_0
   \   00000D   90....       MOV     DPTR,#DeviceID
   \   000010   E0           MOVX    A,@DPTR
   \   000011   6406         XRL     A,#0x6
   \   000013   7004         JNZ     ??SampleApp_HandleKeys_1
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   6400         XRL     A,#0x0
   \                     ??SampleApp_HandleKeys_1:
   \   000019   7064         JNZ     ??SampleApp_HandleKeys_0
    554            {
    555              /* This key sends the Flash Command is sent to Group 1.
    556               * This device will not receive the Flash Command from this
    557               * device (even if it belongs to group 1).
    558               */
    559              //SampleApp_SendFlashMessage( SAMPLEAPP_FLASH_DURATION );
    560               
    561               static int aindex;
    562               if(aindex!=4)
   \   00001B   90....       MOV     DPTR,#??aindex
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   6404         XRL     A,#0x4
   \   000021   7004         JNZ     ??SampleApp_HandleKeys_2
   \   000023   A3           INC     DPTR
   \   000024   E0           MOVX    A,@DPTR
   \   000025   6400         XRL     A,#0x0
   \                     ??SampleApp_HandleKeys_2:
   \   000027   604C         JZ      ??SampleApp_HandleKeys_3
    563               {
    564                  SampleApp_Tester_calibrationAMessage( aindex+1 , RssiValue[aindex] );
   \   000029                ; Setup parameters for call to function SampleApp_Tester_calibrationAMessage
   \   000029   90....       MOV     DPTR,#??aindex
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   F8           MOV     R0,A
   \   00002E   A3           INC     DPTR
   \   00002F   E0           MOVX    A,@DPTR
   \   000030   F9           MOV     R1,A
   \   000031   E8           MOV     A,R0
   \   000032   75F004       MOV     B,#0x4
   \   000035   A4           MUL     AB
   \   000036   C8           XCH     A,R0
   \   000037   AAF0         MOV     R2,B
   \   000039   75F000       MOV     B,#0x0
   \   00003C   A4           MUL     AB
   \   00003D   2A           ADD     A,R2
   \   00003E   FA           MOV     R2,A
   \   00003F   75F004       MOV     B,#0x4
   \   000042   E9           MOV     A,R1
   \   000043   A4           MUL     AB
   \   000044   2A           ADD     A,R2
   \   000045   F9           MOV     R1,A
   \   000046   74..         MOV     A,#RssiValue & 0xff
   \   000048   28           ADD     A,R0
   \   000049   F582         MOV     DPL,A
   \   00004B   74..         MOV     A,#(RssiValue >> 8) & 0xff
   \   00004D   39           ADDC    A,R1
   \   00004E   F583         MOV     DPH,A
   \   000050   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000053   90....       MOV     DPTR,#??aindex
   \   000056   E0           MOVX    A,@DPTR
   \   000057   2401         ADD     A,#0x1
   \   000059   FA           MOV     R2,A
   \   00005A   A3           INC     DPTR
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   3400         ADDC    A,#0x0
   \   00005E   FB           MOV     R3,A
   \   00005F   12....       LCALL   ??SampleApp_Tester_calibrationAMessage?relay
   \   000062   7404         MOV     A,#0x4
   \   000064   12....       LCALL   ?DEALLOC_XSTACK8
    565                  aindex++;
   \   000067   90....       MOV     DPTR,#??aindex
   \   00006A   E0           MOVX    A,@DPTR
   \   00006B   2401         ADD     A,#0x1
   \   00006D   F0           MOVX    @DPTR,A
   \   00006E   A3           INC     DPTR
   \   00006F   E0           MOVX    A,@DPTR
   \   000070   3400         ADDC    A,#0x0
   \   000072   F0           MOVX    @DPTR,A
   \   000073   800A         SJMP    ??SampleApp_HandleKeys_0
    566               }
    567               else
    568               {
    569                 aindex=0;
   \                     ??SampleApp_HandleKeys_3:
   \   000075   90....       MOV     DPTR,#??aindex
   \   000078   7400         MOV     A,#0x0
   \   00007A   F0           MOVX    @DPTR,A
   \   00007B   A3           INC     DPTR
   \   00007C   7400         MOV     A,#0x0
   \   00007E   F0           MOVX    @DPTR,A
    570               }
    571            }
    572          
    573            if ( keys & HAL_KEY_SW_2 )
    574            {
    575              /* The Flashr Command is sent to Group 1.
    576               * This key toggles this device in and out of group 1.
    577               * If this device doesn't belong to group 1, this application
    578               * will not receive the Flash command sent to group 1.
    579               */
    580              
    581          //    aps_Group_t *grp;
    582          //    grp = aps_FindGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    583          //    if ( grp )
    584          //    {
    585          //      // Remove from the group
    586          //      aps_RemoveGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    587          //    }
    588          //    else
    589          //    {
    590          //      // Add to the flash group
    591          //      aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
    592          //    }
    593            }
    594          }
   \                     ??SampleApp_HandleKeys_0:
   \   00007F   7F01         MOV     R7,#0x1
   \   000081   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??aindex:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    595          
    596          /*********************************************************************
    597           * LOCAL FUNCTIONS
    598           */
    599          
    600          /*********************************************************************
    601           * @fn      SampleApp_MessageMSGCB
    602           *
    603           * @brief   Data message processor callback.  This function processes
    604           *          any incoming data - probably from other devices.  So, based
    605           *          on cluster ID, perform the intended action.
    606           *
    607           * @param   none
    608           *
    609           * @return  none
    610           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    611          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt ) //½ÓÊÕÊý¾Ý
   \                     SampleApp_MessageMSGCB:
    612          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    613            //uint16 flashTime;
    614              float avalue=0.0f;
   \   00000E   75..00       MOV     ?V0 + 0,#0x0
   \   000011   75..00       MOV     ?V0 + 1,#0x0
   \   000014   75..00       MOV     ?V0 + 2,#0x0
   \   000017   75..00       MOV     ?V0 + 3,#0x0
    615            switch ( pkt->clusterId )
   \   00001A   8E82         MOV     DPL,R6
   \   00001C   8F83         MOV     DPH,R7
   \   00001E   A3           INC     DPTR
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F5..         MOV     ?V0 + 4,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F5..         MOV     ?V0 + 5,A
   \   000029   E5..         MOV     A,?V0 + 5
   \   00002B   6003         JZ      $+5
   \   00002D   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
   \   000030   E5..         MOV     A,?V0 + 4
   \   000032   12....       LCALL   ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for SampleApp_MessageMSGCB>_0`:
   \   000035   00           DB        0
   \   000036   06           DB        6
   \   000037   01           DB        1
   \   000038   ....         DW        ??SampleApp_MessageMSGCB_0
   \   00003A   02           DB        2
   \   00003B   ....         DW        ??SampleApp_MessageMSGCB_1
   \   00003D   03           DB        3
   \   00003E   ....         DW        ??SampleApp_MessageMSGCB_2
   \   000040   32           DB        50
   \   000041   ....         DW        ??SampleApp_MessageMSGCB_3
   \   000043   33           DB        51
   \   000044   ....         DW        ??SampleApp_MessageMSGCB_4
   \   000046   34           DB        52
   \   000047   ....         DW        ??SampleApp_MessageMSGCB_5
   \   000049   ....         DW        ??SampleApp_MessageMSGCB_0
    616            {
    617              case SAMPLEAPP_PERIODIC_CLUSTERID:
    618             //  printRSSIandLQI(pkt,0);
    619              // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    620                break;
    621          //    case SAMPLEAPP_PERIODIC_CLUSTERID:
    622          //      { // unsigned char* rssivalue;
    623          //        //  uint8 rssiE=25;
    624          //         // int abc=3;
    625          //         // rssivalue=&rssiE;
    626          //       // int8 rssivalue;
    627          //        rssivalue=0xff-pkt->rssi;
    628          //        unsigned char rssi_buf[3];
    629          //        rssi_buf[0]='-';
    630          //        rssi_buf[1]=rssivalue/10+0x30;
    631          //        rssi_buf[2]=rssivalue%10+0x30;
    632          //     // HalUARTWrite(0, "Rx:", 3);      
    633          //      HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    634          //  
    635          //                
    636          //    //  HalUARTWrite(0, "\n", 1); 
    637          //      HalUARTWrite(0, "RSSI:", 5);  
    638          //      HalUARTWrite(0,rssi_buf,3);
    639          ////     HalUARTWrite(0, "\r\n", 2); 
    640          //////     
    641          ////     uint8 lqivalue;
    642          ////     lqivalue=pkt->LinkQuality;
    643          ////     unsigned char lqi_buf[3];
    644          ////      lqi_buf[0]=lqivalue/100+0x30;
    645          ////        lqi_buf[1]=(lqivalue%100)/10+0x30;
    646          ////        lqi_buf[2]=lqivalue%10+0x30;
    647          ////      HalUARTWrite(0, "LQI:", 4);  
    648          ////      HalUARTWrite(0,lqi_buf,3);
    649          ////     HalUARTWrite(0, "\n", 1);         //»Ø³µ»»ÐÐ
    650          //      break;
    651          //      }
    652              
    653              
    654          
    655              case LZQR_GROUP_CLUSTERID: 
    656                {
    657                 HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \                     ??SampleApp_MessageMSGCB_2:
   \   00004B                ; Setup parameters for call to function HalUARTWrite
   \   00004B   EE           MOV     A,R6
   \   00004C   241F         ADD     A,#0x1f
   \   00004E   F582         MOV     DPL,A
   \   000050   EF           MOV     A,R7
   \   000051   3400         ADDC    A,#0x0
   \   000053   F583         MOV     DPH,A
   \   000055   E0           MOVX    A,@DPTR
   \   000056   FC           MOV     R4,A
   \   000057   A3           INC     DPTR
   \   000058   E0           MOVX    A,@DPTR
   \   000059   FD           MOV     R5,A
   \   00005A   EE           MOV     A,R6
   \   00005B   2421         ADD     A,#0x21
   \   00005D   F582         MOV     DPL,A
   \   00005F   EF           MOV     A,R7
   \   000060   3400         ADDC    A,#0x0
   \   000062   F583         MOV     DPH,A
   \   000064   E0           MOVX    A,@DPTR
   \   000065   FA           MOV     R2,A
   \   000066   A3           INC     DPTR
   \   000067   E0           MOVX    A,@DPTR
   \   000068   FB           MOV     R3,A
   \   000069   7900         MOV     R1,#0x0
   \   00006B   12....       LCALL   ??HalUARTWrite?relay
    658                  
    659                  break;
   \   00006E   02....       LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
    660                }
    661              case CALBRATION_N_CLUSTERID:
    662                {
    663                  
    664                  byte alphaindex;
    665                  alphaindex=*(pkt->cmd.Data);
   \                     ??SampleApp_MessageMSGCB_1:
   \   000071   EE           MOV     A,R6
   \   000072   2421         ADD     A,#0x21
   \   000074   F582         MOV     DPL,A
   \   000076   EF           MOV     A,R7
   \   000077   3400         ADDC    A,#0x0
   \   000079   F583         MOV     DPH,A
   \   00007B   E0           MOVX    A,@DPTR
   \   00007C   F8           MOV     R0,A
   \   00007D   A3           INC     DPTR
   \   00007E   E0           MOVX    A,@DPTR
   \   00007F   F583         MOV     DPH,A
   \   000081   8882         MOV     DPL,R0
   \   000083   E0           MOVX    A,@DPTR
   \   000084   85..82       MOV     DPL,?XSP + 0
   \   000087   85..83       MOV     DPH,?XSP + 1
   \   00008A   F0           MOVX    @DPTR,A
    666                  if(alphaindex=='A')
   \   00008B   85..82       MOV     DPL,?XSP + 0
   \   00008E   85..83       MOV     DPH,?XSP + 1
   \   000091   E0           MOVX    A,@DPTR
   \   000092   6441         XRL     A,#0x41
   \   000094   6003         JZ      $+5
   \   000096   02....       LJMP    ??SampleApp_MessageMSGCB_6 & 0xFFFF
    667                   {  
    668           //             HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength);
    669                        byte index;
    670                        index=*(pkt->cmd.Data+1);
   \   000099   EE           MOV     A,R6
   \   00009A   2421         ADD     A,#0x21
   \   00009C   F582         MOV     DPL,A
   \   00009E   EF           MOV     A,R7
   \   00009F   3400         ADDC    A,#0x0
   \   0000A1   F583         MOV     DPH,A
   \   0000A3   E0           MOVX    A,@DPTR
   \   0000A4   F8           MOV     R0,A
   \   0000A5   A3           INC     DPTR
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   F583         MOV     DPH,A
   \   0000A9   8882         MOV     DPL,R0
   \   0000AB   A3           INC     DPTR
   \   0000AC   E0           MOVX    A,@DPTR
   \   0000AD   FC           MOV     R4,A
    671                        avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   0000AE   EE           MOV     A,R6
   \   0000AF   2421         ADD     A,#0x21
   \   0000B1   F582         MOV     DPL,A
   \   0000B3   EF           MOV     A,R7
   \   0000B4   3400         ADDC    A,#0x0
   \   0000B6   F583         MOV     DPH,A
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   F8           MOV     R0,A
   \   0000BA   A3           INC     DPTR
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   F583         MOV     DPH,A
   \   0000BE   8882         MOV     DPL,R0
   \   0000C0   A3           INC     DPTR
   \   0000C1   A3           INC     DPTR
   \   0000C2   A3           INC     DPTR
   \   0000C3   E0           MOVX    A,@DPTR
   \   0000C4   F8           MOV     R0,A
   \   0000C5   7900         MOV     R1,#0x0
   \   0000C7   24D0         ADD     A,#-0x30
   \   0000C9   F5..         MOV     ?V0 + 4,A
   \   0000CB   E9           MOV     A,R1
   \   0000CC   34FF         ADDC    A,#-0x1
   \   0000CE   F5..         MOV     ?V0 + 5,A
   \   0000D0   E5..         MOV     A,?V0 + 5
   \   0000D2   33           RLC     A
   \   0000D3   95E0         SUBB    A,0xE0 /* A   */
   \   0000D5   F5..         MOV     ?V0 + 6,A
   \   0000D7   F5..         MOV     ?V0 + 7,A
   \   0000D9   78..         MOV     R0,#?V0 + 4
   \   0000DB   12....       LCALL   ?L_TO_FLT
   \   0000DE   90....       MOV     DPTR,#__Constant_41200000
   \   0000E1   78..         MOV     R0,#?V0 + 8
   \   0000E3   12....       LCALL   ?L_MOV_X
   \   0000E6   78..         MOV     R0,#?V0 + 4
   \   0000E8   79..         MOV     R1,#?V0 + 8
   \   0000EA   12....       LCALL   ?FLT_MUL
   \   0000ED   EE           MOV     A,R6
   \   0000EE   2421         ADD     A,#0x21
   \   0000F0   F582         MOV     DPL,A
   \   0000F2   EF           MOV     A,R7
   \   0000F3   3400         ADDC    A,#0x0
   \   0000F5   F583         MOV     DPH,A
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   F8           MOV     R0,A
   \   0000F9   A3           INC     DPTR
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   F583         MOV     DPH,A
   \   0000FD   8882         MOV     DPL,R0
   \   0000FF   A3           INC     DPTR
   \   000100   A3           INC     DPTR
   \   000101   A3           INC     DPTR
   \   000102   A3           INC     DPTR
   \   000103   E0           MOVX    A,@DPTR
   \   000104   F8           MOV     R0,A
   \   000105   7900         MOV     R1,#0x0
   \   000107   24D0         ADD     A,#-0x30
   \   000109   F5..         MOV     ?V0 + 8,A
   \   00010B   E9           MOV     A,R1
   \   00010C   34FF         ADDC    A,#-0x1
   \   00010E   F5..         MOV     ?V0 + 9,A
   \   000110   E5..         MOV     A,?V0 + 9
   \   000112   33           RLC     A
   \   000113   95E0         SUBB    A,0xE0 /* A   */
   \   000115   F5..         MOV     ?V0 + 10,A
   \   000117   F5..         MOV     ?V0 + 11,A
   \   000119   78..         MOV     R0,#?V0 + 8
   \   00011B   12....       LCALL   ?L_TO_FLT
   \   00011E   78..         MOV     R0,#?V0 + 4
   \   000120   79..         MOV     R1,#?V0 + 8
   \   000122   12....       LCALL   ?FLT_ADD
   \   000125   EE           MOV     A,R6
   \   000126   2421         ADD     A,#0x21
   \   000128   F582         MOV     DPL,A
   \   00012A   EF           MOV     A,R7
   \   00012B   3400         ADDC    A,#0x0
   \   00012D   F583         MOV     DPH,A
   \   00012F   E0           MOVX    A,@DPTR
   \   000130   F8           MOV     R0,A
   \   000131   A3           INC     DPTR
   \   000132   E0           MOVX    A,@DPTR
   \   000133   C8           XCH     A,R0
   \   000134   2406         ADD     A,#0x6
   \   000136   F582         MOV     DPL,A
   \   000138   E8           MOV     A,R0
   \   000139   3400         ADDC    A,#0x0
   \   00013B   F583         MOV     DPH,A
   \   00013D   E0           MOVX    A,@DPTR
   \   00013E   F8           MOV     R0,A
   \   00013F   7900         MOV     R1,#0x0
   \   000141   24D0         ADD     A,#-0x30
   \   000143   F5..         MOV     ?V0 + 12,A
   \   000145   E9           MOV     A,R1
   \   000146   34FF         ADDC    A,#-0x1
   \   000148   F5..         MOV     ?V0 + 13,A
   \   00014A   E5..         MOV     A,?V0 + 13
   \   00014C   33           RLC     A
   \   00014D   95E0         SUBB    A,0xE0 /* A   */
   \   00014F   F5..         MOV     ?V0 + 14,A
   \   000151   F5..         MOV     ?V0 + 15,A
   \   000153   78..         MOV     R0,#?V0 + 12
   \   000155   12....       LCALL   ?L_TO_FLT
   \   000158   90....       MOV     DPTR,#__Constant_3dcccccd
   \   00015B   78..         MOV     R0,#?V0 + 8
   \   00015D   12....       LCALL   ?L_MOV_X
   \   000160   78..         MOV     R0,#?V0 + 12
   \   000162   79..         MOV     R1,#?V0 + 8
   \   000164   12....       LCALL   ?FLT_MUL
   \   000167   78..         MOV     R0,#?V0 + 4
   \   000169   79..         MOV     R1,#?V0 + 12
   \   00016B   12....       LCALL   ?FLT_ADD
   \   00016E   85....       MOV     ?V0 + 0,?V0 + 4
   \   000171   85....       MOV     ?V0 + 1,?V0 + 5
   \   000174   85....       MOV     ?V0 + 2,?V0 + 6
   \   000177   85....       MOV     ?V0 + 3,?V0 + 7
    672                        if(avalue>0)   
   \   00017A   90....       MOV     DPTR,#__Constant_1
   \   00017D   78..         MOV     R0,#?V0 + 4
   \   00017F   12....       LCALL   ?L_MOV_X
   \   000182   78..         MOV     R0,#?V0 + 0
   \   000184   79..         MOV     R1,#?V0 + 4
   \   000186   12....       LCALL   ?FLT_GE
   \   000189   5059         JNC     ??SampleApp_MessageMSGCB_0
    673                        {
    674                            switch (index)
   \   00018B   7431         MOV     A,#0x31
   \   00018D   6C           XRL     A,R4
   \   00018E   7008         JNZ     ??SampleApp_MessageMSGCB_3
    675                                 case '1':
    676                                    {
    677                                            AValue[0]=avalue;
   \   000190   90....       MOV     DPTR,#AValue
   \   000193   78..         MOV     R0,#?V0 + 0
   \   000195   12....       LCALL   ?L_MOV_TO_X
    678                                            break;
    679                                     }
    680                                 case '2':
    681                                    {
    682                                            AValue[1]=avalue;
   \                     ??SampleApp_MessageMSGCB_3:
   \   000198   90....       MOV     DPTR,#AValue + 4
   \   00019B   78..         MOV     R0,#?V0 + 0
   \   00019D   12....       LCALL   ?L_MOV_TO_X
    683                                            break;
   \   0001A0   8042         SJMP    ??SampleApp_MessageMSGCB_0
    684                                     }
    685                                 case '3':
    686                                    {
    687                                            AValue[2]=avalue;
   \                     ??SampleApp_MessageMSGCB_4:
   \   0001A2   90....       MOV     DPTR,#AValue + 8
   \   0001A5   78..         MOV     R0,#?V0 + 0
   \   0001A7   12....       LCALL   ?L_MOV_TO_X
    688                                            break;
   \   0001AA   8038         SJMP    ??SampleApp_MessageMSGCB_0
    689                                     }
    690                                 case '4':
    691                                    {
    692                                            AValue[3]=avalue;
   \                     ??SampleApp_MessageMSGCB_5:
   \   0001AC   90....       MOV     DPTR,#AValue + 12
   \   0001AF   78..         MOV     R0,#?V0 + 0
   \   0001B1   12....       LCALL   ?L_MOV_TO_X
    693                                            break;
   \   0001B4   802E         SJMP    ??SampleApp_MessageMSGCB_0
    694                                     }
    695                      
    696                            break;
    697                        }
    698                     }
    699                  else if(alphaindex=='T')  // test signal from test anchor
   \                     ??SampleApp_MessageMSGCB_6:
   \   0001B6   85..82       MOV     DPL,?XSP + 0
   \   0001B9   85..83       MOV     DPH,?XSP + 1
   \   0001BC   E0           MOVX    A,@DPTR
   \   0001BD   6454         XRL     A,#0x54
   \   0001BF   7023         JNZ     ??SampleApp_MessageMSGCB_0
    700                   {
    701                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \   0001C1                ; Setup parameters for call to function HalUARTWrite
   \   0001C1   EE           MOV     A,R6
   \   0001C2   241F         ADD     A,#0x1f
   \   0001C4   F582         MOV     DPL,A
   \   0001C6   EF           MOV     A,R7
   \   0001C7   3400         ADDC    A,#0x0
   \   0001C9   F583         MOV     DPH,A
   \   0001CB   E0           MOVX    A,@DPTR
   \   0001CC   FC           MOV     R4,A
   \   0001CD   A3           INC     DPTR
   \   0001CE   E0           MOVX    A,@DPTR
   \   0001CF   FD           MOV     R5,A
   \   0001D0   EE           MOV     A,R6
   \   0001D1   2421         ADD     A,#0x21
   \   0001D3   F582         MOV     DPL,A
   \   0001D5   EF           MOV     A,R7
   \   0001D6   3400         ADDC    A,#0x0
   \   0001D8   F583         MOV     DPH,A
   \   0001DA   E0           MOVX    A,@DPTR
   \   0001DB   FA           MOV     R2,A
   \   0001DC   A3           INC     DPTR
   \   0001DD   E0           MOVX    A,@DPTR
   \   0001DE   FB           MOV     R3,A
   \   0001DF   7900         MOV     R1,#0x0
   \   0001E1   12....       LCALL   ??HalUARTWrite?relay
    702                   }
    703          //        else if(alphaindex=='O')  // test signal from test anchor
    704          //         {
    705          //          HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    706          //         }
    707                }
    708          
    709            }
    710          }
   \                     ??SampleApp_MessageMSGCB_0:
   \   0001E4   7401         MOV     A,#0x1
   \   0001E6   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E9   7F10         MOV     R7,#0x10
   \   0001EB   02....       LJMP    ?BANKED_LEAVE_XDATA
    711          
    712          /*********************************************************************
    713           * @fn      SampleApp_QuadrotorMSGCB
    714           *
    715           * @brief   Data message processor callback.  This function processes
    716           *          any incoming data - probably from other devices.  So, based
    717           *          on cluster ID, perform the intended action.
    718           *
    719           * @param   none
    720           *
    721           * @return  none
    722           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    723          void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_QuadrotorMSGCB:
    724          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 6
   \   000005   74FA         MOV     A,#-0x6
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    725            float avalue=0.0f;
   \   00000E   7A00         MOV     R2,#0x0
   \   000010   7B00         MOV     R3,#0x0
   \   000012   7C00         MOV     R4,#0x0
   \   000014   7D00         MOV     R5,#0x0
   \   000016   7402         MOV     A,#0x2
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   EA           MOV     A,R2
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   A3           INC     DPTR
   \   00001E   EB           MOV     A,R3
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   EC           MOV     A,R4
   \   000022   F0           MOVX    @DPTR,A
   \   000023   A3           INC     DPTR
   \   000024   ED           MOV     A,R5
   \   000025   F0           MOVX    @DPTR,A
    726            float offseta=0.0f;
   \   000026   75..00       MOV     ?V0 + 0,#0x0
   \   000029   75..00       MOV     ?V0 + 1,#0x0
   \   00002C   75..00       MOV     ?V0 + 2,#0x0
   \   00002F   75..00       MOV     ?V0 + 3,#0x0
    727            switch ( pkt->clusterId )
   \   000032   8E82         MOV     DPL,R6
   \   000034   8F83         MOV     DPH,R7
   \   000036   A3           INC     DPTR
   \   000037   A3           INC     DPTR
   \   000038   A3           INC     DPTR
   \   000039   A3           INC     DPTR
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   F5..         MOV     ?V0 + 4,A
   \   00003D   A3           INC     DPTR
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   F5..         MOV     ?V0 + 5,A
   \   000041   E5..         MOV     A,?V0 + 5
   \   000043   6003         JZ      $+5
   \   000045   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
   \   000048   E5..         MOV     A,?V0 + 4
   \   00004A   12....       LCALL   ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for SampleApp_QuadrotorMSGCB>_0`:
   \   00004D   00           DB        0
   \   00004E   06           DB        6
   \   00004F   01           DB        1
   \   000050   ....         DW        ??SampleApp_QuadrotorMSGCB_1
   \   000052   02           DB        2
   \   000053   ....         DW        ??SampleApp_QuadrotorMSGCB_2
   \   000055   03           DB        3
   \   000056   ....         DW        ??SampleApp_QuadrotorMSGCB_3
   \   000058   32           DB        50
   \   000059   ....         DW        ??SampleApp_QuadrotorMSGCB_0
   \   00005B   33           DB        51
   \   00005C   ....         DW        ??SampleApp_QuadrotorMSGCB_4
   \   00005E   34           DB        52
   \   00005F   ....         DW        ??SampleApp_QuadrotorMSGCB_5
   \   000061   ....         DW        ??SampleApp_QuadrotorMSGCB_0
    728            {
    729               
    730              case SAMPLEAPP_PERIODIC_CLUSTERID:
    731                { 
    732                  
    733                  byte index;
    734                  index=*(pkt->cmd.Data+1);
   \                     ??SampleApp_QuadrotorMSGCB_1:
   \   000063   EE           MOV     A,R6
   \   000064   2421         ADD     A,#0x21
   \   000066   F582         MOV     DPL,A
   \   000068   EF           MOV     A,R7
   \   000069   3400         ADDC    A,#0x0
   \   00006B   F583         MOV     DPH,A
   \   00006D   E0           MOVX    A,@DPTR
   \   00006E   F8           MOV     R0,A
   \   00006F   A3           INC     DPTR
   \   000070   E0           MOVX    A,@DPTR
   \   000071   F583         MOV     DPH,A
   \   000073   8882         MOV     DPL,R0
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   F5..         MOV     ?V0 + 4,A
    735                  rssivalue=(0xff-pkt->rssi);
   \   000079   EE           MOV     A,R6
   \   00007A   2418         ADD     A,#0x18
   \   00007C   F582         MOV     DPL,A
   \   00007E   EF           MOV     A,R7
   \   00007F   3400         ADDC    A,#0x0
   \   000081   F583         MOV     DPH,A
   \   000083   E0           MOVX    A,@DPTR
   \   000084   F8           MOV     R0,A
   \   000085   74FF         MOV     A,#-0x1
   \   000087   C3           CLR     C
   \   000088   98           SUBB    A,R0
   \   000089   90....       MOV     DPTR,#rssivalue
   \   00008C   F0           MOVX    @DPTR,A
    736                 // printRSSIandLQI(pkt, 0);
    737                  switch (index)
   \   00008D   E5..         MOV     A,?V0 + 4
   \   00008F   24CF         ADD     A,#-0x31
   \   000091   600F         JZ      ??SampleApp_QuadrotorMSGCB_6
   \   000093   14           DEC     A
   \   000094   603A         JZ      ??SampleApp_QuadrotorMSGCB_7
   \   000096   14           DEC     A
   \   000097   6064         JZ      ??SampleApp_QuadrotorMSGCB_8
   \   000099   14           DEC     A
   \   00009A   7003         JNZ     $+5
   \   00009C   02....       LJMP    ??SampleApp_QuadrotorMSGCB_9 & 0xFFFF
   \   00009F   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    738                  {
    739                      case '1':
    740                        { 
    741                          //moving average filter
    742                          moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[0]);
   \                     ??SampleApp_QuadrotorMSGCB_6:
   \   0000A2                ; Setup parameters for call to function moving_average
   \   0000A2   75....       MOV     ?V0 + 6,#RssiValue & 0xff
   \   0000A5   75....       MOV     ?V0 + 7,#(RssiValue >> 8) & 0xff
   \   0000A8   78..         MOV     R0,#?V0 + 6
   \   0000AA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AD   75....       MOV     ?V0 + 6,#imof1 & 0xff
   \   0000B0   75....       MOV     ?V0 + 7,#(imof1 >> 8) & 0xff
   \   0000B3   78..         MOV     R0,#?V0 + 6
   \   0000B5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B8   7C1F         MOV     R4,#0x1f
   \   0000BA   7D00         MOV     R5,#0x0
   \   0000BC   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   0000BE   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   0000C0   90....       MOV     DPTR,#rssivalue
   \   0000C3   E0           MOVX    A,@DPTR
   \   0000C4   F9           MOV     R1,A
   \   0000C5   12....       LCALL   ??moving_average?relay
   \   0000C8   7404         MOV     A,#0x4
   \   0000CA   12....       LCALL   ?DEALLOC_XSTACK8
    743                        }
    744                      
    745                            break;
   \   0000CD   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    746                      case '2':
    747                        {
    748                          //moving average filter
    749                          moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[1]);
   \                     ??SampleApp_QuadrotorMSGCB_7:
   \   0000D0                ; Setup parameters for call to function moving_average
   \   0000D0   75....       MOV     ?V0 + 6,#(RssiValue + 4) & 0xff
   \   0000D3   75....       MOV     ?V0 + 7,#((RssiValue + 4) >> 8) & 0xff
   \   0000D6   78..         MOV     R0,#?V0 + 6
   \   0000D8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DB   75....       MOV     ?V0 + 6,#imof2 & 0xff
   \   0000DE   75....       MOV     ?V0 + 7,#(imof2 >> 8) & 0xff
   \   0000E1   78..         MOV     R0,#?V0 + 6
   \   0000E3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E6   7C1F         MOV     R4,#0x1f
   \   0000E8   7D00         MOV     R5,#0x0
   \   0000EA   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   0000EC   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   0000EE   90....       MOV     DPTR,#rssivalue
   \   0000F1   E0           MOVX    A,@DPTR
   \   0000F2   F9           MOV     R1,A
   \   0000F3   12....       LCALL   ??moving_average?relay
   \   0000F6   7404         MOV     A,#0x4
   \   0000F8   12....       LCALL   ?DEALLOC_XSTACK8
    750                        }
    751                            break;
   \   0000FB   8058         SJMP    ??SampleApp_QuadrotorMSGCB_10
    752                      case '3':
    753                        {
    754                          //moving average filter
    755                          moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[2]);
   \                     ??SampleApp_QuadrotorMSGCB_8:
   \   0000FD                ; Setup parameters for call to function moving_average
   \   0000FD   75....       MOV     ?V0 + 6,#(RssiValue + 8) & 0xff
   \   000100   75....       MOV     ?V0 + 7,#((RssiValue + 8) >> 8) & 0xff
   \   000103   78..         MOV     R0,#?V0 + 6
   \   000105   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000108   75....       MOV     ?V0 + 6,#imof3 & 0xff
   \   00010B   75....       MOV     ?V0 + 7,#(imof3 >> 8) & 0xff
   \   00010E   78..         MOV     R0,#?V0 + 6
   \   000110   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000113   7C1F         MOV     R4,#0x1f
   \   000115   7D00         MOV     R5,#0x0
   \   000117   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   000119   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   00011B   90....       MOV     DPTR,#rssivalue
   \   00011E   E0           MOVX    A,@DPTR
   \   00011F   F9           MOV     R1,A
   \   000120   12....       LCALL   ??moving_average?relay
   \   000123   7404         MOV     A,#0x4
   \   000125   12....       LCALL   ?DEALLOC_XSTACK8
    756                        }
    757                            break;
   \   000128   802B         SJMP    ??SampleApp_QuadrotorMSGCB_10
    758                      case '4':
    759                        {
    760                          //moving average filter
    761                           moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[3]);
   \                     ??SampleApp_QuadrotorMSGCB_9:
   \   00012A                ; Setup parameters for call to function moving_average
   \   00012A   75....       MOV     ?V0 + 6,#(RssiValue + 12) & 0xff
   \   00012D   75....       MOV     ?V0 + 7,#((RssiValue + 12) >> 8) & 0xff
   \   000130   78..         MOV     R0,#?V0 + 6
   \   000132   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000135   75....       MOV     ?V0 + 6,#imof4 & 0xff
   \   000138   75....       MOV     ?V0 + 7,#(imof4 >> 8) & 0xff
   \   00013B   78..         MOV     R0,#?V0 + 6
   \   00013D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000140   7C1F         MOV     R4,#0x1f
   \   000142   7D00         MOV     R5,#0x0
   \   000144   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   000146   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \   000148   90....       MOV     DPTR,#rssivalue
   \   00014B   E0           MOVX    A,@DPTR
   \   00014C   F9           MOV     R1,A
   \   00014D   12....       LCALL   ??moving_average?relay
   \   000150   7404         MOV     A,#0x4
   \   000152   12....       LCALL   ?DEALLOC_XSTACK8
    762                        }
    763                            break;    
    764                      default:
    765                      
    766                             break;
    767                   }
    768                  break;
   \                     ??SampleApp_QuadrotorMSGCB_10:
   \   000155   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    769                }
    770          
    771              case LZQR_GROUP_CLUSTERID: // position of other quadrotors
    772                    {
    773                      HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
   \                     ??SampleApp_QuadrotorMSGCB_3:
   \   000158                ; Setup parameters for call to function HalUARTWrite
   \   000158   EE           MOV     A,R6
   \   000159   241F         ADD     A,#0x1f
   \   00015B   F582         MOV     DPL,A
   \   00015D   EF           MOV     A,R7
   \   00015E   3400         ADDC    A,#0x0
   \   000160   F583         MOV     DPH,A
   \   000162   E0           MOVX    A,@DPTR
   \   000163   FC           MOV     R4,A
   \   000164   A3           INC     DPTR
   \   000165   E0           MOVX    A,@DPTR
   \   000166   FD           MOV     R5,A
   \   000167   EE           MOV     A,R6
   \   000168   2421         ADD     A,#0x21
   \   00016A   F582         MOV     DPL,A
   \   00016C   EF           MOV     A,R7
   \   00016D   3400         ADDC    A,#0x0
   \   00016F   F583         MOV     DPH,A
   \   000171   E0           MOVX    A,@DPTR
   \   000172   FA           MOV     R2,A
   \   000173   A3           INC     DPTR
   \   000174   E0           MOVX    A,@DPTR
   \   000175   FB           MOV     R3,A
   \   000176   7900         MOV     R1,#0x0
   \   000178   12....       LCALL   ??HalUARTWrite?relay
    774                     // break;
    775                    }
    776              
    777          
    778               case CALBRATION_N_CLUSTERID:
    779              {
    780                  
    781                  byte alphaindex;
    782                  alphaindex=*(pkt->cmd.Data);
   \                     ??SampleApp_QuadrotorMSGCB_2:
   \   00017B   EE           MOV     A,R6
   \   00017C   2421         ADD     A,#0x21
   \   00017E   F582         MOV     DPL,A
   \   000180   EF           MOV     A,R7
   \   000181   3400         ADDC    A,#0x0
   \   000183   F583         MOV     DPH,A
   \   000185   E0           MOVX    A,@DPTR
   \   000186   F8           MOV     R0,A
   \   000187   A3           INC     DPTR
   \   000188   E0           MOVX    A,@DPTR
   \   000189   F583         MOV     DPH,A
   \   00018B   8882         MOV     DPL,R0
   \   00018D   E0           MOVX    A,@DPTR
   \   00018E   C0E0         PUSH    A
   \   000190   7401         MOV     A,#0x1
   \   000192   12....       LCALL   ?XSTACK_DISP0_8
   \   000195   D0E0         POP     A
   \   000197   F0           MOVX    @DPTR,A
    783                  if(alphaindex=='A')
   \   000198   7401         MOV     A,#0x1
   \   00019A   12....       LCALL   ?XSTACK_DISP0_8
   \   00019D   E0           MOVX    A,@DPTR
   \   00019E   6441         XRL     A,#0x41
   \   0001A0   6003         JZ      $+5
   \   0001A2   02....       LJMP    ??SampleApp_QuadrotorMSGCB_11 & 0xFFFF
    784                   {  
    785                        byte index;
    786                        index=*(pkt->cmd.Data+1);
   \   0001A5   EE           MOV     A,R6
   \   0001A6   2421         ADD     A,#0x21
   \   0001A8   F582         MOV     DPL,A
   \   0001AA   EF           MOV     A,R7
   \   0001AB   3400         ADDC    A,#0x0
   \   0001AD   F583         MOV     DPH,A
   \   0001AF   E0           MOVX    A,@DPTR
   \   0001B0   F8           MOV     R0,A
   \   0001B1   A3           INC     DPTR
   \   0001B2   E0           MOVX    A,@DPTR
   \   0001B3   F583         MOV     DPH,A
   \   0001B5   8882         MOV     DPL,R0
   \   0001B7   A3           INC     DPTR
   \   0001B8   E0           MOVX    A,@DPTR
   \   0001B9   85..82       MOV     DPL,?XSP + 0
   \   0001BC   85..83       MOV     DPH,?XSP + 1
   \   0001BF   F0           MOVX    @DPTR,A
    787                        avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   0001C0   EE           MOV     A,R6
   \   0001C1   2421         ADD     A,#0x21
   \   0001C3   F582         MOV     DPL,A
   \   0001C5   EF           MOV     A,R7
   \   0001C6   3400         ADDC    A,#0x0
   \   0001C8   F583         MOV     DPH,A
   \   0001CA   E0           MOVX    A,@DPTR
   \   0001CB   F8           MOV     R0,A
   \   0001CC   A3           INC     DPTR
   \   0001CD   E0           MOVX    A,@DPTR
   \   0001CE   F583         MOV     DPH,A
   \   0001D0   8882         MOV     DPL,R0
   \   0001D2   A3           INC     DPTR
   \   0001D3   A3           INC     DPTR
   \   0001D4   A3           INC     DPTR
   \   0001D5   E0           MOVX    A,@DPTR
   \   0001D6   F8           MOV     R0,A
   \   0001D7   7900         MOV     R1,#0x0
   \   0001D9   24D0         ADD     A,#-0x30
   \   0001DB   F5..         MOV     ?V0 + 4,A
   \   0001DD   E9           MOV     A,R1
   \   0001DE   34FF         ADDC    A,#-0x1
   \   0001E0   F5..         MOV     ?V0 + 5,A
   \   0001E2   E5..         MOV     A,?V0 + 5
   \   0001E4   33           RLC     A
   \   0001E5   95E0         SUBB    A,0xE0 /* A   */
   \   0001E7   F5..         MOV     ?V0 + 6,A
   \   0001E9   F5..         MOV     ?V0 + 7,A
   \   0001EB   78..         MOV     R0,#?V0 + 4
   \   0001ED   12....       LCALL   ?L_TO_FLT
   \   0001F0   90....       MOV     DPTR,#__Constant_41200000
   \   0001F3   78..         MOV     R0,#?V0 + 8
   \   0001F5   12....       LCALL   ?L_MOV_X
   \   0001F8   78..         MOV     R0,#?V0 + 4
   \   0001FA   79..         MOV     R1,#?V0 + 8
   \   0001FC   12....       LCALL   ?FLT_MUL
   \   0001FF   EE           MOV     A,R6
   \   000200   2421         ADD     A,#0x21
   \   000202   F582         MOV     DPL,A
   \   000204   EF           MOV     A,R7
   \   000205   3400         ADDC    A,#0x0
   \   000207   F583         MOV     DPH,A
   \   000209   E0           MOVX    A,@DPTR
   \   00020A   F8           MOV     R0,A
   \   00020B   A3           INC     DPTR
   \   00020C   E0           MOVX    A,@DPTR
   \   00020D   F583         MOV     DPH,A
   \   00020F   8882         MOV     DPL,R0
   \   000211   A3           INC     DPTR
   \   000212   A3           INC     DPTR
   \   000213   A3           INC     DPTR
   \   000214   A3           INC     DPTR
   \   000215   E0           MOVX    A,@DPTR
   \   000216   F8           MOV     R0,A
   \   000217   7900         MOV     R1,#0x0
   \   000219   24D0         ADD     A,#-0x30
   \   00021B   F5..         MOV     ?V0 + 8,A
   \   00021D   E9           MOV     A,R1
   \   00021E   34FF         ADDC    A,#-0x1
   \   000220   F5..         MOV     ?V0 + 9,A
   \   000222   E5..         MOV     A,?V0 + 9
   \   000224   33           RLC     A
   \   000225   95E0         SUBB    A,0xE0 /* A   */
   \   000227   F5..         MOV     ?V0 + 10,A
   \   000229   F5..         MOV     ?V0 + 11,A
   \   00022B   78..         MOV     R0,#?V0 + 8
   \   00022D   12....       LCALL   ?L_TO_FLT
   \   000230   78..         MOV     R0,#?V0 + 4
   \   000232   79..         MOV     R1,#?V0 + 8
   \   000234   12....       LCALL   ?FLT_ADD
   \   000237   EE           MOV     A,R6
   \   000238   2421         ADD     A,#0x21
   \   00023A   F582         MOV     DPL,A
   \   00023C   EF           MOV     A,R7
   \   00023D   3400         ADDC    A,#0x0
   \   00023F   F583         MOV     DPH,A
   \   000241   E0           MOVX    A,@DPTR
   \   000242   F8           MOV     R0,A
   \   000243   A3           INC     DPTR
   \   000244   E0           MOVX    A,@DPTR
   \   000245   C8           XCH     A,R0
   \   000246   2406         ADD     A,#0x6
   \   000248   F582         MOV     DPL,A
   \   00024A   E8           MOV     A,R0
   \   00024B   3400         ADDC    A,#0x0
   \   00024D   F583         MOV     DPH,A
   \   00024F   E0           MOVX    A,@DPTR
   \   000250   F8           MOV     R0,A
   \   000251   7900         MOV     R1,#0x0
   \   000253   24D0         ADD     A,#-0x30
   \   000255   F5..         MOV     ?V0 + 12,A
   \   000257   E9           MOV     A,R1
   \   000258   34FF         ADDC    A,#-0x1
   \   00025A   F5..         MOV     ?V0 + 13,A
   \   00025C   E5..         MOV     A,?V0 + 13
   \   00025E   33           RLC     A
   \   00025F   95E0         SUBB    A,0xE0 /* A   */
   \   000261   F5..         MOV     ?V0 + 14,A
   \   000263   F5..         MOV     ?V0 + 15,A
   \   000265   78..         MOV     R0,#?V0 + 12
   \   000267   12....       LCALL   ?L_TO_FLT
   \   00026A   90....       MOV     DPTR,#__Constant_3dcccccd
   \   00026D   78..         MOV     R0,#?V0 + 8
   \   00026F   12....       LCALL   ?L_MOV_X
   \   000272   78..         MOV     R0,#?V0 + 12
   \   000274   79..         MOV     R1,#?V0 + 8
   \   000276   12....       LCALL   ?FLT_MUL
   \   000279   78..         MOV     R0,#?V0 + 4
   \   00027B   79..         MOV     R1,#?V0 + 12
   \   00027D   12....       LCALL   ?FLT_ADD
   \   000280   7402         MOV     A,#0x2
   \   000282   12....       LCALL   ?XSTACK_DISP0_8
   \   000285   78..         MOV     R0,#?V0 + 4
   \   000287   12....       LCALL   ?L_MOV_TO_X
    788                        if(avalue>0)   
   \   00028A   7402         MOV     A,#0x2
   \   00028C   12....       LCALL   ?XSTACK_DISP0_8
   \   00028F   78..         MOV     R0,#?V0 + 4
   \   000291   12....       LCALL   ?L_MOV_X
   \   000294   90....       MOV     DPTR,#__Constant_1
   \   000297   78..         MOV     R0,#?V0 + 8
   \   000299   12....       LCALL   ?L_MOV_X
   \   00029C   78..         MOV     R0,#?V0 + 4
   \   00029E   79..         MOV     R1,#?V0 + 8
   \   0002A0   12....       LCALL   ?FLT_GE
   \   0002A3   4003         JC      $+5
   \   0002A5   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    789                        {
    790                            switch (index)
   \   0002A8   85..82       MOV     DPL,?XSP + 0
   \   0002AB   85..83       MOV     DPH,?XSP + 1
   \   0002AE   E0           MOVX    A,@DPTR
   \   0002AF   6431         XRL     A,#0x31
   \   0002B1   703C         JNZ     ??SampleApp_QuadrotorMSGCB_12
    791                                 case '1':
    792                                    {
    793                                            moving_average_f(avalue, peraBuf1, 8-1, aindex1, &AValue[0]);
   \   0002B3                ; Setup parameters for call to function moving_average_f
   \   0002B3   75....       MOV     ?V0 + 4,#AValue & 0xff
   \   0002B6   75....       MOV     ?V0 + 5,#(AValue >> 8) & 0xff
   \   0002B9   78..         MOV     R0,#?V0 + 4
   \   0002BB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002BE   75....       MOV     ?V0 + 4,#aindex1 & 0xff
   \   0002C1   75....       MOV     ?V0 + 5,#(aindex1 >> 8) & 0xff
   \   0002C4   78..         MOV     R0,#?V0 + 4
   \   0002C6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002C9   75..07       MOV     ?V0 + 4,#0x7
   \   0002CC   75..00       MOV     ?V0 + 5,#0x0
   \   0002CF   78..         MOV     R0,#?V0 + 4
   \   0002D1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002D4   75....       MOV     ?V0 + 4,#peraBuf1 & 0xff
   \   0002D7   75....       MOV     ?V0 + 5,#(peraBuf1 >> 8) & 0xff
   \   0002DA   78..         MOV     R0,#?V0 + 4
   \   0002DC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002DF   740A         MOV     A,#0xa
   \   0002E1   12....       LCALL   ?XSTACK_DISP0_8
   \   0002E4   12....       LCALL   ?XLOAD_R2345
   \   0002E7   12....       LCALL   ??moving_average_f?relay
   \   0002EA   7408         MOV     A,#0x8
   \   0002EC   12....       LCALL   ?DEALLOC_XSTACK8
    794                                           // AValue[0]=avalue;
    795                                            break;
    796                                     }
    797                                 case '2':
    798                                    {
    799                                            //AValue[1]=avalue;
    800                                            break;
   \                     ??SampleApp_QuadrotorMSGCB_12:
   \   0002EF   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    801                                     }
    802                                 case '3':
    803                                    {
    804                                            AValue[2]=avalue;
   \                     ??SampleApp_QuadrotorMSGCB_4:
   \   0002F2   7402         MOV     A,#0x2
   \   0002F4   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F7   12....       LCALL   ?XLOAD_R2345
   \   0002FA   90....       MOV     DPTR,#AValue + 8
   \   0002FD   12....       LCALL   ?XSTORE_R2345
    805                                            break;
   \   000300   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    806                                     }
    807                                 case '4':
    808                                    {
    809                                            AValue[3]=avalue;
   \                     ??SampleApp_QuadrotorMSGCB_5:
   \   000303   7402         MOV     A,#0x2
   \   000305   12....       LCALL   ?XSTACK_DISP0_8
   \   000308   12....       LCALL   ?XLOAD_R2345
   \   00030B   90....       MOV     DPTR,#AValue + 12
   \   00030E   12....       LCALL   ?XSTORE_R2345
    810                                            break;
   \   000311   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    811                                     }
    812                      
    813                            break;
    814                        }
    815                   } 
    816                  else if(alphaindex=='N')
   \                     ??SampleApp_QuadrotorMSGCB_11:
   \   000314   7401         MOV     A,#0x1
   \   000316   12....       LCALL   ?XSTACK_DISP0_8
   \   000319   E0           MOVX    A,@DPTR
   \   00031A   644E         XRL     A,#0x4e
   \   00031C   6003         JZ      $+5
   \   00031E   02....       LJMP    ??SampleApp_QuadrotorMSGCB_13 & 0xFFFF
    817                       {
    818                                HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \   000321                ; Setup parameters for call to function HalUARTWrite
   \   000321   EE           MOV     A,R6
   \   000322   241F         ADD     A,#0x1f
   \   000324   F582         MOV     DPL,A
   \   000326   EF           MOV     A,R7
   \   000327   3400         ADDC    A,#0x0
   \   000329   F583         MOV     DPH,A
   \   00032B   E0           MOVX    A,@DPTR
   \   00032C   FC           MOV     R4,A
   \   00032D   A3           INC     DPTR
   \   00032E   E0           MOVX    A,@DPTR
   \   00032F   FD           MOV     R5,A
   \   000330   EE           MOV     A,R6
   \   000331   2421         ADD     A,#0x21
   \   000333   F582         MOV     DPL,A
   \   000335   EF           MOV     A,R7
   \   000336   3400         ADDC    A,#0x0
   \   000338   F583         MOV     DPH,A
   \   00033A   E0           MOVX    A,@DPTR
   \   00033B   FA           MOV     R2,A
   \   00033C   A3           INC     DPTR
   \   00033D   E0           MOVX    A,@DPTR
   \   00033E   FB           MOV     R3,A
   \   00033F   7900         MOV     R1,#0x0
   \   000341   12....       LCALL   ??HalUARTWrite?relay
    819                                byte index;
    820                                index=*(pkt->cmd.Data+1);
   \   000344   EE           MOV     A,R6
   \   000345   2421         ADD     A,#0x21
   \   000347   F582         MOV     DPL,A
   \   000349   EF           MOV     A,R7
   \   00034A   3400         ADDC    A,#0x0
   \   00034C   F583         MOV     DPH,A
   \   00034E   E0           MOVX    A,@DPTR
   \   00034F   F8           MOV     R0,A
   \   000350   A3           INC     DPTR
   \   000351   E0           MOVX    A,@DPTR
   \   000352   F583         MOV     DPH,A
   \   000354   8882         MOV     DPL,R0
   \   000356   A3           INC     DPTR
   \   000357   E0           MOVX    A,@DPTR
   \   000358   85..82       MOV     DPL,?XSP + 0
   \   00035B   85..83       MOV     DPH,?XSP + 1
   \   00035E   F0           MOVX    @DPTR,A
    821          
    822                                float nvalue;
    823                        //        float tempn=0.0f;
    824                                
    825                                if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
   \   00035F   EE           MOV     A,R6
   \   000360   2421         ADD     A,#0x21
   \   000362   F582         MOV     DPL,A
   \   000364   EF           MOV     A,R7
   \   000365   3400         ADDC    A,#0x0
   \   000367   F583         MOV     DPH,A
   \   000369   E0           MOVX    A,@DPTR
   \   00036A   F8           MOV     R0,A
   \   00036B   A3           INC     DPTR
   \   00036C   E0           MOVX    A,@DPTR
   \   00036D   F583         MOV     DPH,A
   \   00036F   8882         MOV     DPL,R0
   \   000371   A3           INC     DPTR
   \   000372   A3           INC     DPTR
   \   000373   A3           INC     DPTR
   \   000374   E0           MOVX    A,@DPTR
   \   000375   F8           MOV     R0,A
   \   000376   7900         MOV     R1,#0x0
   \   000378   24D0         ADD     A,#-0x30
   \   00037A   F8           MOV     R0,A
   \   00037B   E9           MOV     A,R1
   \   00037C   34FF         ADDC    A,#-0x1
   \   00037E   F9           MOV     R1,A
   \   00037F   C3           CLR     C
   \   000380   E8           MOV     A,R0
   \   000381   9400         SUBB    A,#0x0
   \   000383   E9           MOV     A,R1
   \   000384   9400         SUBB    A,#0x0
   \   000386   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000388   65D0         XRL     A,PSW
   \   00038A   33           RLC     A
   \   00038B   5003         JNC     $+5
   \   00038D   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
   \   000390   EE           MOV     A,R6
   \   000391   2421         ADD     A,#0x21
   \   000393   F582         MOV     DPL,A
   \   000395   EF           MOV     A,R7
   \   000396   3400         ADDC    A,#0x0
   \   000398   F583         MOV     DPH,A
   \   00039A   E0           MOVX    A,@DPTR
   \   00039B   F8           MOV     R0,A
   \   00039C   A3           INC     DPTR
   \   00039D   E0           MOVX    A,@DPTR
   \   00039E   F583         MOV     DPH,A
   \   0003A0   8882         MOV     DPL,R0
   \   0003A2   A3           INC     DPTR
   \   0003A3   A3           INC     DPTR
   \   0003A4   A3           INC     DPTR
   \   0003A5   E0           MOVX    A,@DPTR
   \   0003A6   F8           MOV     R0,A
   \   0003A7   7900         MOV     R1,#0x0
   \   0003A9   24D0         ADD     A,#-0x30
   \   0003AB   F8           MOV     R0,A
   \   0003AC   E9           MOV     A,R1
   \   0003AD   34FF         ADDC    A,#-0x1
   \   0003AF   F9           MOV     R1,A
   \   0003B0   C3           CLR     C
   \   0003B1   E8           MOV     A,R0
   \   0003B2   940A         SUBB    A,#0xa
   \   0003B4   E9           MOV     A,R1
   \   0003B5   9400         SUBB    A,#0x0
   \   0003B7   A2D2         MOV     C,0xD0 /* PSW */.2
   \   0003B9   65D0         XRL     A,PSW
   \   0003BB   33           RLC     A
   \   0003BC   4003         JC      $+5
   \   0003BE   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    826                                {  nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   0003C1   EE           MOV     A,R6
   \   0003C2   2421         ADD     A,#0x21
   \   0003C4   F582         MOV     DPL,A
   \   0003C6   EF           MOV     A,R7
   \   0003C7   3400         ADDC    A,#0x0
   \   0003C9   F583         MOV     DPH,A
   \   0003CB   E0           MOVX    A,@DPTR
   \   0003CC   F8           MOV     R0,A
   \   0003CD   A3           INC     DPTR
   \   0003CE   E0           MOVX    A,@DPTR
   \   0003CF   F583         MOV     DPH,A
   \   0003D1   8882         MOV     DPL,R0
   \   0003D3   A3           INC     DPTR
   \   0003D4   A3           INC     DPTR
   \   0003D5   A3           INC     DPTR
   \   0003D6   E0           MOVX    A,@DPTR
   \   0003D7   F8           MOV     R0,A
   \   0003D8   7900         MOV     R1,#0x0
   \   0003DA   24D0         ADD     A,#-0x30
   \   0003DC   F5..         MOV     ?V0 + 8,A
   \   0003DE   E9           MOV     A,R1
   \   0003DF   34FF         ADDC    A,#-0x1
   \   0003E1   F5..         MOV     ?V0 + 9,A
   \   0003E3   E5..         MOV     A,?V0 + 9
   \   0003E5   33           RLC     A
   \   0003E6   95E0         SUBB    A,0xE0 /* A   */
   \   0003E8   F5..         MOV     ?V0 + 10,A
   \   0003EA   F5..         MOV     ?V0 + 11,A
   \   0003EC   78..         MOV     R0,#?V0 + 8
   \   0003EE   12....       LCALL   ?L_TO_FLT
   \   0003F1   C0..         PUSH    ?V0 + 8
   \   0003F3   C0..         PUSH    ?V0 + 9
   \   0003F5   C0..         PUSH    ?V0 + 10
   \   0003F7   C0..         PUSH    ?V0 + 11
   \   0003F9   EE           MOV     A,R6
   \   0003FA   2421         ADD     A,#0x21
   \   0003FC   F582         MOV     DPL,A
   \   0003FE   EF           MOV     A,R7
   \   0003FF   3400         ADDC    A,#0x0
   \   000401   F583         MOV     DPH,A
   \   000403   E0           MOVX    A,@DPTR
   \   000404   F8           MOV     R0,A
   \   000405   A3           INC     DPTR
   \   000406   E0           MOVX    A,@DPTR
   \   000407   F583         MOV     DPH,A
   \   000409   8882         MOV     DPL,R0
   \   00040B   A3           INC     DPTR
   \   00040C   A3           INC     DPTR
   \   00040D   A3           INC     DPTR
   \   00040E   A3           INC     DPTR
   \   00040F   A3           INC     DPTR
   \   000410   E0           MOVX    A,@DPTR
   \   000411   F8           MOV     R0,A
   \   000412   7900         MOV     R1,#0x0
   \   000414   24D0         ADD     A,#-0x30
   \   000416   F5..         MOV     ?V0 + 12,A
   \   000418   E9           MOV     A,R1
   \   000419   34FF         ADDC    A,#-0x1
   \   00041B   F5..         MOV     ?V0 + 13,A
   \   00041D   E5..         MOV     A,?V0 + 13
   \   00041F   33           RLC     A
   \   000420   95E0         SUBB    A,0xE0 /* A   */
   \   000422   F5..         MOV     ?V0 + 14,A
   \   000424   F5..         MOV     ?V0 + 15,A
   \   000426   78..         MOV     R0,#?V0 + 12
   \   000428   12....       LCALL   ?L_TO_FLT
   \   00042B   90....       MOV     DPTR,#__Constant_3dcccccd
   \   00042E   78..         MOV     R0,#?V0 + 8
   \   000430   12....       LCALL   ?L_MOV_X
   \   000433   78..         MOV     R0,#?V0 + 12
   \   000435   79..         MOV     R1,#?V0 + 8
   \   000437   12....       LCALL   ?FLT_MUL
   \   00043A   D0..         POP     ?V0 + 11
   \   00043C   D0..         POP     ?V0 + 10
   \   00043E   D0..         POP     ?V0 + 9
   \   000440   D0..         POP     ?V0 + 8
   \   000442   78..         MOV     R0,#?V0 + 8
   \   000444   79..         MOV     R1,#?V0 + 12
   \   000446   12....       LCALL   ?FLT_ADD
   \   000449   C0..         PUSH    ?V0 + 8
   \   00044B   C0..         PUSH    ?V0 + 9
   \   00044D   C0..         PUSH    ?V0 + 10
   \   00044F   C0..         PUSH    ?V0 + 11
   \   000451   EE           MOV     A,R6
   \   000452   2421         ADD     A,#0x21
   \   000454   F582         MOV     DPL,A
   \   000456   EF           MOV     A,R7
   \   000457   3400         ADDC    A,#0x0
   \   000459   F583         MOV     DPH,A
   \   00045B   E0           MOVX    A,@DPTR
   \   00045C   F8           MOV     R0,A
   \   00045D   A3           INC     DPTR
   \   00045E   E0           MOVX    A,@DPTR
   \   00045F   C8           XCH     A,R0
   \   000460   2406         ADD     A,#0x6
   \   000462   F582         MOV     DPL,A
   \   000464   E8           MOV     A,R0
   \   000465   3400         ADDC    A,#0x0
   \   000467   F583         MOV     DPH,A
   \   000469   E0           MOVX    A,@DPTR
   \   00046A   F8           MOV     R0,A
   \   00046B   7900         MOV     R1,#0x0
   \   00046D   24D0         ADD     A,#-0x30
   \   00046F   F5..         MOV     ?V0 + 12,A
   \   000471   E9           MOV     A,R1
   \   000472   34FF         ADDC    A,#-0x1
   \   000474   F5..         MOV     ?V0 + 13,A
   \   000476   E5..         MOV     A,?V0 + 13
   \   000478   33           RLC     A
   \   000479   95E0         SUBB    A,0xE0 /* A   */
   \   00047B   F5..         MOV     ?V0 + 14,A
   \   00047D   F5..         MOV     ?V0 + 15,A
   \   00047F   78..         MOV     R0,#?V0 + 12
   \   000481   12....       LCALL   ?L_TO_FLT
   \   000484   90....       MOV     DPTR,#__Constant_3c23d70a
   \   000487   78..         MOV     R0,#?V0 + 8
   \   000489   12....       LCALL   ?L_MOV_X
   \   00048C   78..         MOV     R0,#?V0 + 12
   \   00048E   79..         MOV     R1,#?V0 + 8
   \   000490   12....       LCALL   ?FLT_MUL
   \   000493   D0..         POP     ?V0 + 11
   \   000495   D0..         POP     ?V0 + 10
   \   000497   D0..         POP     ?V0 + 9
   \   000499   D0..         POP     ?V0 + 8
   \   00049B   78..         MOV     R0,#?V0 + 8
   \   00049D   79..         MOV     R1,#?V0 + 12
   \   00049F   12....       LCALL   ?FLT_ADD
   \   0004A2   85....       MOV     ?V0 + 4,?V0 + 8
   \   0004A5   85....       MOV     ?V0 + 5,?V0 + 9
   \   0004A8   85....       MOV     ?V0 + 6,?V0 + 10
   \   0004AB   85....       MOV     ?V0 + 7,?V0 + 11
    827                                    
    828                                     switch (index)
   \   0004AE   85..82       MOV     DPL,?XSP + 0
   \   0004B1   85..83       MOV     DPH,?XSP + 1
   \   0004B4   E0           MOVX    A,@DPTR
   \   0004B5   24CF         ADD     A,#-0x31
   \   0004B7   6012         JZ      ??SampleApp_QuadrotorMSGCB_14
   \   0004B9   14           DEC     A
   \   0004BA   604E         JZ      ??SampleApp_QuadrotorMSGCB_15
   \   0004BC   14           DEC     A
   \   0004BD   7003         JNZ     $+5
   \   0004BF   02....       LJMP    ??SampleApp_QuadrotorMSGCB_16 & 0xFFFF
   \   0004C2   14           DEC     A
   \   0004C3   7003         JNZ     $+5
   \   0004C5   02....       LJMP    ??SampleApp_QuadrotorMSGCB_17 & 0xFFFF
   \   0004C8   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    829                                     {  
    830                                          case '1':
    831                                           {
    832                                               moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
   \                     ??SampleApp_QuadrotorMSGCB_14:
   \   0004CB                ; Setup parameters for call to function moving_average_f
   \   0004CB   75....       MOV     ?V0 + 8,#nValue & 0xff
   \   0004CE   75....       MOV     ?V0 + 9,#(nValue >> 8) & 0xff
   \   0004D1   78..         MOV     R0,#?V0 + 8
   \   0004D3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004D6   75....       MOV     ?V0 + 8,#nindex1 & 0xff
   \   0004D9   75....       MOV     ?V0 + 9,#(nindex1 >> 8) & 0xff
   \   0004DC   78..         MOV     R0,#?V0 + 8
   \   0004DE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004E1   75..07       MOV     ?V0 + 8,#0x7
   \   0004E4   75..00       MOV     ?V0 + 9,#0x0
   \   0004E7   78..         MOV     R0,#?V0 + 8
   \   0004E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004EC   75....       MOV     ?V0 + 8,#pernBuf1 & 0xff
   \   0004EF   75....       MOV     ?V0 + 9,#(pernBuf1 >> 8) & 0xff
   \   0004F2   78..         MOV     R0,#?V0 + 8
   \   0004F4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004F7   AA..         MOV     R2,?V0 + 4
   \   0004F9   AB..         MOV     R3,?V0 + 5
   \   0004FB   AC..         MOV     R4,?V0 + 6
   \   0004FD   AD..         MOV     R5,?V0 + 7
   \   0004FF   12....       LCALL   ??moving_average_f?relay
   \   000502   7408         MOV     A,#0x8
   \   000504   12....       LCALL   ?DEALLOC_XSTACK8
    833                                             
    834                                            
    835                                             break;
   \   000507   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    836                                           }
    837                                          case '2':
    838                                           {
    839          
    840                                                moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
   \                     ??SampleApp_QuadrotorMSGCB_15:
   \   00050A                ; Setup parameters for call to function moving_average_f
   \   00050A   75....       MOV     ?V0 + 8,#(nValue + 4) & 0xff
   \   00050D   75....       MOV     ?V0 + 9,#((nValue + 4) >> 8) & 0xff
   \   000510   78..         MOV     R0,#?V0 + 8
   \   000512   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000515   75....       MOV     ?V0 + 8,#nindex2 & 0xff
   \   000518   75....       MOV     ?V0 + 9,#(nindex2 >> 8) & 0xff
   \   00051B   78..         MOV     R0,#?V0 + 8
   \   00051D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000520   75..07       MOV     ?V0 + 8,#0x7
   \   000523   75..00       MOV     ?V0 + 9,#0x0
   \   000526   78..         MOV     R0,#?V0 + 8
   \   000528   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00052B   75....       MOV     ?V0 + 8,#pernBuf2 & 0xff
   \   00052E   75....       MOV     ?V0 + 9,#(pernBuf2 >> 8) & 0xff
   \   000531   78..         MOV     R0,#?V0 + 8
   \   000533   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000536   AA..         MOV     R2,?V0 + 4
   \   000538   AB..         MOV     R3,?V0 + 5
   \   00053A   AC..         MOV     R4,?V0 + 6
   \   00053C   AD..         MOV     R5,?V0 + 7
   \   00053E   12....       LCALL   ??moving_average_f?relay
   \   000541   7408         MOV     A,#0x8
   \   000543   12....       LCALL   ?DEALLOC_XSTACK8
    841                                             break;
   \   000546   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    842                                           }
    843                                           case '3':
    844                                           {
    845                                             moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
   \                     ??SampleApp_QuadrotorMSGCB_16:
   \   000549                ; Setup parameters for call to function moving_average_f
   \   000549   75....       MOV     ?V0 + 8,#(nValue + 8) & 0xff
   \   00054C   75....       MOV     ?V0 + 9,#((nValue + 8) >> 8) & 0xff
   \   00054F   78..         MOV     R0,#?V0 + 8
   \   000551   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000554   75....       MOV     ?V0 + 8,#nindex3 & 0xff
   \   000557   75....       MOV     ?V0 + 9,#(nindex3 >> 8) & 0xff
   \   00055A   78..         MOV     R0,#?V0 + 8
   \   00055C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00055F   75..07       MOV     ?V0 + 8,#0x7
   \   000562   75..00       MOV     ?V0 + 9,#0x0
   \   000565   78..         MOV     R0,#?V0 + 8
   \   000567   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00056A   75....       MOV     ?V0 + 8,#pernBuf3 & 0xff
   \   00056D   75....       MOV     ?V0 + 9,#(pernBuf3 >> 8) & 0xff
   \   000570   78..         MOV     R0,#?V0 + 8
   \   000572   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000575   AA..         MOV     R2,?V0 + 4
   \   000577   AB..         MOV     R3,?V0 + 5
   \   000579   AC..         MOV     R4,?V0 + 6
   \   00057B   AD..         MOV     R5,?V0 + 7
   \   00057D   12....       LCALL   ??moving_average_f?relay
   \   000580   7408         MOV     A,#0x8
   \   000582   12....       LCALL   ?DEALLOC_XSTACK8
    846                                             break;
   \   000585   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    847                                           }
    848                                           case '4':
    849                                           {
    850                                              moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
   \                     ??SampleApp_QuadrotorMSGCB_17:
   \   000588                ; Setup parameters for call to function moving_average_f
   \   000588   75....       MOV     ?V0 + 8,#(nValue + 12) & 0xff
   \   00058B   75....       MOV     ?V0 + 9,#((nValue + 12) >> 8) & 0xff
   \   00058E   78..         MOV     R0,#?V0 + 8
   \   000590   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000593   75....       MOV     ?V0 + 8,#nindex4 & 0xff
   \   000596   75....       MOV     ?V0 + 9,#(nindex4 >> 8) & 0xff
   \   000599   78..         MOV     R0,#?V0 + 8
   \   00059B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00059E   75..07       MOV     ?V0 + 8,#0x7
   \   0005A1   75..00       MOV     ?V0 + 9,#0x0
   \   0005A4   78..         MOV     R0,#?V0 + 8
   \   0005A6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005A9   75....       MOV     ?V0 + 8,#pernBuf4 & 0xff
   \   0005AC   75....       MOV     ?V0 + 9,#(pernBuf4 >> 8) & 0xff
   \   0005AF   78..         MOV     R0,#?V0 + 8
   \   0005B1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005B4   AA..         MOV     R2,?V0 + 4
   \   0005B6   AB..         MOV     R3,?V0 + 5
   \   0005B8   AC..         MOV     R4,?V0 + 6
   \   0005BA   AD..         MOV     R5,?V0 + 7
   \   0005BC   12....       LCALL   ??moving_average_f?relay
   \   0005BF   7408         MOV     A,#0x8
   \   0005C1   12....       LCALL   ?DEALLOC_XSTACK8
    851                                             break;
   \   0005C4   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    852                                                   }
    853                                          break;
    854                                      }
    855                                    }
    856                               }
    857                  else if (alphaindex=='O')
   \                     ??SampleApp_QuadrotorMSGCB_13:
   \   0005C7   7401         MOV     A,#0x1
   \   0005C9   12....       LCALL   ?XSTACK_DISP0_8
   \   0005CC   E0           MOVX    A,@DPTR
   \   0005CD   644F         XRL     A,#0x4f
   \   0005CF   6003         JZ      $+5
   \   0005D1   02....       LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
    858                  {
    859                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
   \   0005D4                ; Setup parameters for call to function HalUARTWrite
   \   0005D4   EE           MOV     A,R6
   \   0005D5   241F         ADD     A,#0x1f
   \   0005D7   F582         MOV     DPL,A
   \   0005D9   EF           MOV     A,R7
   \   0005DA   3400         ADDC    A,#0x0
   \   0005DC   F583         MOV     DPH,A
   \   0005DE   E0           MOVX    A,@DPTR
   \   0005DF   FC           MOV     R4,A
   \   0005E0   A3           INC     DPTR
   \   0005E1   E0           MOVX    A,@DPTR
   \   0005E2   FD           MOV     R5,A
   \   0005E3   EE           MOV     A,R6
   \   0005E4   2421         ADD     A,#0x21
   \   0005E6   F582         MOV     DPL,A
   \   0005E8   EF           MOV     A,R7
   \   0005E9   3400         ADDC    A,#0x0
   \   0005EB   F583         MOV     DPH,A
   \   0005ED   E0           MOVX    A,@DPTR
   \   0005EE   FA           MOV     R2,A
   \   0005EF   A3           INC     DPTR
   \   0005F0   E0           MOVX    A,@DPTR
   \   0005F1   FB           MOV     R3,A
   \   0005F2   7900         MOV     R1,#0x0
   \   0005F4   12....       LCALL   ??HalUARTWrite?relay
    860                     byte oindex;
    861                     float plus;
    862                        oindex=*(pkt->cmd.Data+1);
   \   0005F7   EE           MOV     A,R6
   \   0005F8   2421         ADD     A,#0x21
   \   0005FA   F582         MOV     DPL,A
   \   0005FC   EF           MOV     A,R7
   \   0005FD   3400         ADDC    A,#0x0
   \   0005FF   F583         MOV     DPH,A
   \   000601   E0           MOVX    A,@DPTR
   \   000602   F8           MOV     R0,A
   \   000603   A3           INC     DPTR
   \   000604   E0           MOVX    A,@DPTR
   \   000605   F583         MOV     DPH,A
   \   000607   8882         MOV     DPL,R0
   \   000609   A3           INC     DPTR
   \   00060A   E0           MOVX    A,@DPTR
   \   00060B   85..82       MOV     DPL,?XSP + 0
   \   00060E   85..83       MOV     DPH,?XSP + 1
   \   000611   F0           MOVX    @DPTR,A
    863                        if (*(pkt->cmd.Data+2)=='+')
   \   000612   EE           MOV     A,R6
   \   000613   2421         ADD     A,#0x21
   \   000615   F582         MOV     DPL,A
   \   000617   EF           MOV     A,R7
   \   000618   3400         ADDC    A,#0x0
   \   00061A   F583         MOV     DPH,A
   \   00061C   E0           MOVX    A,@DPTR
   \   00061D   F8           MOV     R0,A
   \   00061E   A3           INC     DPTR
   \   00061F   E0           MOVX    A,@DPTR
   \   000620   F583         MOV     DPH,A
   \   000622   8882         MOV     DPL,R0
   \   000624   A3           INC     DPTR
   \   000625   A3           INC     DPTR
   \   000626   E0           MOVX    A,@DPTR
   \   000627   642B         XRL     A,#0x2b
   \   000629   7012         JNZ     ??SampleApp_QuadrotorMSGCB_18
    864                        {
    865                           plus=1;
   \   00062B   7800         MOV     R0,#0x0
   \   00062D   7900         MOV     R1,#0x0
   \   00062F   7A80         MOV     R2,#-0x80
   \   000631   7B3F         MOV     R3,#0x3f
   \   000633   88..         MOV     ?V0 + 4,R0
   \   000635   89..         MOV     ?V0 + 5,R1
   \   000637   8A..         MOV     ?V0 + 6,R2
   \   000639   8B..         MOV     ?V0 + 7,R3
   \   00063B   8010         SJMP    ??SampleApp_QuadrotorMSGCB_19
    866                        }
    867                        else
    868                        {
    869                          plus=-1;
   \                     ??SampleApp_QuadrotorMSGCB_18:
   \   00063D   7800         MOV     R0,#0x0
   \   00063F   7900         MOV     R1,#0x0
   \   000641   7A80         MOV     R2,#-0x80
   \   000643   7BBF         MOV     R3,#-0x41
   \   000645   88..         MOV     ?V0 + 4,R0
   \   000647   89..         MOV     ?V0 + 5,R1
   \   000649   8A..         MOV     ?V0 + 6,R2
   \   00064B   8B..         MOV     ?V0 + 7,R3
    870                        }
    871                        offseta=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \                     ??SampleApp_QuadrotorMSGCB_19:
   \   00064D   EE           MOV     A,R6
   \   00064E   2421         ADD     A,#0x21
   \   000650   F582         MOV     DPL,A
   \   000652   EF           MOV     A,R7
   \   000653   3400         ADDC    A,#0x0
   \   000655   F583         MOV     DPH,A
   \   000657   E0           MOVX    A,@DPTR
   \   000658   F8           MOV     R0,A
   \   000659   A3           INC     DPTR
   \   00065A   E0           MOVX    A,@DPTR
   \   00065B   F583         MOV     DPH,A
   \   00065D   8882         MOV     DPL,R0
   \   00065F   A3           INC     DPTR
   \   000660   A3           INC     DPTR
   \   000661   A3           INC     DPTR
   \   000662   E0           MOVX    A,@DPTR
   \   000663   F8           MOV     R0,A
   \   000664   7900         MOV     R1,#0x0
   \   000666   24D0         ADD     A,#-0x30
   \   000668   F5..         MOV     ?V0 + 8,A
   \   00066A   E9           MOV     A,R1
   \   00066B   34FF         ADDC    A,#-0x1
   \   00066D   F5..         MOV     ?V0 + 9,A
   \   00066F   E5..         MOV     A,?V0 + 9
   \   000671   33           RLC     A
   \   000672   95E0         SUBB    A,0xE0 /* A   */
   \   000674   F5..         MOV     ?V0 + 10,A
   \   000676   F5..         MOV     ?V0 + 11,A
   \   000678   78..         MOV     R0,#?V0 + 8
   \   00067A   12....       LCALL   ?L_TO_FLT
   \   00067D   90....       MOV     DPTR,#__Constant_41200000
   \   000680   78..         MOV     R0,#?V0 + 12
   \   000682   12....       LCALL   ?L_MOV_X
   \   000685   78..         MOV     R0,#?V0 + 8
   \   000687   79..         MOV     R1,#?V0 + 12
   \   000689   12....       LCALL   ?FLT_MUL
   \   00068C   EE           MOV     A,R6
   \   00068D   2421         ADD     A,#0x21
   \   00068F   F582         MOV     DPL,A
   \   000691   EF           MOV     A,R7
   \   000692   3400         ADDC    A,#0x0
   \   000694   F583         MOV     DPH,A
   \   000696   E0           MOVX    A,@DPTR
   \   000697   F8           MOV     R0,A
   \   000698   A3           INC     DPTR
   \   000699   E0           MOVX    A,@DPTR
   \   00069A   F583         MOV     DPH,A
   \   00069C   8882         MOV     DPL,R0
   \   00069E   A3           INC     DPTR
   \   00069F   A3           INC     DPTR
   \   0006A0   A3           INC     DPTR
   \   0006A1   A3           INC     DPTR
   \   0006A2   E0           MOVX    A,@DPTR
   \   0006A3   F8           MOV     R0,A
   \   0006A4   7900         MOV     R1,#0x0
   \   0006A6   24D0         ADD     A,#-0x30
   \   0006A8   F5..         MOV     ?V0 + 12,A
   \   0006AA   E9           MOV     A,R1
   \   0006AB   34FF         ADDC    A,#-0x1
   \   0006AD   F5..         MOV     ?V0 + 13,A
   \   0006AF   E5..         MOV     A,?V0 + 13
   \   0006B1   33           RLC     A
   \   0006B2   95E0         SUBB    A,0xE0 /* A   */
   \   0006B4   F5..         MOV     ?V0 + 14,A
   \   0006B6   F5..         MOV     ?V0 + 15,A
   \   0006B8   78..         MOV     R0,#?V0 + 12
   \   0006BA   12....       LCALL   ?L_TO_FLT
   \   0006BD   78..         MOV     R0,#?V0 + 8
   \   0006BF   79..         MOV     R1,#?V0 + 12
   \   0006C1   12....       LCALL   ?FLT_ADD
   \   0006C4   C0..         PUSH    ?V0 + 8
   \   0006C6   C0..         PUSH    ?V0 + 9
   \   0006C8   C0..         PUSH    ?V0 + 10
   \   0006CA   C0..         PUSH    ?V0 + 11
   \   0006CC   EE           MOV     A,R6
   \   0006CD   2421         ADD     A,#0x21
   \   0006CF   F582         MOV     DPL,A
   \   0006D1   EF           MOV     A,R7
   \   0006D2   3400         ADDC    A,#0x0
   \   0006D4   F583         MOV     DPH,A
   \   0006D6   E0           MOVX    A,@DPTR
   \   0006D7   F8           MOV     R0,A
   \   0006D8   A3           INC     DPTR
   \   0006D9   E0           MOVX    A,@DPTR
   \   0006DA   C8           XCH     A,R0
   \   0006DB   2406         ADD     A,#0x6
   \   0006DD   F582         MOV     DPL,A
   \   0006DF   E8           MOV     A,R0
   \   0006E0   3400         ADDC    A,#0x0
   \   0006E2   F583         MOV     DPH,A
   \   0006E4   E0           MOVX    A,@DPTR
   \   0006E5   F8           MOV     R0,A
   \   0006E6   7900         MOV     R1,#0x0
   \   0006E8   24D0         ADD     A,#-0x30
   \   0006EA   F5..         MOV     ?V0 + 12,A
   \   0006EC   E9           MOV     A,R1
   \   0006ED   34FF         ADDC    A,#-0x1
   \   0006EF   F5..         MOV     ?V0 + 13,A
   \   0006F1   E5..         MOV     A,?V0 + 13
   \   0006F3   33           RLC     A
   \   0006F4   95E0         SUBB    A,0xE0 /* A   */
   \   0006F6   F5..         MOV     ?V0 + 14,A
   \   0006F8   F5..         MOV     ?V0 + 15,A
   \   0006FA   78..         MOV     R0,#?V0 + 12
   \   0006FC   12....       LCALL   ?L_TO_FLT
   \   0006FF   90....       MOV     DPTR,#__Constant_3dcccccd
   \   000702   78..         MOV     R0,#?V0 + 8
   \   000704   12....       LCALL   ?L_MOV_X
   \   000707   78..         MOV     R0,#?V0 + 12
   \   000709   79..         MOV     R1,#?V0 + 8
   \   00070B   12....       LCALL   ?FLT_MUL
   \   00070E   D0..         POP     ?V0 + 11
   \   000710   D0..         POP     ?V0 + 10
   \   000712   D0..         POP     ?V0 + 9
   \   000714   D0..         POP     ?V0 + 8
   \   000716   78..         MOV     R0,#?V0 + 8
   \   000718   79..         MOV     R1,#?V0 + 12
   \   00071A   12....       LCALL   ?FLT_ADD
   \   00071D   85....       MOV     ?V0 + 0,?V0 + 8
   \   000720   85....       MOV     ?V0 + 1,?V0 + 9
   \   000723   85....       MOV     ?V0 + 2,?V0 + 10
   \   000726   85....       MOV     ?V0 + 3,?V0 + 11
    872                      
    873                            if (oindex=='1')
   \   000729   85..82       MOV     DPL,?XSP + 0
   \   00072C   85..83       MOV     DPH,?XSP + 1
   \   00072F   E0           MOVX    A,@DPTR
   \   000730   6431         XRL     A,#0x31
   \   000732   7011         JNZ     ??SampleApp_QuadrotorMSGCB_20
    874                                    {
    875                                            OffsetAValue[0]=plus*offseta;
   \   000734   78..         MOV     R0,#?V0 + 4
   \   000736   79..         MOV     R1,#?V0 + 0
   \   000738   12....       LCALL   ?FLT_MUL
   \   00073B   90....       MOV     DPTR,#OffsetAValue
   \   00073E   78..         MOV     R0,#?V0 + 4
   \   000740   12....       LCALL   ?L_MOV_TO_X
   \   000743   8052         SJMP    ??SampleApp_QuadrotorMSGCB_0
    876                                           
    877                                     }
    878                             else if (oindex=='2')
   \                     ??SampleApp_QuadrotorMSGCB_20:
   \   000745   85..82       MOV     DPL,?XSP + 0
   \   000748   85..83       MOV     DPH,?XSP + 1
   \   00074B   E0           MOVX    A,@DPTR
   \   00074C   6432         XRL     A,#0x32
   \   00074E   7011         JNZ     ??SampleApp_QuadrotorMSGCB_21
    879                                    {
    880                                            OffsetAValue[1]=plus*offseta;
   \   000750   78..         MOV     R0,#?V0 + 4
   \   000752   79..         MOV     R1,#?V0 + 0
   \   000754   12....       LCALL   ?FLT_MUL
   \   000757   90....       MOV     DPTR,#OffsetAValue + 4
   \   00075A   78..         MOV     R0,#?V0 + 4
   \   00075C   12....       LCALL   ?L_MOV_TO_X
   \   00075F   8036         SJMP    ??SampleApp_QuadrotorMSGCB_0
    881                                           
    882                                     }
    883                             else  if (oindex=='3')
   \                     ??SampleApp_QuadrotorMSGCB_21:
   \   000761   85..82       MOV     DPL,?XSP + 0
   \   000764   85..83       MOV     DPH,?XSP + 1
   \   000767   E0           MOVX    A,@DPTR
   \   000768   6433         XRL     A,#0x33
   \   00076A   7011         JNZ     ??SampleApp_QuadrotorMSGCB_22
    884                                    {
    885                                            OffsetAValue[2]=plus*offseta;
   \   00076C   78..         MOV     R0,#?V0 + 4
   \   00076E   79..         MOV     R1,#?V0 + 0
   \   000770   12....       LCALL   ?FLT_MUL
   \   000773   90....       MOV     DPTR,#OffsetAValue + 8
   \   000776   78..         MOV     R0,#?V0 + 4
   \   000778   12....       LCALL   ?L_MOV_TO_X
   \   00077B   801A         SJMP    ??SampleApp_QuadrotorMSGCB_0
    886                                           
    887                                     }
    888                              else if (oindex=='4')
   \                     ??SampleApp_QuadrotorMSGCB_22:
   \   00077D   85..82       MOV     DPL,?XSP + 0
   \   000780   85..83       MOV     DPH,?XSP + 1
   \   000783   E0           MOVX    A,@DPTR
   \   000784   6434         XRL     A,#0x34
   \   000786   700F         JNZ     ??SampleApp_QuadrotorMSGCB_0
    889                                    {
    890                                            OffsetAValue[3]=plus*offseta;
   \   000788   78..         MOV     R0,#?V0 + 4
   \   00078A   79..         MOV     R1,#?V0 + 0
   \   00078C   12....       LCALL   ?FLT_MUL
   \   00078F   90....       MOV     DPTR,#OffsetAValue + 12
   \   000792   78..         MOV     R0,#?V0 + 4
   \   000794   12....       LCALL   ?L_MOV_TO_X
    891                                           
    892                                     }
    893                      
    894                        
    895                  }
    896               }
    897                
    898           
    899           
    900            }
    901          
    902          }
   \                     ??SampleApp_QuadrotorMSGCB_0:
   \   000797   7406         MOV     A,#0x6
   \   000799   12....       LCALL   ?DEALLOC_XSTACK8
   \   00079C   7F10         MOV     R7,#0x10
   \   00079E   02....       LJMP    ?BANKED_LEAVE_XDATA
    903          
    904          /*********************************************************************
    905           * @fn      SampleApp_Tester_calibrationMSGCB
    906           *
    907           * @brief   Data message processor callback.  This function processes
    908           *          any incoming data - probably from other devices.  So, based
    909           *          on cluster ID, perform the intended action.
    910           *
    911           * @param   none
    912           *
    913           * @return  none
    914           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    915          void SampleApp_Tester_calibrationMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_Tester_calibrationMSGCB:
    916          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    917          
    918            switch ( pkt->clusterId )
   \   000009   8E82         MOV     DPL,R6
   \   00000B   8F83         MOV     DPH,R7
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   F5..         MOV     ?V0 + 0,A
   \   000014   A3           INC     DPTR
   \   000015   E0           MOVX    A,@DPTR
   \   000016   F5..         MOV     ?V0 + 1,A
   \   000018   78..         MOV     R0,#?V0 + 0
   \   00001A   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_Tester_calibrationMS_0`:
   \   00001D   0100         DW        1
   \   00001F   01           DB        1
   \   000020   ....         DW        ??SampleApp_Tester_calibrationMSGCB_0
   \   000022   ....         DW        ??SampleApp_Tester_calibrationMSGCB_1
   \   000024   ....         DW        ??SampleApp_Tester_calibrationMSGCB_2
    919            {
    920              case SAMPLEAPP_PERIODIC_CLUSTERID:
    921                { 
    922                  //printRSSIandLQI(pkt,0);
    923                 //  int8 rssivalue;
    924                //  HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
    925                  byte index;
    926                  index=*(pkt->cmd.Data+1);
   \                     ??SampleApp_Tester_calibrationMSGCB_1:
   \   000026   EE           MOV     A,R6
   \   000027   2421         ADD     A,#0x21
   \   000029   F582         MOV     DPL,A
   \   00002B   EF           MOV     A,R7
   \   00002C   3400         ADDC    A,#0x0
   \   00002E   F583         MOV     DPH,A
   \   000030   E0           MOVX    A,@DPTR
   \   000031   F8           MOV     R0,A
   \   000032   A3           INC     DPTR
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F583         MOV     DPH,A
   \   000036   8882         MOV     DPL,R0
   \   000038   A3           INC     DPTR
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   F5..         MOV     ?V0 + 0,A
    927                  rssivalue=(0xff-pkt->rssi);
   \   00003C   EE           MOV     A,R6
   \   00003D   2418         ADD     A,#0x18
   \   00003F   F582         MOV     DPL,A
   \   000041   EF           MOV     A,R7
   \   000042   3400         ADDC    A,#0x0
   \   000044   F583         MOV     DPH,A
   \   000046   E0           MOVX    A,@DPTR
   \   000047   F8           MOV     R0,A
   \   000048   74FF         MOV     A,#-0x1
   \   00004A   C3           CLR     C
   \   00004B   98           SUBB    A,R0
   \   00004C   90....       MOV     DPTR,#rssivalue
   \   00004F   F0           MOVX    @DPTR,A
    928                  
    929                  switch (index)
   \   000050   E5..         MOV     A,?V0 + 0
   \   000052   24CF         ADD     A,#-0x31
   \   000054   6012         JZ      ??SampleApp_Tester_calibrationMSGCB_3
   \   000056   14           DEC     A
   \   000057   606A         JZ      ??SampleApp_Tester_calibrationMSGCB_4
   \   000059   14           DEC     A
   \   00005A   7003         JNZ     $+5
   \   00005C   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_5 & 0xFFFF
   \   00005F   14           DEC     A
   \   000060   7003         JNZ     $+5
   \   000062   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_6 & 0xFFFF
   \   000065   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    930                  {
    931                      case '1':
    932                        {
    933          
    934                          moving_average(rssivalue, perRssiBuf1, 11, imof1, &RssiValue[0]);
   \                     ??SampleApp_Tester_calibrationMSGCB_3:
   \   000068                ; Setup parameters for call to function moving_average
   \   000068   75....       MOV     ?V0 + 2,#RssiValue & 0xff
   \   00006B   75....       MOV     ?V0 + 3,#(RssiValue >> 8) & 0xff
   \   00006E   78..         MOV     R0,#?V0 + 2
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   75....       MOV     ?V0 + 2,#imof1 & 0xff
   \   000076   75....       MOV     ?V0 + 3,#(imof1 >> 8) & 0xff
   \   000079   78..         MOV     R0,#?V0 + 2
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007E   7C0B         MOV     R4,#0xb
   \   000080   7D00         MOV     R5,#0x0
   \   000082   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   000084   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   000086   90....       MOV     DPTR,#rssivalue
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   F9           MOV     R1,A
   \   00008B   12....       LCALL   ??moving_average?relay
   \   00008E   7404         MOV     A,#0x4
   \   000090   12....       LCALL   ?DEALLOC_XSTACK8
    935                          if (DeviceID==6)
   \   000093   90....       MOV     DPTR,#DeviceID
   \   000096   E0           MOVX    A,@DPTR
   \   000097   6406         XRL     A,#0x6
   \   000099   7004         JNZ     ??SampleApp_Tester_calibrationMSGCB_7
   \   00009B   A3           INC     DPTR
   \   00009C   E0           MOVX    A,@DPTR
   \   00009D   6400         XRL     A,#0x0
   \                     ??SampleApp_Tester_calibrationMSGCB_7:
   \   00009F   701F         JNZ     ??SampleApp_Tester_calibrationMSGCB_8
    936                          {       
    937                            OffsetAValue[0]=RssiValue[0]-RefAValue[0];
   \   0000A1   90....       MOV     DPTR,#RssiValue
   \   0000A4   78..         MOV     R0,#?V0 + 4
   \   0000A6   12....       LCALL   ?L_MOV_X
   \   0000A9   90....       MOV     DPTR,#RefAValue
   \   0000AC   78..         MOV     R0,#?V0 + 8
   \   0000AE   12....       LCALL   ?L_MOV_X
   \   0000B1   78..         MOV     R0,#?V0 + 4
   \   0000B3   79..         MOV     R1,#?V0 + 8
   \   0000B5   12....       LCALL   ?FLT_SUB
   \   0000B8   90....       MOV     DPTR,#OffsetAValue
   \   0000BB   78..         MOV     R0,#?V0 + 4
   \   0000BD   12....       LCALL   ?L_MOV_TO_X
    938                          }
    939                        }
    940                      
    941                            break;
   \                     ??SampleApp_Tester_calibrationMSGCB_8:
   \   0000C0   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    942                      case '2':
    943                        {
    944                           moving_average(rssivalue, perRssiBuf2, 11, imof2, &RssiValue[1]);
   \                     ??SampleApp_Tester_calibrationMSGCB_4:
   \   0000C3                ; Setup parameters for call to function moving_average
   \   0000C3   75....       MOV     ?V0 + 2,#(RssiValue + 4) & 0xff
   \   0000C6   75....       MOV     ?V0 + 3,#((RssiValue + 4) >> 8) & 0xff
   \   0000C9   78..         MOV     R0,#?V0 + 2
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   75....       MOV     ?V0 + 2,#imof2 & 0xff
   \   0000D1   75....       MOV     ?V0 + 3,#(imof2 >> 8) & 0xff
   \   0000D4   78..         MOV     R0,#?V0 + 2
   \   0000D6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D9   7C0B         MOV     R4,#0xb
   \   0000DB   7D00         MOV     R5,#0x0
   \   0000DD   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   0000DF   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   0000E1   90....       MOV     DPTR,#rssivalue
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   F9           MOV     R1,A
   \   0000E6   12....       LCALL   ??moving_average?relay
   \   0000E9   7404         MOV     A,#0x4
   \   0000EB   12....       LCALL   ?DEALLOC_XSTACK8
    945                           if (DeviceID==6)
   \   0000EE   90....       MOV     DPTR,#DeviceID
   \   0000F1   E0           MOVX    A,@DPTR
   \   0000F2   6406         XRL     A,#0x6
   \   0000F4   7004         JNZ     ??SampleApp_Tester_calibrationMSGCB_9
   \   0000F6   A3           INC     DPTR
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   6400         XRL     A,#0x0
   \                     ??SampleApp_Tester_calibrationMSGCB_9:
   \   0000FA   701F         JNZ     ??SampleApp_Tester_calibrationMSGCB_10
    946                          {       
    947                            OffsetAValue[1]=RssiValue[1]-RefAValue[1];
   \   0000FC   90....       MOV     DPTR,#RssiValue + 4
   \   0000FF   78..         MOV     R0,#?V0 + 4
   \   000101   12....       LCALL   ?L_MOV_X
   \   000104   90....       MOV     DPTR,#RefAValue + 4
   \   000107   78..         MOV     R0,#?V0 + 8
   \   000109   12....       LCALL   ?L_MOV_X
   \   00010C   78..         MOV     R0,#?V0 + 4
   \   00010E   79..         MOV     R1,#?V0 + 8
   \   000110   12....       LCALL   ?FLT_SUB
   \   000113   90....       MOV     DPTR,#OffsetAValue + 4
   \   000116   78..         MOV     R0,#?V0 + 4
   \   000118   12....       LCALL   ?L_MOV_TO_X
    948                          }
    949                        }
    950                            break;
   \                     ??SampleApp_Tester_calibrationMSGCB_10:
   \   00011B   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    951                      case '3':
    952                        {
    953                           moving_average(rssivalue, perRssiBuf3, 11, imof3, &RssiValue[2]);
   \                     ??SampleApp_Tester_calibrationMSGCB_5:
   \   00011E                ; Setup parameters for call to function moving_average
   \   00011E   75....       MOV     ?V0 + 2,#(RssiValue + 8) & 0xff
   \   000121   75....       MOV     ?V0 + 3,#((RssiValue + 8) >> 8) & 0xff
   \   000124   78..         MOV     R0,#?V0 + 2
   \   000126   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000129   75....       MOV     ?V0 + 2,#imof3 & 0xff
   \   00012C   75....       MOV     ?V0 + 3,#(imof3 >> 8) & 0xff
   \   00012F   78..         MOV     R0,#?V0 + 2
   \   000131   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000134   7C0B         MOV     R4,#0xb
   \   000136   7D00         MOV     R5,#0x0
   \   000138   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   00013A   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   00013C   90....       MOV     DPTR,#rssivalue
   \   00013F   E0           MOVX    A,@DPTR
   \   000140   F9           MOV     R1,A
   \   000141   12....       LCALL   ??moving_average?relay
   \   000144   7404         MOV     A,#0x4
   \   000146   12....       LCALL   ?DEALLOC_XSTACK8
    954                           if (DeviceID==6)
   \   000149   90....       MOV     DPTR,#DeviceID
   \   00014C   E0           MOVX    A,@DPTR
   \   00014D   6406         XRL     A,#0x6
   \   00014F   7004         JNZ     ??SampleApp_Tester_calibrationMSGCB_11
   \   000151   A3           INC     DPTR
   \   000152   E0           MOVX    A,@DPTR
   \   000153   6400         XRL     A,#0x0
   \                     ??SampleApp_Tester_calibrationMSGCB_11:
   \   000155   7079         JNZ     ??SampleApp_Tester_calibrationMSGCB_12
    955                          {       
    956                            OffsetAValue[2]=RssiValue[2]-RefAValue[2];
   \   000157   90....       MOV     DPTR,#RssiValue + 8
   \   00015A   78..         MOV     R0,#?V0 + 4
   \   00015C   12....       LCALL   ?L_MOV_X
   \   00015F   90....       MOV     DPTR,#RefAValue + 8
   \   000162   78..         MOV     R0,#?V0 + 8
   \   000164   12....       LCALL   ?L_MOV_X
   \   000167   78..         MOV     R0,#?V0 + 4
   \   000169   79..         MOV     R1,#?V0 + 8
   \   00016B   12....       LCALL   ?FLT_SUB
   \   00016E   90....       MOV     DPTR,#OffsetAValue + 8
   \   000171   78..         MOV     R0,#?V0 + 4
   \   000173   12....       LCALL   ?L_MOV_TO_X
    957                          }
    958                        }
    959                            break;
   \   000176   8058         SJMP    ??SampleApp_Tester_calibrationMSGCB_12
    960                      case '4':
    961                        {
    962                           moving_average(rssivalue, perRssiBuf4, 11, imof4, &RssiValue[3]);
   \                     ??SampleApp_Tester_calibrationMSGCB_6:
   \   000178                ; Setup parameters for call to function moving_average
   \   000178   75....       MOV     ?V0 + 2,#(RssiValue + 12) & 0xff
   \   00017B   75....       MOV     ?V0 + 3,#((RssiValue + 12) >> 8) & 0xff
   \   00017E   78..         MOV     R0,#?V0 + 2
   \   000180   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000183   75....       MOV     ?V0 + 2,#imof4 & 0xff
   \   000186   75....       MOV     ?V0 + 3,#(imof4 >> 8) & 0xff
   \   000189   78..         MOV     R0,#?V0 + 2
   \   00018B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018E   7C0B         MOV     R4,#0xb
   \   000190   7D00         MOV     R5,#0x0
   \   000192   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   000194   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \   000196   90....       MOV     DPTR,#rssivalue
   \   000199   E0           MOVX    A,@DPTR
   \   00019A   F9           MOV     R1,A
   \   00019B   12....       LCALL   ??moving_average?relay
   \   00019E   7404         MOV     A,#0x4
   \   0001A0   12....       LCALL   ?DEALLOC_XSTACK8
    963                           if (DeviceID==6)
   \   0001A3   90....       MOV     DPTR,#DeviceID
   \   0001A6   E0           MOVX    A,@DPTR
   \   0001A7   6406         XRL     A,#0x6
   \   0001A9   7004         JNZ     ??SampleApp_Tester_calibrationMSGCB_13
   \   0001AB   A3           INC     DPTR
   \   0001AC   E0           MOVX    A,@DPTR
   \   0001AD   6400         XRL     A,#0x0
   \                     ??SampleApp_Tester_calibrationMSGCB_13:
   \   0001AF   705F         JNZ     ??SampleApp_Tester_calibrationMSGCB_0
    964                          {       
    965                            OffsetAValue[3]=RssiValue[3]-RefAValue[3];
   \   0001B1   90....       MOV     DPTR,#RssiValue + 12
   \   0001B4   78..         MOV     R0,#?V0 + 4
   \   0001B6   12....       LCALL   ?L_MOV_X
   \   0001B9   90....       MOV     DPTR,#RefAValue + 12
   \   0001BC   78..         MOV     R0,#?V0 + 8
   \   0001BE   12....       LCALL   ?L_MOV_X
   \   0001C1   78..         MOV     R0,#?V0 + 4
   \   0001C3   79..         MOV     R1,#?V0 + 8
   \   0001C5   12....       LCALL   ?FLT_SUB
   \   0001C8   90....       MOV     DPTR,#OffsetAValue + 12
   \   0001CB   78..         MOV     R0,#?V0 + 4
   \   0001CD   12....       LCALL   ?L_MOV_TO_X
    966                          }
    967                        }
    968                            break;    
    969                      default:
    970                      
    971                             break;
    972                   }
    973                  break;
   \                     ??SampleApp_Tester_calibrationMSGCB_12:
   \   0001D0   803E         SJMP    ??SampleApp_Tester_calibrationMSGCB_0
    974                }
    975                 case CALBRATION_N_CLUSTERID:
    976                   {
    977                    // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
    978                     byte alphaindex;
    979                  alphaindex=*(pkt->cmd.Data);
   \                     ??SampleApp_Tester_calibrationMSGCB_2:
   \   0001D2   EE           MOV     A,R6
   \   0001D3   2421         ADD     A,#0x21
   \   0001D5   F582         MOV     DPL,A
   \   0001D7   EF           MOV     A,R7
   \   0001D8   3400         ADDC    A,#0x0
   \   0001DA   F583         MOV     DPH,A
   \   0001DC   E0           MOVX    A,@DPTR
   \   0001DD   F8           MOV     R0,A
   \   0001DE   A3           INC     DPTR
   \   0001DF   E0           MOVX    A,@DPTR
   \   0001E0   F583         MOV     DPH,A
   \   0001E2   8882         MOV     DPL,R0
   \   0001E4   E0           MOVX    A,@DPTR
   \   0001E5   F5..         MOV     ?V0 + 0,A
    980                    if(alphaindex=='O')  // test signal from test anchor
   \   0001E7   744F         MOV     A,#0x4f
   \   0001E9   65..         XRL     A,?V0 + 0
   \   0001EB   7023         JNZ     ??SampleApp_Tester_calibrationMSGCB_0
    981                   {
    982                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \   0001ED                ; Setup parameters for call to function HalUARTWrite
   \   0001ED   EE           MOV     A,R6
   \   0001EE   241F         ADD     A,#0x1f
   \   0001F0   F582         MOV     DPL,A
   \   0001F2   EF           MOV     A,R7
   \   0001F3   3400         ADDC    A,#0x0
   \   0001F5   F583         MOV     DPH,A
   \   0001F7   E0           MOVX    A,@DPTR
   \   0001F8   FC           MOV     R4,A
   \   0001F9   A3           INC     DPTR
   \   0001FA   E0           MOVX    A,@DPTR
   \   0001FB   FD           MOV     R5,A
   \   0001FC   EE           MOV     A,R6
   \   0001FD   2421         ADD     A,#0x21
   \   0001FF   F582         MOV     DPL,A
   \   000201   EF           MOV     A,R7
   \   000202   3400         ADDC    A,#0x0
   \   000204   F583         MOV     DPH,A
   \   000206   E0           MOVX    A,@DPTR
   \   000207   FA           MOV     R2,A
   \   000208   A3           INC     DPTR
   \   000209   E0           MOVX    A,@DPTR
   \   00020A   FB           MOV     R3,A
   \   00020B   7900         MOV     R1,#0x0
   \   00020D   12....       LCALL   ??HalUARTWrite?relay
    983                   }
    984                   }
    985               
    986             
    987            }
    988          
    989          }
   \                     ??SampleApp_Tester_calibrationMSGCB_0:
   \   000210   7F0C         MOV     R7,#0xc
   \   000212   02....       LJMP    ?BANKED_LEAVE_XDATA
    990          
    991          
    992          /*********************************************************************
    993           * @fn      SampleApp_AnchorMSGCB
    994           *
    995           * @brief   Data message processor callback.  This function processes
    996           *          any incoming data - probably from other devices.  So, based
    997           *          on cluster ID, perform the intended action.
    998           *
    999           * @param   none
   1000           *
   1001           * @return  none
   1002           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1003          void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_AnchorMSGCB:
   1004          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   1005           // float avalue=0.0f;
   1006            int switchindex;
   1007            switch ( pkt->clusterId )
   \   000009   85..82       MOV     DPL,?V0 + 0
   \   00000C   85..83       MOV     DPH,?V0 + 1
   \   00000F   A3           INC     DPTR
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F5..         MOV     ?V0 + 4,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 5,A
   \   00001A   78..         MOV     R0,#?V0 + 4
   \   00001C   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_AnchorMSGCB>_0`:
   \   00001F   0100         DW        1
   \   000021   01           DB        1
   \   000022   ....         DW        ??SampleApp_AnchorMSGCB_0
   \   000024   ....         DW        ??SampleApp_AnchorMSGCB_1
   \   000026   ....         DW        ??SampleApp_AnchorMSGCB_0
   1008            {
   1009              case SAMPLEAPP_PERIODIC_CLUSTERID:
   1010                { 
   1011                  
   1012                  
   1013                 
   1014                  
   1015                  byte index;
   1016                  index=*(pkt->cmd.Data+1);
   \                     ??SampleApp_AnchorMSGCB_1:
   \   000028   E5..         MOV     A,?V0 + 0
   \   00002A   2421         ADD     A,#0x21
   \   00002C   F582         MOV     DPL,A
   \   00002E   E5..         MOV     A,?V0 + 1
   \   000030   3400         ADDC    A,#0x0
   \   000032   F583         MOV     DPH,A
   \   000034   E0           MOVX    A,@DPTR
   \   000035   F8           MOV     R0,A
   \   000036   A3           INC     DPTR
   \   000037   E0           MOVX    A,@DPTR
   \   000038   F583         MOV     DPH,A
   \   00003A   8882         MOV     DPL,R0
   \   00003C   A3           INC     DPTR
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   F5..         MOV     ?V0 + 2,A
   1017                  rssivalue=(0xff-pkt->rssi);
   \   000040   E5..         MOV     A,?V0 + 0
   \   000042   2418         ADD     A,#0x18
   \   000044   F582         MOV     DPL,A
   \   000046   E5..         MOV     A,?V0 + 1
   \   000048   3400         ADDC    A,#0x0
   \   00004A   F583         MOV     DPH,A
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   F8           MOV     R0,A
   \   00004E   74FF         MOV     A,#-0x1
   \   000050   C3           CLR     C
   \   000051   98           SUBB    A,R0
   \   000052   90....       MOV     DPTR,#rssivalue
   \   000055   F0           MOVX    @DPTR,A
   1018                  
   1019                  switch (index)
   \   000056   E5..         MOV     A,?V0 + 2
   \   000058   24CF         ADD     A,#-0x31
   \   00005A   6012         JZ      ??SampleApp_AnchorMSGCB_2
   \   00005C   14           DEC     A
   \   00005D   6075         JZ      ??SampleApp_AnchorMSGCB_3
   \   00005F   14           DEC     A
   \   000060   7003         JNZ     $+5
   \   000062   02....       LJMP    ??SampleApp_AnchorMSGCB_4 & 0xFFFF
   \   000065   14           DEC     A
   \   000066   7003         JNZ     $+5
   \   000068   02....       LJMP    ??SampleApp_AnchorMSGCB_5 & 0xFFFF
   \   00006B   02....       LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
   1020                  {
   1021                      case '1':
   1022                        {
   1023                          printRSSIandLQI(pkt,1);
   \                     ??SampleApp_AnchorMSGCB_2:
   \   00006E                ; Setup parameters for call to function printRSSIandLQI
   \   00006E   7C01         MOV     R4,#0x1
   \   000070   7D00         MOV     R5,#0x0
   \   000072   AA..         MOV     R2,?V0 + 0
   \   000074   AB..         MOV     R3,?V0 + 1
   \   000076   12....       LCALL   ??printRSSIandLQI?relay
   1024                          //moving average filter
   1025                          switchindex=1;
   \   000079   7E01         MOV     R6,#0x1
   \   00007B   7F00         MOV     R7,#0x0
   1026                          if(DeviceID!=switchindex)
   \   00007D   90....       MOV     DPTR,#DeviceID
   \   000080   E0           MOVX    A,@DPTR
   \   000081   6E           XRL     A,R6
   \   000082   7003         JNZ     ??SampleApp_AnchorMSGCB_6
   \   000084   A3           INC     DPTR
   \   000085   E0           MOVX    A,@DPTR
   \   000086   6F           XRL     A,R7
   \                     ??SampleApp_AnchorMSGCB_6:
   \   000087   6048         JZ      ??SampleApp_AnchorMSGCB_7
   1027                            {moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[switchindex-1]);
   \   000089                ; Setup parameters for call to function moving_average
   \   000089   EE           MOV     A,R6
   \   00008A   F8           MOV     R0,A
   \   00008B   EF           MOV     A,R7
   \   00008C   F9           MOV     R1,A
   \   00008D   E8           MOV     A,R0
   \   00008E   75F004       MOV     B,#0x4
   \   000091   A4           MUL     AB
   \   000092   C8           XCH     A,R0
   \   000093   AAF0         MOV     R2,B
   \   000095   75F000       MOV     B,#0x0
   \   000098   A4           MUL     AB
   \   000099   2A           ADD     A,R2
   \   00009A   FA           MOV     R2,A
   \   00009B   75F004       MOV     B,#0x4
   \   00009E   E9           MOV     A,R1
   \   00009F   A4           MUL     AB
   \   0000A0   2A           ADD     A,R2
   \   0000A1   F9           MOV     R1,A
   \   0000A2   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   0000A4   28           ADD     A,R0
   \   0000A5   F5..         MOV     ?V0 + 4,A
   \   0000A7   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   0000A9   39           ADDC    A,R1
   \   0000AA   F5..         MOV     ?V0 + 5,A
   \   0000AC   78..         MOV     R0,#?V0 + 4
   \   0000AE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B1   75....       MOV     ?V0 + 4,#imof1 & 0xff
   \   0000B4   75....       MOV     ?V0 + 5,#(imof1 >> 8) & 0xff
   \   0000B7   78..         MOV     R0,#?V0 + 4
   \   0000B9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000BC   7C1F         MOV     R4,#0x1f
   \   0000BE   7D00         MOV     R5,#0x0
   \   0000C0   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   0000C2   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   0000C4   90....       MOV     DPTR,#rssivalue
   \   0000C7   E0           MOVX    A,@DPTR
   \   0000C8   F9           MOV     R1,A
   \   0000C9   12....       LCALL   ??moving_average?relay
   \   0000CC   7404         MOV     A,#0x4
   \   0000CE   12....       LCALL   ?DEALLOC_XSTACK8
   1028                              // anchor to calibrate n
   1029          //                    if( (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,nValue,
   1030          //                                                        AnchorX,AnchorY,AnchorZ,AValue))<10)  //usually n is smaller than 10
   1031          //                       {SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1032                              // anchor to calibrate A
   1033            //                  if(AValue[switchindex-1]=calibrationA(DeviceID,switchindex,RssiValue,nValue,
   1034            //                                                        AnchorX,AnchorY,AnchorZ,AValue))
   1035            //                  {
   1036            //                      SampleApp_Router_calibrationAMessage(switchindex,AValue[switchindex-1];
   1037            //                  }
   1038                          }
   1039                        }
   1040                      
   1041                            break;
   \                     ??SampleApp_AnchorMSGCB_7:
   \   0000D1   02....       LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
   1042                      case '2':
   1043                        {
   1044                          //moving average filter
   1045                          switchindex=2;
   \                     ??SampleApp_AnchorMSGCB_3:
   \   0000D4   7E02         MOV     R6,#0x2
   \   0000D6   7F00         MOV     R7,#0x0
   1046                          if(DeviceID!=switchindex)
   \   0000D8   90....       MOV     DPTR,#DeviceID
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   6E           XRL     A,R6
   \   0000DD   7003         JNZ     ??SampleApp_AnchorMSGCB_8
   \   0000DF   A3           INC     DPTR
   \   0000E0   E0           MOVX    A,@DPTR
   \   0000E1   6F           XRL     A,R7
   \                     ??SampleApp_AnchorMSGCB_8:
   \   0000E2   6048         JZ      ??SampleApp_AnchorMSGCB_9
   1047                          {
   1048                          moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[switchindex-1]);
   \   0000E4                ; Setup parameters for call to function moving_average
   \   0000E4   EE           MOV     A,R6
   \   0000E5   F8           MOV     R0,A
   \   0000E6   EF           MOV     A,R7
   \   0000E7   F9           MOV     R1,A
   \   0000E8   E8           MOV     A,R0
   \   0000E9   75F004       MOV     B,#0x4
   \   0000EC   A4           MUL     AB
   \   0000ED   C8           XCH     A,R0
   \   0000EE   AAF0         MOV     R2,B
   \   0000F0   75F000       MOV     B,#0x0
   \   0000F3   A4           MUL     AB
   \   0000F4   2A           ADD     A,R2
   \   0000F5   FA           MOV     R2,A
   \   0000F6   75F004       MOV     B,#0x4
   \   0000F9   E9           MOV     A,R1
   \   0000FA   A4           MUL     AB
   \   0000FB   2A           ADD     A,R2
   \   0000FC   F9           MOV     R1,A
   \   0000FD   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   0000FF   28           ADD     A,R0
   \   000100   F5..         MOV     ?V0 + 4,A
   \   000102   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   000104   39           ADDC    A,R1
   \   000105   F5..         MOV     ?V0 + 5,A
   \   000107   78..         MOV     R0,#?V0 + 4
   \   000109   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00010C   75....       MOV     ?V0 + 4,#imof2 & 0xff
   \   00010F   75....       MOV     ?V0 + 5,#(imof2 >> 8) & 0xff
   \   000112   78..         MOV     R0,#?V0 + 4
   \   000114   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000117   7C1F         MOV     R4,#0x1f
   \   000119   7D00         MOV     R5,#0x0
   \   00011B   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   00011D   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   00011F   90....       MOV     DPTR,#rssivalue
   \   000122   E0           MOVX    A,@DPTR
   \   000123   F9           MOV     R1,A
   \   000124   12....       LCALL   ??moving_average?relay
   \   000127   7404         MOV     A,#0x4
   \   000129   12....       LCALL   ?DEALLOC_XSTACK8
   1049          //                    if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1050          //                                                             nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1051          //                   { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1052          //                    }
   1053                        }
   1054                            break;
   \                     ??SampleApp_AnchorMSGCB_9:
   \   00012C   02....       LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
   1055                      case '3':
   1056                        {
   1057                           //moving average filter
   1058                          switchindex=3;
   \                     ??SampleApp_AnchorMSGCB_4:
   \   00012F   7E03         MOV     R6,#0x3
   \   000131   7F00         MOV     R7,#0x0
   1059                          if(DeviceID!=switchindex)
   \   000133   90....       MOV     DPTR,#DeviceID
   \   000136   E0           MOVX    A,@DPTR
   \   000137   6E           XRL     A,R6
   \   000138   7003         JNZ     ??SampleApp_AnchorMSGCB_10
   \   00013A   A3           INC     DPTR
   \   00013B   E0           MOVX    A,@DPTR
   \   00013C   6F           XRL     A,R7
   \                     ??SampleApp_AnchorMSGCB_10:
   \   00013D   6048         JZ      ??SampleApp_AnchorMSGCB_11
   1060                          {
   1061                          moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[switchindex-1]);
   \   00013F                ; Setup parameters for call to function moving_average
   \   00013F   EE           MOV     A,R6
   \   000140   F8           MOV     R0,A
   \   000141   EF           MOV     A,R7
   \   000142   F9           MOV     R1,A
   \   000143   E8           MOV     A,R0
   \   000144   75F004       MOV     B,#0x4
   \   000147   A4           MUL     AB
   \   000148   C8           XCH     A,R0
   \   000149   AAF0         MOV     R2,B
   \   00014B   75F000       MOV     B,#0x0
   \   00014E   A4           MUL     AB
   \   00014F   2A           ADD     A,R2
   \   000150   FA           MOV     R2,A
   \   000151   75F004       MOV     B,#0x4
   \   000154   E9           MOV     A,R1
   \   000155   A4           MUL     AB
   \   000156   2A           ADD     A,R2
   \   000157   F9           MOV     R1,A
   \   000158   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   00015A   28           ADD     A,R0
   \   00015B   F5..         MOV     ?V0 + 4,A
   \   00015D   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   00015F   39           ADDC    A,R1
   \   000160   F5..         MOV     ?V0 + 5,A
   \   000162   78..         MOV     R0,#?V0 + 4
   \   000164   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000167   75....       MOV     ?V0 + 4,#imof3 & 0xff
   \   00016A   75....       MOV     ?V0 + 5,#(imof3 >> 8) & 0xff
   \   00016D   78..         MOV     R0,#?V0 + 4
   \   00016F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000172   7C1F         MOV     R4,#0x1f
   \   000174   7D00         MOV     R5,#0x0
   \   000176   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   000178   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   00017A   90....       MOV     DPTR,#rssivalue
   \   00017D   E0           MOVX    A,@DPTR
   \   00017E   F9           MOV     R1,A
   \   00017F   12....       LCALL   ??moving_average?relay
   \   000182   7404         MOV     A,#0x4
   \   000184   12....       LCALL   ?DEALLOC_XSTACK8
   1062          //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1063          //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1064          //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1065                          }
   1066                        }
   1067                            break;
   \                     ??SampleApp_AnchorMSGCB_11:
   \   000187   8058         SJMP    ??SampleApp_AnchorMSGCB_0
   1068                      case '4':
   1069                        {
   1070                           //moving average filter
   1071                          switchindex=4;
   \                     ??SampleApp_AnchorMSGCB_5:
   \   000189   7E04         MOV     R6,#0x4
   \   00018B   7F00         MOV     R7,#0x0
   1072                          if(DeviceID!=switchindex)
   \   00018D   90....       MOV     DPTR,#DeviceID
   \   000190   E0           MOVX    A,@DPTR
   \   000191   6E           XRL     A,R6
   \   000192   7003         JNZ     ??SampleApp_AnchorMSGCB_12
   \   000194   A3           INC     DPTR
   \   000195   E0           MOVX    A,@DPTR
   \   000196   6F           XRL     A,R7
   \                     ??SampleApp_AnchorMSGCB_12:
   \   000197   6048         JZ      ??SampleApp_AnchorMSGCB_0
   1073                          {
   1074                          moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[switchindex-1]);
   \   000199                ; Setup parameters for call to function moving_average
   \   000199   EE           MOV     A,R6
   \   00019A   F8           MOV     R0,A
   \   00019B   EF           MOV     A,R7
   \   00019C   F9           MOV     R1,A
   \   00019D   E8           MOV     A,R0
   \   00019E   75F004       MOV     B,#0x4
   \   0001A1   A4           MUL     AB
   \   0001A2   C8           XCH     A,R0
   \   0001A3   AAF0         MOV     R2,B
   \   0001A5   75F000       MOV     B,#0x0
   \   0001A8   A4           MUL     AB
   \   0001A9   2A           ADD     A,R2
   \   0001AA   FA           MOV     R2,A
   \   0001AB   75F004       MOV     B,#0x4
   \   0001AE   E9           MOV     A,R1
   \   0001AF   A4           MUL     AB
   \   0001B0   2A           ADD     A,R2
   \   0001B1   F9           MOV     R1,A
   \   0001B2   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   0001B4   28           ADD     A,R0
   \   0001B5   F5..         MOV     ?V0 + 4,A
   \   0001B7   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   0001B9   39           ADDC    A,R1
   \   0001BA   F5..         MOV     ?V0 + 5,A
   \   0001BC   78..         MOV     R0,#?V0 + 4
   \   0001BE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001C1   75....       MOV     ?V0 + 4,#imof4 & 0xff
   \   0001C4   75....       MOV     ?V0 + 5,#(imof4 >> 8) & 0xff
   \   0001C7   78..         MOV     R0,#?V0 + 4
   \   0001C9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001CC   7C1F         MOV     R4,#0x1f
   \   0001CE   7D00         MOV     R5,#0x0
   \   0001D0   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   0001D2   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \   0001D4   90....       MOV     DPTR,#rssivalue
   \   0001D7   E0           MOVX    A,@DPTR
   \   0001D8   F9           MOV     R1,A
   \   0001D9   12....       LCALL   ??moving_average?relay
   \   0001DC   7404         MOV     A,#0x4
   \   0001DE   12....       LCALL   ?DEALLOC_XSTACK8
   1075          //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1076          //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1077          //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1078                          }
   1079                        }
   1080                            break;    
   1081                      default:
   1082                      
   1083                             break;
   1084                   }
   1085                  break;
   1086                }
   1087          
   1088                     case CALBRATION_N_CLUSTERID:
   1089                {
   1090                  //HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
   1091          //        byte alphaindex;
   1092          //        alphaindex=*(pkt->cmd.Data);
   1093          //        if(alphaindex=='A')    
   1094          //         {  
   1095          //              byte index;
   1096          //              index=*(pkt->cmd.Data+1);
   1097          //              
   1098          //              avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   1099          //              if(avalue>0)   
   1100          //              {
   1101          //                  switch (index)
   1102          //                       case '1':
   1103          //                          {
   1104          //                                  AValue[0]=avalue;
   1105          //                                  break;
   1106          //                           }
   1107          //                       case '2':
   1108          //                          {
   1109          //                                  AValue[1]=avalue;
   1110          //                                  break;
   1111          //                           }
   1112          //                       case '3':
   1113          //                          {
   1114          //                                  AValue[2]=avalue;
   1115          //                                  break;
   1116          //                           }
   1117          //                       case '4':
   1118          //                          {
   1119          //                                  AValue[3]=avalue;
   1120          //                                  break;
   1121          //                           }
   1122          //            
   1123          //                  break;
   1124          //              }
   1125          //         } 
   1126          //               else if(alphaindex=='N')
   1127          //             {
   1128          //                      byte index;
   1129          //                      index=*(pkt->cmd.Data+1);
   1130          //                      float nvalue;
   1131          ////                      float tempn=0.0f;
   1132          //                      
   1133          //                      if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
   1134          //                      {  
   1135          //                        
   1136          //                        nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
   1137          //                          
   1138          //                           switch (index)
   1139          //                           {  
   1140          //                                case '1':
   1141          //                                 {
   1142          //                                     moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
   1143          //                                   break;
   1144          //                                 }
   1145          //                                case '2':
   1146          //                                 {
   1147          //                                      moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
   1148          //                                   break;
   1149          //                                 }
   1150          //                                 case '3':
   1151          //                                 {
   1152          //                                      moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
   1153          //                                   break;
   1154          //                                 }
   1155          //                                 case '4':
   1156          //                                 {
   1157          //                                      moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
   1158          //                                   break;
   1159          //                                         }
   1160          //                                break;
   1161          //                            }
   1162          //                          }
   1163                         }
   1164                  break;
   1165                   }
   1166            }
   1167          
   1168          }
   \                     ??SampleApp_AnchorMSGCB_0:
   \   0001E1   7F06         MOV     R7,#0x6
   \   0001E3   02....       LJMP    ?BANKED_LEAVE_XDATA
   1169          /*********************************************************************
   1170           * @fn      SampleApp_SendPeriodicMessage
   1171           *
   1172           * @brief   Send the periodic message.
   1173           *
   1174           * @param   none
   1175           *
   1176           * @return  none
   1177           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1178          void SampleApp_Router_SendPeriodicMessage( int index )
   \                     SampleApp_Router_SendPeriodicMessage:
   1179          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1180              
   1181            // Router broadcast to everyone
   1182            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   \   00000E   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
   \   000011   740F         MOV     A,#0xf
   \   000013   F0           MOVX    @DPTR,A
   1183            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000014   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
   \   000017   7414         MOV     A,#0x14
   \   000019   F0           MOVX    @DPTR,A
   1184            SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   \   00001A   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
   \   00001D   74FF         MOV     A,#-0x1
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   74FF         MOV     A,#-0x1
   \   000023   F0           MOVX    @DPTR,A
   1185            
   1186            uint8 data[2]="A";
   \   000024   90....       MOV     DPTR,#`?<Constant "A">`
   \   000027   C082         PUSH    DPL
   \   000029   C083         PUSH    DPH
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   AC82         MOV     R4,DPL
   \   000033   AD83         MOV     R5,DPH
   \   000035   D083         POP     DPH
   \   000037   D082         POP     DPL
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1187            data[1]=0x30+index;
   \   00003E   EE           MOV     A,R6
   \   00003F   2430         ADD     A,#0x30
   \   000041   C0E0         PUSH    A
   \   000043   7401         MOV     A,#0x1
   \   000045   12....       LCALL   ?XSTACK_DISP0_8
   \   000048   D0E0         POP     A
   \   00004A   F0           MOVX    @DPTR,A
   1188            if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1189                                 SAMPLEAPP_PERIODIC_CLUSTERID,
   1190                                 osal_strlen("A1"),
   1191                                 data,
   1192                                 &SampleApp_TransID,
   1193                                 AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1194                                 1//AF_DEFAULT_RADIUS 
   1195                                  ) == afStatus_SUCCESS )
   \   00004B                ; Setup parameters for call to function AF_DataRequest
   \   00004B   75..01       MOV     ?V0 + 0,#0x1
   \   00004E   78..         MOV     R0,#?V0 + 0
   \   000050   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000053   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000056   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000059   78..         MOV     R0,#?V0 + 0
   \   00005B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005E   7403         MOV     A,#0x3
   \   000060   12....       LCALL   ?XSTACK_DISP0_8
   \   000063   8582..       MOV     ?V0 + 0,DPL
   \   000066   8583..       MOV     ?V0 + 1,DPH
   \   000069   78..         MOV     R0,#?V0 + 0
   \   00006B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006E                ; Setup parameters for call to function osal_strlen
   \   00006E   7A..         MOV     R2,#`?<Constant "A1">` & 0xff
   \   000070   7B..         MOV     R3,#(`?<Constant "A1">` >> 8) & 0xff
   \   000072   12....       LCALL   ??osal_strlen?relay
   \   000075   8A..         MOV     ?V0 + 0,R2
   \   000077   8B..         MOV     ?V0 + 1,R3
   \   000079   78..         MOV     R0,#?V0 + 0
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007E   75..01       MOV     ?V0 + 0,#0x1
   \   000081   75..00       MOV     ?V0 + 1,#0x0
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000089   7980         MOV     R1,#-0x80
   \   00008B   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   00008D   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00008F   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   000091   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   000093   12....       LCALL   ??AF_DataRequest?relay
   \   000096   7409         MOV     A,#0x9
   \   000098   12....       LCALL   ?DEALLOC_XSTACK8
   \   00009B   E9           MOV     A,R1
   1196            {
   1197            }
   1198            else
   1199            {
   1200              // Error occurred in request to send.
   1201            }
   1202          }
   \   00009C   7402         MOV     A,#0x2
   \   00009E   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A1   7F02         MOV     R7,#0x2
   \   0000A3   02....       LJMP    ?BANKED_LEAVE_XDATA
   1203          
   1204          /*********************************************************************
   1205           * @fn      SampleApp_Router_calibrationNMessage
   1206           *
   1207           * @brief   Send the periodic message.
   1208           *
   1209           * @param   none
   1210           *
   1211           * @return  none
   1212           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1213          void SampleApp_Router_calibrationNMessage( int index , float nvalue )
   \                     SampleApp_Router_calibrationNMessage:
   1214          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 12,R2
   \   00000C   8B..         MOV     ?V0 + 13,R3
   \   00000E   741E         MOV     A,#0x1e
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   78..         MOV     R0,#?V0 + 4
   \   000015   12....       LCALL   ?L_MOV_X
   1215              
   1216            // Router broadcast to everyone
   1217          //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1218          //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1219          //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   1220            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   000018   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
   \   00001B   7401         MOV     A,#0x1
   \   00001D   F0           MOVX    @DPTR,A
   1221            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00001E   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
   \   000021   7414         MOV     A,#0x14
   \   000023   F0           MOVX    @DPTR,A
   1222            SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   000024   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
   \   000027   7401         MOV     A,#0x1
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   A3           INC     DPTR
   \   00002B   7400         MOV     A,#0x0
   \   00002D   F0           MOVX    @DPTR,A
   1223           
   1224          
   1225           
   1226            float tempn=nvalue;  
   \   00002E   85....       MOV     ?V0 + 0,?V0 + 4
   \   000031   85....       MOV     ?V0 + 1,?V0 + 5
   \   000034   85....       MOV     ?V0 + 2,?V0 + 6
   \   000037   85....       MOV     ?V0 + 3,?V0 + 7
   1227            if(nvalue>0)
   \   00003A   90....       MOV     DPTR,#__Constant_1
   \   00003D   78..         MOV     R0,#?V0 + 8
   \   00003F   12....       LCALL   ?L_MOV_X
   \   000042   78..         MOV     R0,#?V0 + 4
   \   000044   79..         MOV     R1,#?V0 + 8
   \   000046   12....       LCALL   ?FLT_GE
   \   000049   4003         JC      $+5
   \   00004B   02....       LJMP    ??SampleApp_Router_calibrationNMessage_0 & 0xFFFF
   1228            {
   1229                    uint8 data[8]="N";
   \   00004E   90....       MOV     DPTR,#`?<Constant "N">`
   \   000051   C082         PUSH    DPL
   \   000053   C083         PUSH    DPH
   \   000055   85..82       MOV     DPL,?XSP + 0
   \   000058   85..83       MOV     DPH,?XSP + 1
   \   00005B   AC82         MOV     R4,DPL
   \   00005D   AD83         MOV     R5,DPH
   \   00005F   D083         POP     DPH
   \   000061   D082         POP     DPL
   \   000063   7408         MOV     A,#0x8
   \   000065   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1230                    data[1]=0x30+index;
   \   000068   E5..         MOV     A,?V0 + 12
   \   00006A   2430         ADD     A,#0x30
   \   00006C   C0E0         PUSH    A
   \   00006E   7401         MOV     A,#0x1
   \   000070   12....       LCALL   ?XSTACK_DISP0_8
   \   000073   D0E0         POP     A
   \   000075   F0           MOVX    @DPTR,A
   1231          
   1232                    data[2]=':';
   \   000076   7402         MOV     A,#0x2
   \   000078   12....       LCALL   ?XSTACK_DISP0_8
   \   00007B   743A         MOV     A,#0x3a
   \   00007D   F0           MOVX    @DPTR,A
   1233                    
   1234                    uint8 number8;
   1235                    number8=(uint8)tempn;
   \   00007E   85....       MOV     ?V0 + 8,?V0 + 0
   \   000081   85....       MOV     ?V0 + 9,?V0 + 1
   \   000084   85....       MOV     ?V0 + 10,?V0 + 2
   \   000087   85....       MOV     ?V0 + 11,?V0 + 3
   \   00008A   78..         MOV     R0,#?V0 + 8
   \   00008C   12....       LCALL   ?FLT_TO_L
   \   00008F   E5..         MOV     A,?V0 + 8
   \   000091   AE..         MOV     R6,?V0 + 8
   1236                    data[3]=number8+'0';
   \   000093   7430         MOV     A,#0x30
   \   000095   2E           ADD     A,R6
   \   000096   C0E0         PUSH    A
   \   000098   7403         MOV     A,#0x3
   \   00009A   12....       LCALL   ?XSTACK_DISP0_8
   \   00009D   D0E0         POP     A
   \   00009F   F0           MOVX    @DPTR,A
   1237                    data[4]='.';
   \   0000A0   7404         MOV     A,#0x4
   \   0000A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A5   742E         MOV     A,#0x2e
   \   0000A7   F0           MOVX    @DPTR,A
   1238                    tempn=10*(tempn-(float)number8);
   \   0000A8   8E..         MOV     ?V0 + 8,R6
   \   0000AA   E4           CLR     A
   \   0000AB   F5..         MOV     ?V0 + 9,A
   \   0000AD   F5..         MOV     ?V0 + 10,A
   \   0000AF   F5..         MOV     ?V0 + 11,A
   \   0000B1   78..         MOV     R0,#?V0 + 8
   \   0000B3   12....       LCALL   ?UL_TO_FLT
   \   0000B6   78..         MOV     R0,#?V0 + 0
   \   0000B8   79..         MOV     R1,#?V0 + 8
   \   0000BA   12....       LCALL   ?FLT_SUB
   \   0000BD   90....       MOV     DPTR,#__Constant_41200000
   \   0000C0   78..         MOV     R0,#?V0 + 8
   \   0000C2   12....       LCALL   ?L_MOV_X
   \   0000C5   78..         MOV     R0,#?V0 + 0
   \   0000C7   79..         MOV     R1,#?V0 + 8
   \   0000C9   12....       LCALL   ?FLT_MUL
   1239                    number8=(uint8)tempn;
   \   0000CC   85....       MOV     ?V0 + 8,?V0 + 0
   \   0000CF   85....       MOV     ?V0 + 9,?V0 + 1
   \   0000D2   85....       MOV     ?V0 + 10,?V0 + 2
   \   0000D5   85....       MOV     ?V0 + 11,?V0 + 3
   \   0000D8   78..         MOV     R0,#?V0 + 8
   \   0000DA   12....       LCALL   ?FLT_TO_L
   \   0000DD   E5..         MOV     A,?V0 + 8
   \   0000DF   AE..         MOV     R6,?V0 + 8
   1240                    data[5]=number8+'0';
   \   0000E1   7430         MOV     A,#0x30
   \   0000E3   2E           ADD     A,R6
   \   0000E4   C0E0         PUSH    A
   \   0000E6   7405         MOV     A,#0x5
   \   0000E8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EB   D0E0         POP     A
   \   0000ED   F0           MOVX    @DPTR,A
   1241                    tempn=10*(tempn-(float)number8);
   \   0000EE   8E..         MOV     ?V0 + 8,R6
   \   0000F0   E4           CLR     A
   \   0000F1   F5..         MOV     ?V0 + 9,A
   \   0000F3   F5..         MOV     ?V0 + 10,A
   \   0000F5   F5..         MOV     ?V0 + 11,A
   \   0000F7   78..         MOV     R0,#?V0 + 8
   \   0000F9   12....       LCALL   ?UL_TO_FLT
   \   0000FC   78..         MOV     R0,#?V0 + 0
   \   0000FE   79..         MOV     R1,#?V0 + 8
   \   000100   12....       LCALL   ?FLT_SUB
   \   000103   90....       MOV     DPTR,#__Constant_41200000
   \   000106   78..         MOV     R0,#?V0 + 8
   \   000108   12....       LCALL   ?L_MOV_X
   \   00010B   78..         MOV     R0,#?V0 + 0
   \   00010D   79..         MOV     R1,#?V0 + 8
   \   00010F   12....       LCALL   ?FLT_MUL
   1242                    number8=(uint8)tempn;
   \   000112   85....       MOV     ?V0 + 8,?V0 + 0
   \   000115   85....       MOV     ?V0 + 9,?V0 + 1
   \   000118   85....       MOV     ?V0 + 10,?V0 + 2
   \   00011B   85....       MOV     ?V0 + 11,?V0 + 3
   \   00011E   78..         MOV     R0,#?V0 + 8
   \   000120   12....       LCALL   ?FLT_TO_L
   \   000123   E5..         MOV     A,?V0 + 8
   \   000125   AE..         MOV     R6,?V0 + 8
   1243                    data[6]=number8+'0';
   \   000127   7430         MOV     A,#0x30
   \   000129   2E           ADD     A,R6
   \   00012A   C0E0         PUSH    A
   \   00012C   7406         MOV     A,#0x6
   \   00012E   12....       LCALL   ?XSTACK_DISP0_8
   \   000131   D0E0         POP     A
   \   000133   F0           MOVX    @DPTR,A
   1244                    data[7]='\n';
   \   000134   7407         MOV     A,#0x7
   \   000136   12....       LCALL   ?XSTACK_DISP0_8
   \   000139   740A         MOV     A,#0xa
   \   00013B   F0           MOVX    @DPTR,A
   1245                                
   1246                    
   1247                    if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1248                                         CALBRATION_N_CLUSTERID,
   1249                                         8,//osal_strlen("A1")+1,
   1250                                         data,
   1251                                         &SampleApp_TransID,
   1252                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1253                                         1//AF_DEFAULT_RADIUS 
   1254                                          ) == afStatus_SUCCESS )
   \   00013C                ; Setup parameters for call to function AF_DataRequest
   \   00013C   75..01       MOV     ?V0 + 8,#0x1
   \   00013F   78..         MOV     R0,#?V0 + 8
   \   000141   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000144   75....       MOV     ?V0 + 8,#SampleApp_TransID & 0xff
   \   000147   75....       MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
   \   00014A   78..         MOV     R0,#?V0 + 8
   \   00014C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00014F   7403         MOV     A,#0x3
   \   000151   12....       LCALL   ?XSTACK_DISP0_8
   \   000154   8582..       MOV     ?V0 + 8,DPL
   \   000157   8583..       MOV     ?V0 + 9,DPH
   \   00015A   78..         MOV     R0,#?V0 + 8
   \   00015C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00015F   75..08       MOV     ?V0 + 8,#0x8
   \   000162   75..00       MOV     ?V0 + 9,#0x0
   \   000165   78..         MOV     R0,#?V0 + 8
   \   000167   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00016A   75..02       MOV     ?V0 + 8,#0x2
   \   00016D   75..00       MOV     ?V0 + 9,#0x0
   \   000170   78..         MOV     R0,#?V0 + 8
   \   000172   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000175   7920         MOV     R1,#0x20
   \   000177   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000179   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00017B   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   00017D   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   00017F   12....       LCALL   ??AF_DataRequest?relay
   \   000182   7409         MOV     A,#0x9
   \   000184   12....       LCALL   ?DEALLOC_XSTACK8
   \   000187   E9           MOV     A,R1
   1255                    {
   1256                    }
   1257                    else
   1258                    {
   1259                      // Error occurred in request to send.
   1260                    }
   1261            }
   1262          }
   \                     ??SampleApp_Router_calibrationNMessage_0:
   \   000188   7408         MOV     A,#0x8
   \   00018A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00018D   7F0E         MOV     R7,#0xe
   \   00018F   02....       LJMP    ?BANKED_LEAVE_XDATA
   1263          
   1264          /*********************************************************************
   1265           * @fn      SampleApp_Router_calibrationAMessage
   1266           *
   1267           * @brief   Send the periodic message.
   1268           *
   1269           * @param   none
   1270           *
   1271           * @return  none
   1272           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1273          void SampleApp_Router_calibrationAMessage( int index , float avalue )
   \                     SampleApp_Router_calibrationAMessage:
   1274          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   \   00000E   7421         MOV     A,#0x21
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   12....       LCALL   ?L_MOV_X
   1275              
   1276            // Router broadcast to everyone
   1277          //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1278          //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1279          //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   1280            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   000018   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
   \   00001B   7401         MOV     A,#0x1
   \   00001D   F0           MOVX    @DPTR,A
   1281            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00001E   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
   \   000021   7414         MOV     A,#0x14
   \   000023   F0           MOVX    @DPTR,A
   1282            SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   000024   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
   \   000027   7401         MOV     A,#0x1
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   A3           INC     DPTR
   \   00002B   7400         MOV     A,#0x0
   \   00002D   F0           MOVX    @DPTR,A
   1283           
   1284          
   1285           
   1286            float tempn=avalue;  
   \   00002E   85....       MOV     ?V0 + 4,?V0 + 0
   \   000031   85....       MOV     ?V0 + 5,?V0 + 1
   \   000034   85....       MOV     ?V0 + 6,?V0 + 2
   \   000037   85....       MOV     ?V0 + 7,?V0 + 3
   1287            if(avalue>0)
   \   00003A   90....       MOV     DPTR,#__Constant_1
   \   00003D   78..         MOV     R0,#?V0 + 8
   \   00003F   12....       LCALL   ?L_MOV_X
   \   000042   78..         MOV     R0,#?V0 + 0
   \   000044   79..         MOV     R1,#?V0 + 8
   \   000046   12....       LCALL   ?FLT_GE
   \   000049   4003         JC      $+5
   \   00004B   02....       LJMP    ??SampleApp_Router_calibrationAMessage_0 & 0xFFFF
   1288            {
   1289                    uint8 data[7]="A";
   \   00004E   90....       MOV     DPTR,#`?<Constant "A">_1`
   \   000051   C082         PUSH    DPL
   \   000053   C083         PUSH    DPH
   \   000055   7401         MOV     A,#0x1
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   AC82         MOV     R4,DPL
   \   00005C   AD83         MOV     R5,DPH
   \   00005E   D083         POP     DPH
   \   000060   D082         POP     DPL
   \   000062   7407         MOV     A,#0x7
   \   000064   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1290                   data[1]=0x30+index;
   \   000067   EE           MOV     A,R6
   \   000068   2430         ADD     A,#0x30
   \   00006A   C0E0         PUSH    A
   \   00006C   7402         MOV     A,#0x2
   \   00006E   12....       LCALL   ?XSTACK_DISP0_8
   \   000071   D0E0         POP     A
   \   000073   F0           MOVX    @DPTR,A
   1291          
   1292                    data[2]=':';
   \   000074   7403         MOV     A,#0x3
   \   000076   12....       LCALL   ?XSTACK_DISP0_8
   \   000079   743A         MOV     A,#0x3a
   \   00007B   F0           MOVX    @DPTR,A
   1293                    
   1294                    uint8 number8;
   1295                    number8=(uint8)(tempn/10);
   \   00007C   85....       MOV     ?V0 + 12,?V0 + 4
   \   00007F   85....       MOV     ?V0 + 13,?V0 + 5
   \   000082   85....       MOV     ?V0 + 14,?V0 + 6
   \   000085   85....       MOV     ?V0 + 15,?V0 + 7
   \   000088   90....       MOV     DPTR,#__Constant_41200000
   \   00008B   78..         MOV     R0,#?V0 + 8
   \   00008D   12....       LCALL   ?L_MOV_X
   \   000090   78..         MOV     R0,#?V0 + 12
   \   000092   79..         MOV     R1,#?V0 + 8
   \   000094   12....       LCALL   ?FLT_DIV
   \   000097   78..         MOV     R0,#?V0 + 12
   \   000099   12....       LCALL   ?FLT_TO_L
   \   00009C   E5..         MOV     A,?V0 + 12
   \   00009E   85..82       MOV     DPL,?XSP + 0
   \   0000A1   85..83       MOV     DPH,?XSP + 1
   \   0000A4   E5..         MOV     A,?V0 + 12
   \   0000A6   F0           MOVX    @DPTR,A
   1296                    data[3]=number8+'0';
   \   0000A7   85..82       MOV     DPL,?XSP + 0
   \   0000AA   85..83       MOV     DPH,?XSP + 1
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   2430         ADD     A,#0x30
   \   0000B0   C0E0         PUSH    A
   \   0000B2   7404         MOV     A,#0x4
   \   0000B4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B7   D0E0         POP     A
   \   0000B9   F0           MOVX    @DPTR,A
   1297                    number8=(uint8)(((int)tempn)%10);
   \   0000BA   85....       MOV     ?V0 + 8,?V0 + 4
   \   0000BD   85....       MOV     ?V0 + 9,?V0 + 5
   \   0000C0   85....       MOV     ?V0 + 10,?V0 + 6
   \   0000C3   85....       MOV     ?V0 + 11,?V0 + 7
   \   0000C6   78..         MOV     R0,#?V0 + 8
   \   0000C8   12....       LCALL   ?FLT_TO_L
   \   0000CB   A8..         MOV     R0,?V0 + 8
   \   0000CD   A9..         MOV     R1,?V0 + 9
   \   0000CF   7A0A         MOV     R2,#0xa
   \   0000D1   7B00         MOV     R3,#0x0
   \   0000D3   12....       LCALL   ?S_DIV_MOD
   \   0000D6   EA           MOV     A,R2
   \   0000D7   85..82       MOV     DPL,?XSP + 0
   \   0000DA   85..83       MOV     DPH,?XSP + 1
   \   0000DD   F0           MOVX    @DPTR,A
   1298                    data[4]=number8+'0';
   \   0000DE   85..82       MOV     DPL,?XSP + 0
   \   0000E1   85..83       MOV     DPH,?XSP + 1
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   2430         ADD     A,#0x30
   \   0000E7   C0E0         PUSH    A
   \   0000E9   7405         MOV     A,#0x5
   \   0000EB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EE   D0E0         POP     A
   \   0000F0   F0           MOVX    @DPTR,A
   1299                    data[5]='.';
   \   0000F1   7406         MOV     A,#0x6
   \   0000F3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F6   742E         MOV     A,#0x2e
   \   0000F8   F0           MOVX    @DPTR,A
   1300                    tempn=10*(tempn-(int)tempn);
   \   0000F9   85....       MOV     ?V0 + 8,?V0 + 4
   \   0000FC   85....       MOV     ?V0 + 9,?V0 + 5
   \   0000FF   85....       MOV     ?V0 + 10,?V0 + 6
   \   000102   85....       MOV     ?V0 + 11,?V0 + 7
   \   000105   78..         MOV     R0,#?V0 + 8
   \   000107   12....       LCALL   ?FLT_TO_L
   \   00010A   E5..         MOV     A,?V0 + 9
   \   00010C   33           RLC     A
   \   00010D   95E0         SUBB    A,0xE0 /* A   */
   \   00010F   F5..         MOV     ?V0 + 10,A
   \   000111   F5..         MOV     ?V0 + 11,A
   \   000113   78..         MOV     R0,#?V0 + 8
   \   000115   12....       LCALL   ?L_TO_FLT
   \   000118   78..         MOV     R0,#?V0 + 4
   \   00011A   79..         MOV     R1,#?V0 + 8
   \   00011C   12....       LCALL   ?FLT_SUB
   \   00011F   90....       MOV     DPTR,#__Constant_41200000
   \   000122   78..         MOV     R0,#?V0 + 8
   \   000124   12....       LCALL   ?L_MOV_X
   \   000127   78..         MOV     R0,#?V0 + 4
   \   000129   79..         MOV     R1,#?V0 + 8
   \   00012B   12....       LCALL   ?FLT_MUL
   1301                    number8=(uint8)tempn;
   \   00012E   85....       MOV     ?V0 + 8,?V0 + 4
   \   000131   85....       MOV     ?V0 + 9,?V0 + 5
   \   000134   85....       MOV     ?V0 + 10,?V0 + 6
   \   000137   85....       MOV     ?V0 + 11,?V0 + 7
   \   00013A   78..         MOV     R0,#?V0 + 8
   \   00013C   12....       LCALL   ?FLT_TO_L
   \   00013F   E5..         MOV     A,?V0 + 8
   \   000141   85..82       MOV     DPL,?XSP + 0
   \   000144   85..83       MOV     DPH,?XSP + 1
   \   000147   E5..         MOV     A,?V0 + 8
   \   000149   F0           MOVX    @DPTR,A
   1302                    data[6]=number8+'0';
   \   00014A   85..82       MOV     DPL,?XSP + 0
   \   00014D   85..83       MOV     DPH,?XSP + 1
   \   000150   E0           MOVX    A,@DPTR
   \   000151   2430         ADD     A,#0x30
   \   000153   C0E0         PUSH    A
   \   000155   7407         MOV     A,#0x7
   \   000157   12....       LCALL   ?XSTACK_DISP0_8
   \   00015A   D0E0         POP     A
   \   00015C   F0           MOVX    @DPTR,A
   1303                                
   1304                    
   1305                    if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1306                                         CALBRATION_N_CLUSTERID,
   1307                                         7,//osal_strlen("A1")+1,
   1308                                         data,
   1309                                         &SampleApp_TransID,
   1310                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1311                                         1//AF_DEFAULT_RADIUS 
   1312                                          ) == afStatus_SUCCESS )
   \   00015D                ; Setup parameters for call to function AF_DataRequest
   \   00015D   75..01       MOV     ?V0 + 8,#0x1
   \   000160   78..         MOV     R0,#?V0 + 8
   \   000162   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000165   75....       MOV     ?V0 + 8,#SampleApp_TransID & 0xff
   \   000168   75....       MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
   \   00016B   78..         MOV     R0,#?V0 + 8
   \   00016D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000170   7404         MOV     A,#0x4
   \   000172   12....       LCALL   ?XSTACK_DISP0_8
   \   000175   8582..       MOV     ?V0 + 8,DPL
   \   000178   8583..       MOV     ?V0 + 9,DPH
   \   00017B   78..         MOV     R0,#?V0 + 8
   \   00017D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000180   75..07       MOV     ?V0 + 8,#0x7
   \   000183   75..00       MOV     ?V0 + 9,#0x0
   \   000186   78..         MOV     R0,#?V0 + 8
   \   000188   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018B   75..02       MOV     ?V0 + 8,#0x2
   \   00018E   75..00       MOV     ?V0 + 9,#0x0
   \   000191   78..         MOV     R0,#?V0 + 8
   \   000193   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000196   7920         MOV     R1,#0x20
   \   000198   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   00019A   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00019C   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   00019E   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   0001A0   12....       LCALL   ??AF_DataRequest?relay
   \   0001A3   7409         MOV     A,#0x9
   \   0001A5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A8   E9           MOV     A,R1
   \   0001A9   C0E0         PUSH    A
   \   0001AB   7408         MOV     A,#0x8
   \   0001AD   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B0   D0E0         POP     A
   \   0001B2   F0           MOVX    @DPTR,A
   1313                    {
   1314                    }
   1315                    else
   1316                    {
   1317                      // Error occurred in request to send.
   1318                    }
   1319            }
   1320          }
   \                     ??SampleApp_Router_calibrationAMessage_0:
   \   0001B3   7409         MOV     A,#0x9
   \   0001B5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B8   7F10         MOV     R7,#0x10
   \   0001BA   02....       LJMP    ?BANKED_LEAVE_XDATA
   1321          
   1322          
   1323          /*********************************************************************
   1324           * @fn      SampleApp_Tester_calibrationAMessage
   1325           *
   1326           * @brief   single tester to verify the parameter A -- out of stage
   1327           *
   1328           * @param   none
   1329           *
   1330           * @return  none
   1331           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1332          void SampleApp_Tester_calibrationAMessage( int index , float A )
   \                     SampleApp_Tester_calibrationAMessage:
   1333          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   \   00000E   7421         MOV     A,#0x21
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   12....       LCALL   ?L_MOV_X
   1334          //    SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1335          //  SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1336          //  SampleApp_Tester_DstAddr.addr.shortAddr = 0xFFFF;
   1337              
   1338            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   000018   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 8
   \   00001B   7401         MOV     A,#0x1
   \   00001D   F0           MOVX    @DPTR,A
   1339            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00001E   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 9
   \   000021   7414         MOV     A,#0x14
   \   000023   F0           MOVX    @DPTR,A
   1340            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   000024   90....       MOV     DPTR,#SampleApp_Tester_DstAddr
   \   000027   7401         MOV     A,#0x1
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   A3           INC     DPTR
   \   00002B   7400         MOV     A,#0x0
   \   00002D   F0           MOVX    @DPTR,A
   1341           
   1342          
   1343          
   1344            float tempn=A;  
   \   00002E   85....       MOV     ?V0 + 4,?V0 + 0
   \   000031   85....       MOV     ?V0 + 5,?V0 + 1
   \   000034   85....       MOV     ?V0 + 6,?V0 + 2
   \   000037   85....       MOV     ?V0 + 7,?V0 + 3
   1345            if(A>=0)
   \   00003A   90....       MOV     DPTR,#__Constant_0
   \   00003D   78..         MOV     R0,#?V0 + 8
   \   00003F   12....       LCALL   ?L_MOV_X
   \   000042   78..         MOV     R0,#?V0 + 0
   \   000044   79..         MOV     R1,#?V0 + 8
   \   000046   12....       LCALL   ?FLT_GE
   \   000049   4003         JC      $+5
   \   00004B   02....       LJMP    ??SampleApp_Tester_calibrationAMessage_0 & 0xFFFF
   1346            {
   1347                    uint8 data[7]="A";
   \   00004E   90....       MOV     DPTR,#`?<Constant "A">_2`
   \   000051   C082         PUSH    DPL
   \   000053   C083         PUSH    DPH
   \   000055   7401         MOV     A,#0x1
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   AC82         MOV     R4,DPL
   \   00005C   AD83         MOV     R5,DPH
   \   00005E   D083         POP     DPH
   \   000060   D082         POP     DPL
   \   000062   7407         MOV     A,#0x7
   \   000064   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1348                    data[1]=0x30+index;
   \   000067   EE           MOV     A,R6
   \   000068   2430         ADD     A,#0x30
   \   00006A   C0E0         PUSH    A
   \   00006C   7402         MOV     A,#0x2
   \   00006E   12....       LCALL   ?XSTACK_DISP0_8
   \   000071   D0E0         POP     A
   \   000073   F0           MOVX    @DPTR,A
   1349          
   1350                    data[2]=':';
   \   000074   7403         MOV     A,#0x3
   \   000076   12....       LCALL   ?XSTACK_DISP0_8
   \   000079   743A         MOV     A,#0x3a
   \   00007B   F0           MOVX    @DPTR,A
   1351                    
   1352                    uint8 number8;
   1353                    number8=(uint8)(tempn/10);
   \   00007C   85....       MOV     ?V0 + 12,?V0 + 4
   \   00007F   85....       MOV     ?V0 + 13,?V0 + 5
   \   000082   85....       MOV     ?V0 + 14,?V0 + 6
   \   000085   85....       MOV     ?V0 + 15,?V0 + 7
   \   000088   90....       MOV     DPTR,#__Constant_41200000
   \   00008B   78..         MOV     R0,#?V0 + 8
   \   00008D   12....       LCALL   ?L_MOV_X
   \   000090   78..         MOV     R0,#?V0 + 12
   \   000092   79..         MOV     R1,#?V0 + 8
   \   000094   12....       LCALL   ?FLT_DIV
   \   000097   78..         MOV     R0,#?V0 + 12
   \   000099   12....       LCALL   ?FLT_TO_L
   \   00009C   E5..         MOV     A,?V0 + 12
   \   00009E   85..82       MOV     DPL,?XSP + 0
   \   0000A1   85..83       MOV     DPH,?XSP + 1
   \   0000A4   E5..         MOV     A,?V0 + 12
   \   0000A6   F0           MOVX    @DPTR,A
   1354                    data[3]=number8+'0';
   \   0000A7   85..82       MOV     DPL,?XSP + 0
   \   0000AA   85..83       MOV     DPH,?XSP + 1
   \   0000AD   E0           MOVX    A,@DPTR
   \   0000AE   2430         ADD     A,#0x30
   \   0000B0   C0E0         PUSH    A
   \   0000B2   7404         MOV     A,#0x4
   \   0000B4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B7   D0E0         POP     A
   \   0000B9   F0           MOVX    @DPTR,A
   1355                    number8=(uint8)(((int)tempn)%10);
   \   0000BA   85....       MOV     ?V0 + 8,?V0 + 4
   \   0000BD   85....       MOV     ?V0 + 9,?V0 + 5
   \   0000C0   85....       MOV     ?V0 + 10,?V0 + 6
   \   0000C3   85....       MOV     ?V0 + 11,?V0 + 7
   \   0000C6   78..         MOV     R0,#?V0 + 8
   \   0000C8   12....       LCALL   ?FLT_TO_L
   \   0000CB   A8..         MOV     R0,?V0 + 8
   \   0000CD   A9..         MOV     R1,?V0 + 9
   \   0000CF   7A0A         MOV     R2,#0xa
   \   0000D1   7B00         MOV     R3,#0x0
   \   0000D3   12....       LCALL   ?S_DIV_MOD
   \   0000D6   EA           MOV     A,R2
   \   0000D7   85..82       MOV     DPL,?XSP + 0
   \   0000DA   85..83       MOV     DPH,?XSP + 1
   \   0000DD   F0           MOVX    @DPTR,A
   1356                    data[4]=number8+'0';
   \   0000DE   85..82       MOV     DPL,?XSP + 0
   \   0000E1   85..83       MOV     DPH,?XSP + 1
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   2430         ADD     A,#0x30
   \   0000E7   C0E0         PUSH    A
   \   0000E9   7405         MOV     A,#0x5
   \   0000EB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EE   D0E0         POP     A
   \   0000F0   F0           MOVX    @DPTR,A
   1357                    data[5]='.';
   \   0000F1   7406         MOV     A,#0x6
   \   0000F3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F6   742E         MOV     A,#0x2e
   \   0000F8   F0           MOVX    @DPTR,A
   1358                    tempn=10*(tempn-(int)tempn);
   \   0000F9   85....       MOV     ?V0 + 8,?V0 + 4
   \   0000FC   85....       MOV     ?V0 + 9,?V0 + 5
   \   0000FF   85....       MOV     ?V0 + 10,?V0 + 6
   \   000102   85....       MOV     ?V0 + 11,?V0 + 7
   \   000105   78..         MOV     R0,#?V0 + 8
   \   000107   12....       LCALL   ?FLT_TO_L
   \   00010A   E5..         MOV     A,?V0 + 9
   \   00010C   33           RLC     A
   \   00010D   95E0         SUBB    A,0xE0 /* A   */
   \   00010F   F5..         MOV     ?V0 + 10,A
   \   000111   F5..         MOV     ?V0 + 11,A
   \   000113   78..         MOV     R0,#?V0 + 8
   \   000115   12....       LCALL   ?L_TO_FLT
   \   000118   78..         MOV     R0,#?V0 + 4
   \   00011A   79..         MOV     R1,#?V0 + 8
   \   00011C   12....       LCALL   ?FLT_SUB
   \   00011F   90....       MOV     DPTR,#__Constant_41200000
   \   000122   78..         MOV     R0,#?V0 + 8
   \   000124   12....       LCALL   ?L_MOV_X
   \   000127   78..         MOV     R0,#?V0 + 4
   \   000129   79..         MOV     R1,#?V0 + 8
   \   00012B   12....       LCALL   ?FLT_MUL
   1359                    number8=(uint8)tempn;
   \   00012E   85....       MOV     ?V0 + 8,?V0 + 4
   \   000131   85....       MOV     ?V0 + 9,?V0 + 5
   \   000134   85....       MOV     ?V0 + 10,?V0 + 6
   \   000137   85....       MOV     ?V0 + 11,?V0 + 7
   \   00013A   78..         MOV     R0,#?V0 + 8
   \   00013C   12....       LCALL   ?FLT_TO_L
   \   00013F   E5..         MOV     A,?V0 + 8
   \   000141   85..82       MOV     DPL,?XSP + 0
   \   000144   85..83       MOV     DPH,?XSP + 1
   \   000147   E5..         MOV     A,?V0 + 8
   \   000149   F0           MOVX    @DPTR,A
   1360                    data[6]=number8+'0';
   \   00014A   85..82       MOV     DPL,?XSP + 0
   \   00014D   85..83       MOV     DPH,?XSP + 1
   \   000150   E0           MOVX    A,@DPTR
   \   000151   2430         ADD     A,#0x30
   \   000153   C0E0         PUSH    A
   \   000155   7407         MOV     A,#0x7
   \   000157   12....       LCALL   ?XSTACK_DISP0_8
   \   00015A   D0E0         POP     A
   \   00015C   F0           MOVX    @DPTR,A
   1361                         
   1362                    
   1363                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1364                                         CALBRATION_N_CLUSTERID,
   1365                                         7,//osal_strlen("A1")+1,
   1366                                         data,
   1367                                         &SampleApp_TransID,
   1368                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1369                                         1//AF_DEFAULT_RADIUS 
   1370                                          ) == afStatus_SUCCESS )
   \   00015D                ; Setup parameters for call to function AF_DataRequest
   \   00015D   75..01       MOV     ?V0 + 8,#0x1
   \   000160   78..         MOV     R0,#?V0 + 8
   \   000162   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000165   75....       MOV     ?V0 + 8,#SampleApp_TransID & 0xff
   \   000168   75....       MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
   \   00016B   78..         MOV     R0,#?V0 + 8
   \   00016D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000170   7404         MOV     A,#0x4
   \   000172   12....       LCALL   ?XSTACK_DISP0_8
   \   000175   8582..       MOV     ?V0 + 8,DPL
   \   000178   8583..       MOV     ?V0 + 9,DPH
   \   00017B   78..         MOV     R0,#?V0 + 8
   \   00017D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000180   75..07       MOV     ?V0 + 8,#0x7
   \   000183   75..00       MOV     ?V0 + 9,#0x0
   \   000186   78..         MOV     R0,#?V0 + 8
   \   000188   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00018B   75..02       MOV     ?V0 + 8,#0x2
   \   00018E   75..00       MOV     ?V0 + 9,#0x0
   \   000191   78..         MOV     R0,#?V0 + 8
   \   000193   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000196   7920         MOV     R1,#0x20
   \   000198   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   00019A   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00019C   7A..         MOV     R2,#SampleApp_Tester_DstAddr & 0xff
   \   00019E   7B..         MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
   \   0001A0   12....       LCALL   ??AF_DataRequest?relay
   \   0001A3   7409         MOV     A,#0x9
   \   0001A5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A8   E9           MOV     A,R1
   \   0001A9   C0E0         PUSH    A
   \   0001AB   7408         MOV     A,#0x8
   \   0001AD   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B0   D0E0         POP     A
   \   0001B2   F0           MOVX    @DPTR,A
   1371                    {
   1372                    }
   1373                    else
   1374                    {
   1375                      // Error occurred in request to send.
   1376                    }
   1377            }
   1378          }
   \                     ??SampleApp_Tester_calibrationAMessage_0:
   \   0001B3   7409         MOV     A,#0x9
   \   0001B5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B8   7F10         MOV     R7,#0x10
   \   0001BA   02....       LJMP    ?BANKED_LEAVE_XDATA
   1379          
   1380          
   1381          /*********************************************************************
   1382           * @fn      SampleApp_Tester_calibration_differentAMessage
   1383           *
   1384           * @brief   Send the periodic message.
   1385           *
   1386           * @param   none
   1387           *
   1388           * @return  none
   1389           */
   1390          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1391          void SampleApp_Tester_calibration_differentAMessage( int index )
   \                     SampleApp_Tester_calibration_differentAMessage:
   1392          {
   \   000000   74EB         MOV     A,#-0x15
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 21
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1393              
   1394            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000E   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 8
   \   000011   7401         MOV     A,#0x1
   \   000013   F0           MOVX    @DPTR,A
   1395            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000014   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 9
   \   000017   7414         MOV     A,#0x14
   \   000019   F0           MOVX    @DPTR,A
   1396            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   00001A   90....       MOV     DPTR,#SampleApp_Tester_DstAddr
   \   00001D   7401         MOV     A,#0x1
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   7400         MOV     A,#0x0
   \   000023   F0           MOVX    @DPTR,A
   1397            
   1398            {
   1399                    
   1400                    uint8 data[8]="T";
   \   000024   90....       MOV     DPTR,#`?<Constant "T">`
   \   000027   C082         PUSH    DPL
   \   000029   C083         PUSH    DPH
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   AC82         MOV     R4,DPL
   \   000033   AD83         MOV     R5,DPH
   \   000035   D083         POP     DPH
   \   000037   D082         POP     DPL
   \   000039   7408         MOV     A,#0x8
   \   00003B   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1401                    data[1]=0x30+index;
   \   00003E   EE           MOV     A,R6
   \   00003F   2430         ADD     A,#0x30
   \   000041   C0E0         PUSH    A
   \   000043   7401         MOV     A,#0x1
   \   000045   12....       LCALL   ?XSTACK_DISP0_8
   \   000048   D0E0         POP     A
   \   00004A   F0           MOVX    @DPTR,A
   1402          
   1403                    data[2]=':';
   \   00004B   7402         MOV     A,#0x2
   \   00004D   12....       LCALL   ?XSTACK_DISP0_8
   \   000050   743A         MOV     A,#0x3a
   \   000052   F0           MOVX    @DPTR,A
   1404                    float tempn=RssiValue[index-1];
   \   000053   EE           MOV     A,R6
   \   000054   F8           MOV     R0,A
   \   000055   EF           MOV     A,R7
   \   000056   F9           MOV     R1,A
   \   000057   E8           MOV     A,R0
   \   000058   75F004       MOV     B,#0x4
   \   00005B   A4           MUL     AB
   \   00005C   C8           XCH     A,R0
   \   00005D   AAF0         MOV     R2,B
   \   00005F   75F000       MOV     B,#0x0
   \   000062   A4           MUL     AB
   \   000063   2A           ADD     A,R2
   \   000064   FA           MOV     R2,A
   \   000065   75F004       MOV     B,#0x4
   \   000068   E9           MOV     A,R1
   \   000069   A4           MUL     AB
   \   00006A   2A           ADD     A,R2
   \   00006B   F9           MOV     R1,A
   \   00006C   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   00006E   28           ADD     A,R0
   \   00006F   F582         MOV     DPL,A
   \   000071   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   000073   39           ADDC    A,R1
   \   000074   F583         MOV     DPH,A
   \   000076   78..         MOV     R0,#?V0 + 0
   \   000078   12....       LCALL   ?L_MOV_X
   1405                    uint8 number8;
   1406                    number8=(uint8)(tempn/10);
   \   00007B   85....       MOV     ?V0 + 8,?V0 + 0
   \   00007E   85....       MOV     ?V0 + 9,?V0 + 1
   \   000081   85....       MOV     ?V0 + 10,?V0 + 2
   \   000084   85....       MOV     ?V0 + 11,?V0 + 3
   \   000087   90....       MOV     DPTR,#__Constant_41200000
   \   00008A   78..         MOV     R0,#?V0 + 4
   \   00008C   12....       LCALL   ?L_MOV_X
   \   00008F   78..         MOV     R0,#?V0 + 8
   \   000091   79..         MOV     R1,#?V0 + 4
   \   000093   12....       LCALL   ?FLT_DIV
   \   000096   78..         MOV     R0,#?V0 + 8
   \   000098   12....       LCALL   ?FLT_TO_L
   \   00009B   E5..         MOV     A,?V0 + 8
   \   00009D   F5..         MOV     ?V0 + 12,A
   1407                    data[3]=number8+'0';
   \   00009F   7430         MOV     A,#0x30
   \   0000A1   25..         ADD     A,?V0 + 12
   \   0000A3   C0E0         PUSH    A
   \   0000A5   7403         MOV     A,#0x3
   \   0000A7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AA   D0E0         POP     A
   \   0000AC   F0           MOVX    @DPTR,A
   1408                    number8=(uint8)(((int)tempn)%10);
   \   0000AD   85....       MOV     ?V0 + 4,?V0 + 0
   \   0000B0   85....       MOV     ?V0 + 5,?V0 + 1
   \   0000B3   85....       MOV     ?V0 + 6,?V0 + 2
   \   0000B6   85....       MOV     ?V0 + 7,?V0 + 3
   \   0000B9   78..         MOV     R0,#?V0 + 4
   \   0000BB   12....       LCALL   ?FLT_TO_L
   \   0000BE   A8..         MOV     R0,?V0 + 4
   \   0000C0   A9..         MOV     R1,?V0 + 5
   \   0000C2   7A0A         MOV     R2,#0xa
   \   0000C4   7B00         MOV     R3,#0x0
   \   0000C6   12....       LCALL   ?S_DIV_MOD
   \   0000C9   EA           MOV     A,R2
   \   0000CA   F5..         MOV     ?V0 + 12,A
   1409                    data[4]=number8+'0';
   \   0000CC   7430         MOV     A,#0x30
   \   0000CE   25..         ADD     A,?V0 + 12
   \   0000D0   C0E0         PUSH    A
   \   0000D2   7404         MOV     A,#0x4
   \   0000D4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D7   D0E0         POP     A
   \   0000D9   F0           MOVX    @DPTR,A
   1410                    data[5]='.';
   \   0000DA   7405         MOV     A,#0x5
   \   0000DC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DF   742E         MOV     A,#0x2e
   \   0000E1   F0           MOVX    @DPTR,A
   1411                    tempn=10*(tempn-(int)tempn);
   \   0000E2   85....       MOV     ?V0 + 4,?V0 + 0
   \   0000E5   85....       MOV     ?V0 + 5,?V0 + 1
   \   0000E8   85....       MOV     ?V0 + 6,?V0 + 2
   \   0000EB   85....       MOV     ?V0 + 7,?V0 + 3
   \   0000EE   78..         MOV     R0,#?V0 + 4
   \   0000F0   12....       LCALL   ?FLT_TO_L
   \   0000F3   E5..         MOV     A,?V0 + 5
   \   0000F5   33           RLC     A
   \   0000F6   95E0         SUBB    A,0xE0 /* A   */
   \   0000F8   F5..         MOV     ?V0 + 6,A
   \   0000FA   F5..         MOV     ?V0 + 7,A
   \   0000FC   78..         MOV     R0,#?V0 + 4
   \   0000FE   12....       LCALL   ?L_TO_FLT
   \   000101   78..         MOV     R0,#?V0 + 0
   \   000103   79..         MOV     R1,#?V0 + 4
   \   000105   12....       LCALL   ?FLT_SUB
   \   000108   90....       MOV     DPTR,#__Constant_41200000
   \   00010B   78..         MOV     R0,#?V0 + 4
   \   00010D   12....       LCALL   ?L_MOV_X
   \   000110   78..         MOV     R0,#?V0 + 0
   \   000112   79..         MOV     R1,#?V0 + 4
   \   000114   12....       LCALL   ?FLT_MUL
   1412                    number8=(uint8)tempn;
   \   000117   85....       MOV     ?V0 + 4,?V0 + 0
   \   00011A   85....       MOV     ?V0 + 5,?V0 + 1
   \   00011D   85....       MOV     ?V0 + 6,?V0 + 2
   \   000120   85....       MOV     ?V0 + 7,?V0 + 3
   \   000123   78..         MOV     R0,#?V0 + 4
   \   000125   12....       LCALL   ?FLT_TO_L
   \   000128   E5..         MOV     A,?V0 + 4
   \   00012A   F5..         MOV     ?V0 + 12,A
   1413                    data[6]=number8+'0';
   \   00012C   7430         MOV     A,#0x30
   \   00012E   25..         ADD     A,?V0 + 12
   \   000130   C0E0         PUSH    A
   \   000132   7406         MOV     A,#0x6
   \   000134   12....       LCALL   ?XSTACK_DISP0_8
   \   000137   D0E0         POP     A
   \   000139   F0           MOVX    @DPTR,A
   1414                    data[7]='\n'; 
   \   00013A   7407         MOV     A,#0x7
   \   00013C   12....       LCALL   ?XSTACK_DISP0_8
   \   00013F   740A         MOV     A,#0xa
   \   000141   F0           MOVX    @DPTR,A
   1415                
   1416                    
   1417                   // index++;
   1418                    
   1419                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1420                                         CALBRATION_N_CLUSTERID,
   1421                                         8,//osal_strlen("A1")+1,
   1422                                         data,
   1423                                         &SampleApp_TransID,
   1424                                         AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1425                                         1//AF_DEFAULT_RADIUS 
   1426                                          ) == afStatus_SUCCESS )
   \   000142                ; Setup parameters for call to function AF_DataRequest
   \   000142   75..01       MOV     ?V0 + 4,#0x1
   \   000145   78..         MOV     R0,#?V0 + 4
   \   000147   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00014A   75....       MOV     ?V0 + 4,#SampleApp_TransID & 0xff
   \   00014D   75....       MOV     ?V0 + 5,#(SampleApp_TransID >> 8) & 0xff
   \   000150   78..         MOV     R0,#?V0 + 4
   \   000152   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000155   7403         MOV     A,#0x3
   \   000157   12....       LCALL   ?XSTACK_DISP0_8
   \   00015A   8582..       MOV     ?V0 + 4,DPL
   \   00015D   8583..       MOV     ?V0 + 5,DPH
   \   000160   78..         MOV     R0,#?V0 + 4
   \   000162   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000165   75..08       MOV     ?V0 + 4,#0x8
   \   000168   75..00       MOV     ?V0 + 5,#0x0
   \   00016B   78..         MOV     R0,#?V0 + 4
   \   00016D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000170   75..02       MOV     ?V0 + 4,#0x2
   \   000173   75..00       MOV     ?V0 + 5,#0x0
   \   000176   78..         MOV     R0,#?V0 + 4
   \   000178   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00017B   7980         MOV     R1,#-0x80
   \   00017D   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   00017F   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000181   7A..         MOV     R2,#SampleApp_Tester_DstAddr & 0xff
   \   000183   7B..         MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
   \   000185   12....       LCALL   ??AF_DataRequest?relay
   \   000188   7409         MOV     A,#0x9
   \   00018A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00018D   E9           MOV     A,R1
   1427                    {
   1428                    }
   1429                    else
   1430                    {
   1431                      // Error occurred in request to send.
   1432                    }
   1433            }
   1434          
   1435          }
   \   00018E   7408         MOV     A,#0x8
   \   000190   12....       LCALL   ?DEALLOC_XSTACK8
   \   000193   7F0D         MOV     R7,#0xd
   \   000195   02....       LJMP    ?BANKED_LEAVE_XDATA
   1436          
   1437          /*********************************************************************
   1438           * @fn      SampleApp_Tester_calibrationOffsetAMessage
   1439           *
   1440           * @brief   Send the periodic message.
   1441           *
   1442           * @param   none
   1443           *
   1444           * @return  none
   1445           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1446          void SampleApp_Tester_calibrationOffsetAMessage( int index , float A )
   \                     SampleApp_Tester_calibrationOffsetAMessage:
   1447          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   \   00000E   7422         MOV     A,#0x22
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   78..         MOV     R0,#?V0 + 0
   \   000015   12....       LCALL   ?L_MOV_X
   1448              
   1449            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   000018   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 8
   \   00001B   7401         MOV     A,#0x1
   \   00001D   F0           MOVX    @DPTR,A
   1450            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   00001E   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 9
   \   000021   7414         MOV     A,#0x14
   \   000023   F0           MOVX    @DPTR,A
   1451            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   000024   90....       MOV     DPTR,#SampleApp_Tester_DstAddr
   \   000027   7401         MOV     A,#0x1
   \   000029   F0           MOVX    @DPTR,A
   \   00002A   A3           INC     DPTR
   \   00002B   7400         MOV     A,#0x0
   \   00002D   F0           MOVX    @DPTR,A
   1452           
   1453          
   1454          
   1455            float tempn=A;  
   \   00002E   85....       MOV     ?V0 + 4,?V0 + 0
   \   000031   85....       MOV     ?V0 + 5,?V0 + 1
   \   000034   85....       MOV     ?V0 + 6,?V0 + 2
   \   000037   85....       MOV     ?V0 + 7,?V0 + 3
   1456            uint8 data[8]="O";
   \   00003A   90....       MOV     DPTR,#`?<Constant "O">`
   \   00003D   C082         PUSH    DPL
   \   00003F   C083         PUSH    DPH
   \   000041   7401         MOV     A,#0x1
   \   000043   12....       LCALL   ?XSTACK_DISP0_8
   \   000046   AC82         MOV     R4,DPL
   \   000048   AD83         MOV     R5,DPH
   \   00004A   D083         POP     DPH
   \   00004C   D082         POP     DPL
   \   00004E   7408         MOV     A,#0x8
   \   000050   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1457            uint8 number8;
   1458            data[1]=0x30+index;
   \   000053   EE           MOV     A,R6
   \   000054   2430         ADD     A,#0x30
   \   000056   C0E0         PUSH    A
   \   000058   7402         MOV     A,#0x2
   \   00005A   12....       LCALL   ?XSTACK_DISP0_8
   \   00005D   D0E0         POP     A
   \   00005F   F0           MOVX    @DPTR,A
   1459            if(A>=0)
   \   000060   90....       MOV     DPTR,#__Constant_0
   \   000063   78..         MOV     R0,#?V0 + 8
   \   000065   12....       LCALL   ?L_MOV_X
   \   000068   78..         MOV     R0,#?V0 + 0
   \   00006A   79..         MOV     R1,#?V0 + 8
   \   00006C   12....       LCALL   ?FLT_GE
   \   00006F   500A         JNC     ??SampleApp_Tester_calibrationOffsetAMessage_0
   1460            {
   1461                    data[2]='+'; 
   \   000071   7403         MOV     A,#0x3
   \   000073   12....       LCALL   ?XSTACK_DISP0_8
   \   000076   742B         MOV     A,#0x2b
   \   000078   F0           MOVX    @DPTR,A
   \   000079   800E         SJMP    ??SampleApp_Tester_calibrationOffsetAMessage_1
   1462            } 
   1463            else
   1464            {
   1465                    tempn=-tempn;
   \                     ??SampleApp_Tester_calibrationOffsetAMessage_0:
   \   00007B   C5..         XCH     A,?V0 + 7
   \   00007D   B2E7         CPL     0xE0 /* A   */.7
   \   00007F   F5..         MOV     ?V0 + 7,A
   1466                    data[2]='-';
   \   000081   7403         MOV     A,#0x3
   \   000083   12....       LCALL   ?XSTACK_DISP0_8
   \   000086   742D         MOV     A,#0x2d
   \   000088   F0           MOVX    @DPTR,A
   1467                    
   1468            }
   1469            
   1470                    number8=(uint8)(tempn/10);
   \                     ??SampleApp_Tester_calibrationOffsetAMessage_1:
   \   000089   85....       MOV     ?V0 + 12,?V0 + 4
   \   00008C   85....       MOV     ?V0 + 13,?V0 + 5
   \   00008F   85....       MOV     ?V0 + 14,?V0 + 6
   \   000092   85....       MOV     ?V0 + 15,?V0 + 7
   \   000095   90....       MOV     DPTR,#__Constant_41200000
   \   000098   78..         MOV     R0,#?V0 + 8
   \   00009A   12....       LCALL   ?L_MOV_X
   \   00009D   78..         MOV     R0,#?V0 + 12
   \   00009F   79..         MOV     R1,#?V0 + 8
   \   0000A1   12....       LCALL   ?FLT_DIV
   \   0000A4   78..         MOV     R0,#?V0 + 12
   \   0000A6   12....       LCALL   ?FLT_TO_L
   \   0000A9   E5..         MOV     A,?V0 + 12
   \   0000AB   85..82       MOV     DPL,?XSP + 0
   \   0000AE   85..83       MOV     DPH,?XSP + 1
   \   0000B1   E5..         MOV     A,?V0 + 12
   \   0000B3   F0           MOVX    @DPTR,A
   1471                    data[3]=number8+'0';
   \   0000B4   85..82       MOV     DPL,?XSP + 0
   \   0000B7   85..83       MOV     DPH,?XSP + 1
   \   0000BA   E0           MOVX    A,@DPTR
   \   0000BB   2430         ADD     A,#0x30
   \   0000BD   C0E0         PUSH    A
   \   0000BF   7404         MOV     A,#0x4
   \   0000C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C4   D0E0         POP     A
   \   0000C6   F0           MOVX    @DPTR,A
   1472                    number8=(uint8)(((int)tempn)%10);
   \   0000C7   85....       MOV     ?V0 + 8,?V0 + 4
   \   0000CA   85....       MOV     ?V0 + 9,?V0 + 5
   \   0000CD   85....       MOV     ?V0 + 10,?V0 + 6
   \   0000D0   85....       MOV     ?V0 + 11,?V0 + 7
   \   0000D3   78..         MOV     R0,#?V0 + 8
   \   0000D5   12....       LCALL   ?FLT_TO_L
   \   0000D8   A8..         MOV     R0,?V0 + 8
   \   0000DA   A9..         MOV     R1,?V0 + 9
   \   0000DC   7A0A         MOV     R2,#0xa
   \   0000DE   7B00         MOV     R3,#0x0
   \   0000E0   12....       LCALL   ?S_DIV_MOD
   \   0000E3   EA           MOV     A,R2
   \   0000E4   85..82       MOV     DPL,?XSP + 0
   \   0000E7   85..83       MOV     DPH,?XSP + 1
   \   0000EA   F0           MOVX    @DPTR,A
   1473                    data[4]=number8+'0';
   \   0000EB   85..82       MOV     DPL,?XSP + 0
   \   0000EE   85..83       MOV     DPH,?XSP + 1
   \   0000F1   E0           MOVX    A,@DPTR
   \   0000F2   2430         ADD     A,#0x30
   \   0000F4   C0E0         PUSH    A
   \   0000F6   7405         MOV     A,#0x5
   \   0000F8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000FB   D0E0         POP     A
   \   0000FD   F0           MOVX    @DPTR,A
   1474                    data[5]='.';
   \   0000FE   7406         MOV     A,#0x6
   \   000100   12....       LCALL   ?XSTACK_DISP0_8
   \   000103   742E         MOV     A,#0x2e
   \   000105   F0           MOVX    @DPTR,A
   1475                    tempn=10*(tempn-(int)tempn);
   \   000106   85....       MOV     ?V0 + 8,?V0 + 4
   \   000109   85....       MOV     ?V0 + 9,?V0 + 5
   \   00010C   85....       MOV     ?V0 + 10,?V0 + 6
   \   00010F   85....       MOV     ?V0 + 11,?V0 + 7
   \   000112   78..         MOV     R0,#?V0 + 8
   \   000114   12....       LCALL   ?FLT_TO_L
   \   000117   E5..         MOV     A,?V0 + 9
   \   000119   33           RLC     A
   \   00011A   95E0         SUBB    A,0xE0 /* A   */
   \   00011C   F5..         MOV     ?V0 + 10,A
   \   00011E   F5..         MOV     ?V0 + 11,A
   \   000120   78..         MOV     R0,#?V0 + 8
   \   000122   12....       LCALL   ?L_TO_FLT
   \   000125   78..         MOV     R0,#?V0 + 4
   \   000127   79..         MOV     R1,#?V0 + 8
   \   000129   12....       LCALL   ?FLT_SUB
   \   00012C   90....       MOV     DPTR,#__Constant_41200000
   \   00012F   78..         MOV     R0,#?V0 + 8
   \   000131   12....       LCALL   ?L_MOV_X
   \   000134   78..         MOV     R0,#?V0 + 4
   \   000136   79..         MOV     R1,#?V0 + 8
   \   000138   12....       LCALL   ?FLT_MUL
   1476                    number8=(uint8)tempn;
   \   00013B   85....       MOV     ?V0 + 8,?V0 + 4
   \   00013E   85....       MOV     ?V0 + 9,?V0 + 5
   \   000141   85....       MOV     ?V0 + 10,?V0 + 6
   \   000144   85....       MOV     ?V0 + 11,?V0 + 7
   \   000147   78..         MOV     R0,#?V0 + 8
   \   000149   12....       LCALL   ?FLT_TO_L
   \   00014C   E5..         MOV     A,?V0 + 8
   \   00014E   85..82       MOV     DPL,?XSP + 0
   \   000151   85..83       MOV     DPH,?XSP + 1
   \   000154   E5..         MOV     A,?V0 + 8
   \   000156   F0           MOVX    @DPTR,A
   1477                    data[6]=number8+'0';
   \   000157   85..82       MOV     DPL,?XSP + 0
   \   00015A   85..83       MOV     DPH,?XSP + 1
   \   00015D   E0           MOVX    A,@DPTR
   \   00015E   2430         ADD     A,#0x30
   \   000160   C0E0         PUSH    A
   \   000162   7407         MOV     A,#0x7
   \   000164   12....       LCALL   ?XSTACK_DISP0_8
   \   000167   D0E0         POP     A
   \   000169   F0           MOVX    @DPTR,A
   1478                    data[7]='\n'; 
   \   00016A   7408         MOV     A,#0x8
   \   00016C   12....       LCALL   ?XSTACK_DISP0_8
   \   00016F   740A         MOV     A,#0xa
   \   000171   F0           MOVX    @DPTR,A
   1479                    
   1480                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1481                                         CALBRATION_N_CLUSTERID,
   1482                                         8,//osal_strlen("A1")+1,
   1483                                         data,
   1484                                         &SampleApp_TransID,
   1485                                         AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1486                                         1//AF_DEFAULT_RADIUS 
   1487                                          ) == afStatus_SUCCESS )
   \   000172                ; Setup parameters for call to function AF_DataRequest
   \   000172   75..01       MOV     ?V0 + 8,#0x1
   \   000175   78..         MOV     R0,#?V0 + 8
   \   000177   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00017A   75....       MOV     ?V0 + 8,#SampleApp_TransID & 0xff
   \   00017D   75....       MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
   \   000180   78..         MOV     R0,#?V0 + 8
   \   000182   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000185   7404         MOV     A,#0x4
   \   000187   12....       LCALL   ?XSTACK_DISP0_8
   \   00018A   8582..       MOV     ?V0 + 8,DPL
   \   00018D   8583..       MOV     ?V0 + 9,DPH
   \   000190   78..         MOV     R0,#?V0 + 8
   \   000192   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000195   75..08       MOV     ?V0 + 8,#0x8
   \   000198   75..00       MOV     ?V0 + 9,#0x0
   \   00019B   78..         MOV     R0,#?V0 + 8
   \   00019D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001A0   75..02       MOV     ?V0 + 8,#0x2
   \   0001A3   75..00       MOV     ?V0 + 9,#0x0
   \   0001A6   78..         MOV     R0,#?V0 + 8
   \   0001A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001AB   7980         MOV     R1,#-0x80
   \   0001AD   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   0001AF   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   0001B1   7A..         MOV     R2,#SampleApp_Tester_DstAddr & 0xff
   \   0001B3   7B..         MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
   \   0001B5   12....       LCALL   ??AF_DataRequest?relay
   \   0001B8   7409         MOV     A,#0x9
   \   0001BA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001BD   E9           MOV     A,R1
   \   0001BE   C0E0         PUSH    A
   \   0001C0   7409         MOV     A,#0x9
   \   0001C2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C5   D0E0         POP     A
   \   0001C7   F0           MOVX    @DPTR,A
   1488                    {
   1489                    }
   1490                    else
   1491                    {
   1492                      // Error occurred in request to send.
   1493                    }
   1494            
   1495          }
   \   0001C8   740A         MOV     A,#0xa
   \   0001CA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001CD   7F10         MOV     R7,#0x10
   \   0001CF   02....       LJMP    ?BANKED_LEAVE_XDATA
   1496          
   1497          
   1498          
   1499          /*********************************************************************
   1500           * @fn      SampleApp_Quadrotor_SendLocation
   1501           *
   1502           * @brief   Send the flash message to group 1.
   1503           *
   1504           * @param   flashTime - in milliseconds
   1505           *
   1506           * @return  none
   1507           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1508          void SampleApp_Quadrotor_SendLocation( int index )
   \                     SampleApp_Quadrotor_SendLocation:
   1509          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 26
   \   000005   74E6         MOV     A,#-0x1a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 12,R2
   \   00000C   8B..         MOV     ?V0 + 13,R3
   1510            
   1511            SampleApp_Quadrotor_Location_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000E   90....       MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr + 8
   \   000011   7401         MOV     A,#0x1
   \   000013   F0           MOVX    @DPTR,A
   1512            SampleApp_Quadrotor_Location_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000014   90....       MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr + 9
   \   000017   7414         MOV     A,#0x14
   \   000019   F0           MOVX    @DPTR,A
   1513            SampleApp_Quadrotor_Location_DstAddr.addr.shortAddr = SAMPLEAPP_QUADROTOR_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   00001A   90....       MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr
   \   00001D   7402         MOV     A,#0x2
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   7400         MOV     A,#0x0
   \   000023   F0           MOVX    @DPTR,A
   1514            
   1515            float xposition;
   1516            float yposition;
   1517            float zposition;
   1518            
   1519            zposition=locationZ[index-1];
   \   000024   A8..         MOV     R0,?V0 + 12
   \   000026   A9..         MOV     R1,?V0 + 13
   \   000028   E8           MOV     A,R0
   \   000029   75F004       MOV     B,#0x4
   \   00002C   A4           MUL     AB
   \   00002D   C8           XCH     A,R0
   \   00002E   AAF0         MOV     R2,B
   \   000030   75F000       MOV     B,#0x0
   \   000033   A4           MUL     AB
   \   000034   2A           ADD     A,R2
   \   000035   FA           MOV     R2,A
   \   000036   75F004       MOV     B,#0x4
   \   000039   E5..         MOV     A,?V0 + 13
   \   00003B   A4           MUL     AB
   \   00003C   2A           ADD     A,R2
   \   00003D   F9           MOV     R1,A
   \   00003E   74..         MOV     A,#(locationZ + 252) & 0xff
   \   000040   28           ADD     A,R0
   \   000041   F582         MOV     DPL,A
   \   000043   74..         MOV     A,#((locationZ - 4) >> 8) & 0xff
   \   000045   39           ADDC    A,R1
   \   000046   F583         MOV     DPH,A
   \   000048   78..         MOV     R0,#?V0 + 0
   \   00004A   12....       LCALL   ?L_MOV_X
   \   00004D   85....       MOV     ?V0 + 4,?V0 + 0
   \   000050   85....       MOV     ?V0 + 5,?V0 + 1
   \   000053   85....       MOV     ?V0 + 6,?V0 + 2
   \   000056   85....       MOV     ?V0 + 7,?V0 + 3
   1520            // using min-max algorithm
   1521            SampleApp_MinMax_localization(&xposition, &yposition, zposition, nValue,
   1522                                      RssiValue, AValue, AnchorX, AnchorY,OffsetAValue);
   \   000059                ; Setup parameters for call to function SampleApp_MinMax_localization
   \   000059   75....       MOV     ?V0 + 0,#OffsetAValue & 0xff
   \   00005C   75....       MOV     ?V0 + 1,#(OffsetAValue >> 8) & 0xff
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000064   75....       MOV     ?V0 + 0,#AnchorY & 0xff
   \   000067   75....       MOV     ?V0 + 1,#(AnchorY >> 8) & 0xff
   \   00006A   78..         MOV     R0,#?V0 + 0
   \   00006C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006F   75....       MOV     ?V0 + 0,#AnchorX & 0xff
   \   000072   75....       MOV     ?V0 + 1,#(AnchorX >> 8) & 0xff
   \   000075   78..         MOV     R0,#?V0 + 0
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007A   75....       MOV     ?V0 + 0,#AValue & 0xff
   \   00007D   75....       MOV     ?V0 + 1,#(AValue >> 8) & 0xff
   \   000080   78..         MOV     R0,#?V0 + 0
   \   000082   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000085   75....       MOV     ?V0 + 0,#RssiValue & 0xff
   \   000088   75....       MOV     ?V0 + 1,#(RssiValue >> 8) & 0xff
   \   00008B   78..         MOV     R0,#?V0 + 0
   \   00008D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000090   75....       MOV     ?V0 + 0,#nValue & 0xff
   \   000093   75....       MOV     ?V0 + 1,#(nValue >> 8) & 0xff
   \   000096   78..         MOV     R0,#?V0 + 0
   \   000098   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009B   78..         MOV     R0,#?V0 + 4
   \   00009D   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0000A0   7410         MOV     A,#0x10
   \   0000A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A5   AC82         MOV     R4,DPL
   \   0000A7   AD83         MOV     R5,DPH
   \   0000A9   7414         MOV     A,#0x14
   \   0000AB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AE   AA82         MOV     R2,DPL
   \   0000B0   AB83         MOV     R3,DPH
   \   0000B2   12....       LCALL   ??SampleApp_MinMax_localization?relay
   \   0000B5   7410         MOV     A,#0x10
   \   0000B7   12....       LCALL   ?DEALLOC_XSTACK8
   1523          //  locationX[index-1]=0.5f*xposition;
   1524          //  locationY[index-1]=0.5f*yposition;
   1525            // using weighted centroid localization algorithm
   1526            //SampleApp_WCL_localization(&xposition, &yposition, nValue,RssiValue,AValue,AnchorX,AnchorY,OffsetAValue);
   1527            locationX[index-1]=xposition;
   \   0000BA   7404         MOV     A,#0x4
   \   0000BC   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BF   12....       LCALL   ?XLOAD_R2345
   \   0000C2   A8..         MOV     R0,?V0 + 12
   \   0000C4   A9..         MOV     R1,?V0 + 13
   \   0000C6   E8           MOV     A,R0
   \   0000C7   75F004       MOV     B,#0x4
   \   0000CA   A4           MUL     AB
   \   0000CB   C8           XCH     A,R0
   \   0000CC   AEF0         MOV     R6,B
   \   0000CE   75F000       MOV     B,#0x0
   \   0000D1   A4           MUL     AB
   \   0000D2   2E           ADD     A,R6
   \   0000D3   FE           MOV     R6,A
   \   0000D4   75F004       MOV     B,#0x4
   \   0000D7   E5..         MOV     A,?V0 + 13
   \   0000D9   A4           MUL     AB
   \   0000DA   2E           ADD     A,R6
   \   0000DB   F9           MOV     R1,A
   \   0000DC   74..         MOV     A,#(locationX + 252) & 0xff
   \   0000DE   28           ADD     A,R0
   \   0000DF   F582         MOV     DPL,A
   \   0000E1   74..         MOV     A,#((locationX - 4) >> 8) & 0xff
   \   0000E3   39           ADDC    A,R1
   \   0000E4   F583         MOV     DPH,A
   \   0000E6   12....       LCALL   ?XSTORE_R2345
   1528            locationY[index-1]=yposition;
   \   0000E9   85..82       MOV     DPL,?XSP + 0
   \   0000EC   85..83       MOV     DPH,?XSP + 1
   \   0000EF   12....       LCALL   ?XLOAD_R2345
   \   0000F2   A8..         MOV     R0,?V0 + 12
   \   0000F4   A9..         MOV     R1,?V0 + 13
   \   0000F6   E8           MOV     A,R0
   \   0000F7   75F004       MOV     B,#0x4
   \   0000FA   A4           MUL     AB
   \   0000FB   C8           XCH     A,R0
   \   0000FC   AEF0         MOV     R6,B
   \   0000FE   75F000       MOV     B,#0x0
   \   000101   A4           MUL     AB
   \   000102   2E           ADD     A,R6
   \   000103   FE           MOV     R6,A
   \   000104   75F004       MOV     B,#0x4
   \   000107   E5..         MOV     A,?V0 + 13
   \   000109   A4           MUL     AB
   \   00010A   2E           ADD     A,R6
   \   00010B   F9           MOV     R1,A
   \   00010C   74..         MOV     A,#(locationY + 252) & 0xff
   \   00010E   28           ADD     A,R0
   \   00010F   F582         MOV     DPL,A
   \   000111   74..         MOV     A,#((locationY - 4) >> 8) & 0xff
   \   000113   39           ADDC    A,R1
   \   000114   F583         MOV     DPH,A
   \   000116   12....       LCALL   ?XSTORE_R2345
   1529            
   1530            
   1531          
   1532            uint8 data[18]="Q";
   \   000119   90....       MOV     DPTR,#`?<Constant "Q">`
   \   00011C   C082         PUSH    DPL
   \   00011E   C083         PUSH    DPH
   \   000120   7408         MOV     A,#0x8
   \   000122   12....       LCALL   ?XSTACK_DISP0_8
   \   000125   AC82         MOV     R4,DPL
   \   000127   AD83         MOV     R5,DPH
   \   000129   D083         POP     DPH
   \   00012B   D082         POP     DPL
   \   00012D   7412         MOV     A,#0x12
   \   00012F   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1533            data[1]=0x30+index;
   \   000132   E5..         MOV     A,?V0 + 12
   \   000134   2430         ADD     A,#0x30
   \   000136   C0E0         PUSH    A
   \   000138   7409         MOV     A,#0x9
   \   00013A   12....       LCALL   ?XSTACK_DISP0_8
   \   00013D   D0E0         POP     A
   \   00013F   F0           MOVX    @DPTR,A
   1534            data[2]='[';
   \   000140   740A         MOV     A,#0xa
   \   000142   12....       LCALL   ?XSTACK_DISP0_8
   \   000145   745B         MOV     A,#0x5b
   \   000147   F0           MOVX    @DPTR,A
   1535            data[17]=']';
   \   000148   7419         MOV     A,#0x19
   \   00014A   12....       LCALL   ?XSTACK_DISP0_8
   \   00014D   745D         MOV     A,#0x5d
   \   00014F   F0           MOVX    @DPTR,A
   1536            uint8 number8;
   1537            number8=(uint8)xposition;
   \   000150   7404         MOV     A,#0x4
   \   000152   12....       LCALL   ?XSTACK_DISP0_8
   \   000155   78..         MOV     R0,#?V0 + 0
   \   000157   12....       LCALL   ?L_MOV_X
   \   00015A   78..         MOV     R0,#?V0 + 0
   \   00015C   12....       LCALL   ?FLT_TO_L
   \   00015F   E5..         MOV     A,?V0 + 0
   \   000161   AE..         MOV     R6,?V0 + 0
   1538            data[3]=number8+'0';
   \   000163   7430         MOV     A,#0x30
   \   000165   2E           ADD     A,R6
   \   000166   C0E0         PUSH    A
   \   000168   740B         MOV     A,#0xb
   \   00016A   12....       LCALL   ?XSTACK_DISP0_8
   \   00016D   D0E0         POP     A
   \   00016F   F0           MOVX    @DPTR,A
   1539            data[4]='.';
   \   000170   740C         MOV     A,#0xc
   \   000172   12....       LCALL   ?XSTACK_DISP0_8
   \   000175   742E         MOV     A,#0x2e
   \   000177   F0           MOVX    @DPTR,A
   1540            xposition=10*(xposition-(float)number8);
   \   000178   7404         MOV     A,#0x4
   \   00017A   12....       LCALL   ?XSTACK_DISP0_8
   \   00017D   78..         MOV     R0,#?V0 + 0
   \   00017F   12....       LCALL   ?L_MOV_X
   \   000182   8E..         MOV     ?V0 + 8,R6
   \   000184   E4           CLR     A
   \   000185   F5..         MOV     ?V0 + 9,A
   \   000187   F5..         MOV     ?V0 + 10,A
   \   000189   F5..         MOV     ?V0 + 11,A
   \   00018B   78..         MOV     R0,#?V0 + 8
   \   00018D   12....       LCALL   ?UL_TO_FLT
   \   000190   78..         MOV     R0,#?V0 + 0
   \   000192   79..         MOV     R1,#?V0 + 8
   \   000194   12....       LCALL   ?FLT_SUB
   \   000197   90....       MOV     DPTR,#__Constant_41200000
   \   00019A   78..         MOV     R0,#?V0 + 8
   \   00019C   12....       LCALL   ?L_MOV_X
   \   00019F   78..         MOV     R0,#?V0 + 0
   \   0001A1   79..         MOV     R1,#?V0 + 8
   \   0001A3   12....       LCALL   ?FLT_MUL
   \   0001A6   7404         MOV     A,#0x4
   \   0001A8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001AB   78..         MOV     R0,#?V0 + 0
   \   0001AD   12....       LCALL   ?L_MOV_TO_X
   1541            number8=(uint8)xposition;
   \   0001B0   7404         MOV     A,#0x4
   \   0001B2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B5   78..         MOV     R0,#?V0 + 0
   \   0001B7   12....       LCALL   ?L_MOV_X
   \   0001BA   78..         MOV     R0,#?V0 + 0
   \   0001BC   12....       LCALL   ?FLT_TO_L
   \   0001BF   E5..         MOV     A,?V0 + 0
   \   0001C1   AE..         MOV     R6,?V0 + 0
   1542            data[5]=number8+'0';
   \   0001C3   7430         MOV     A,#0x30
   \   0001C5   2E           ADD     A,R6
   \   0001C6   C0E0         PUSH    A
   \   0001C8   740D         MOV     A,#0xd
   \   0001CA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001CD   D0E0         POP     A
   \   0001CF   F0           MOVX    @DPTR,A
   1543            xposition=10*(xposition-(float)number8);
   \   0001D0   7404         MOV     A,#0x4
   \   0001D2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001D5   78..         MOV     R0,#?V0 + 0
   \   0001D7   12....       LCALL   ?L_MOV_X
   \   0001DA   8E..         MOV     ?V0 + 8,R6
   \   0001DC   E4           CLR     A
   \   0001DD   F5..         MOV     ?V0 + 9,A
   \   0001DF   F5..         MOV     ?V0 + 10,A
   \   0001E1   F5..         MOV     ?V0 + 11,A
   \   0001E3   78..         MOV     R0,#?V0 + 8
   \   0001E5   12....       LCALL   ?UL_TO_FLT
   \   0001E8   78..         MOV     R0,#?V0 + 0
   \   0001EA   79..         MOV     R1,#?V0 + 8
   \   0001EC   12....       LCALL   ?FLT_SUB
   \   0001EF   90....       MOV     DPTR,#__Constant_41200000
   \   0001F2   78..         MOV     R0,#?V0 + 8
   \   0001F4   12....       LCALL   ?L_MOV_X
   \   0001F7   78..         MOV     R0,#?V0 + 0
   \   0001F9   79..         MOV     R1,#?V0 + 8
   \   0001FB   12....       LCALL   ?FLT_MUL
   \   0001FE   7404         MOV     A,#0x4
   \   000200   12....       LCALL   ?XSTACK_DISP0_8
   \   000203   78..         MOV     R0,#?V0 + 0
   \   000205   12....       LCALL   ?L_MOV_TO_X
   1544            number8=(uint8)xposition+'0';
   \   000208   7404         MOV     A,#0x4
   \   00020A   12....       LCALL   ?XSTACK_DISP0_8
   \   00020D   78..         MOV     R0,#?V0 + 0
   \   00020F   12....       LCALL   ?L_MOV_X
   \   000212   78..         MOV     R0,#?V0 + 0
   \   000214   12....       LCALL   ?FLT_TO_L
   \   000217   E5..         MOV     A,?V0 + 0
   \   000219   2430         ADD     A,#0x30
   \   00021B   FE           MOV     R6,A
   1545            data[6]=number8;
   \   00021C   C0E0         PUSH    A
   \   00021E   740E         MOV     A,#0xe
   \   000220   12....       LCALL   ?XSTACK_DISP0_8
   \   000223   D0E0         POP     A
   \   000225   F0           MOVX    @DPTR,A
   1546            data[7]=',';
   \   000226   740F         MOV     A,#0xf
   \   000228   12....       LCALL   ?XSTACK_DISP0_8
   \   00022B   742C         MOV     A,#0x2c
   \   00022D   F0           MOVX    @DPTR,A
   1547            number8=(uint8)yposition;
   \   00022E   85..82       MOV     DPL,?XSP + 0
   \   000231   85..83       MOV     DPH,?XSP + 1
   \   000234   78..         MOV     R0,#?V0 + 0
   \   000236   12....       LCALL   ?L_MOV_X
   \   000239   78..         MOV     R0,#?V0 + 0
   \   00023B   12....       LCALL   ?FLT_TO_L
   \   00023E   E5..         MOV     A,?V0 + 0
   \   000240   AE..         MOV     R6,?V0 + 0
   1548            data[8]=number8+'0';
   \   000242   7430         MOV     A,#0x30
   \   000244   2E           ADD     A,R6
   \   000245   C0E0         PUSH    A
   \   000247   7410         MOV     A,#0x10
   \   000249   12....       LCALL   ?XSTACK_DISP0_8
   \   00024C   D0E0         POP     A
   \   00024E   F0           MOVX    @DPTR,A
   1549            data[9]='.';
   \   00024F   7411         MOV     A,#0x11
   \   000251   12....       LCALL   ?XSTACK_DISP0_8
   \   000254   742E         MOV     A,#0x2e
   \   000256   F0           MOVX    @DPTR,A
   1550            yposition=10*(yposition-(float)number8);
   \   000257   85..82       MOV     DPL,?XSP + 0
   \   00025A   85..83       MOV     DPH,?XSP + 1
   \   00025D   78..         MOV     R0,#?V0 + 0
   \   00025F   12....       LCALL   ?L_MOV_X
   \   000262   8E..         MOV     ?V0 + 8,R6
   \   000264   E4           CLR     A
   \   000265   F5..         MOV     ?V0 + 9,A
   \   000267   F5..         MOV     ?V0 + 10,A
   \   000269   F5..         MOV     ?V0 + 11,A
   \   00026B   78..         MOV     R0,#?V0 + 8
   \   00026D   12....       LCALL   ?UL_TO_FLT
   \   000270   78..         MOV     R0,#?V0 + 0
   \   000272   79..         MOV     R1,#?V0 + 8
   \   000274   12....       LCALL   ?FLT_SUB
   \   000277   90....       MOV     DPTR,#__Constant_41200000
   \   00027A   78..         MOV     R0,#?V0 + 8
   \   00027C   12....       LCALL   ?L_MOV_X
   \   00027F   78..         MOV     R0,#?V0 + 0
   \   000281   79..         MOV     R1,#?V0 + 8
   \   000283   12....       LCALL   ?FLT_MUL
   \   000286   85..82       MOV     DPL,?XSP + 0
   \   000289   85..83       MOV     DPH,?XSP + 1
   \   00028C   78..         MOV     R0,#?V0 + 0
   \   00028E   12....       LCALL   ?L_MOV_TO_X
   1551            number8=(uint8)yposition;
   \   000291   85..82       MOV     DPL,?XSP + 0
   \   000294   85..83       MOV     DPH,?XSP + 1
   \   000297   78..         MOV     R0,#?V0 + 0
   \   000299   12....       LCALL   ?L_MOV_X
   \   00029C   78..         MOV     R0,#?V0 + 0
   \   00029E   12....       LCALL   ?FLT_TO_L
   \   0002A1   E5..         MOV     A,?V0 + 0
   \   0002A3   AE..         MOV     R6,?V0 + 0
   1552            data[10]=number8+'0';
   \   0002A5   7430         MOV     A,#0x30
   \   0002A7   2E           ADD     A,R6
   \   0002A8   C0E0         PUSH    A
   \   0002AA   7412         MOV     A,#0x12
   \   0002AC   12....       LCALL   ?XSTACK_DISP0_8
   \   0002AF   D0E0         POP     A
   \   0002B1   F0           MOVX    @DPTR,A
   1553            yposition=10*(yposition-(float)number8);
   \   0002B2   85..82       MOV     DPL,?XSP + 0
   \   0002B5   85..83       MOV     DPH,?XSP + 1
   \   0002B8   78..         MOV     R0,#?V0 + 0
   \   0002BA   12....       LCALL   ?L_MOV_X
   \   0002BD   8E..         MOV     ?V0 + 8,R6
   \   0002BF   E4           CLR     A
   \   0002C0   F5..         MOV     ?V0 + 9,A
   \   0002C2   F5..         MOV     ?V0 + 10,A
   \   0002C4   F5..         MOV     ?V0 + 11,A
   \   0002C6   78..         MOV     R0,#?V0 + 8
   \   0002C8   12....       LCALL   ?UL_TO_FLT
   \   0002CB   78..         MOV     R0,#?V0 + 0
   \   0002CD   79..         MOV     R1,#?V0 + 8
   \   0002CF   12....       LCALL   ?FLT_SUB
   \   0002D2   90....       MOV     DPTR,#__Constant_41200000
   \   0002D5   78..         MOV     R0,#?V0 + 8
   \   0002D7   12....       LCALL   ?L_MOV_X
   \   0002DA   78..         MOV     R0,#?V0 + 0
   \   0002DC   79..         MOV     R1,#?V0 + 8
   \   0002DE   12....       LCALL   ?FLT_MUL
   \   0002E1   85..82       MOV     DPL,?XSP + 0
   \   0002E4   85..83       MOV     DPH,?XSP + 1
   \   0002E7   78..         MOV     R0,#?V0 + 0
   \   0002E9   12....       LCALL   ?L_MOV_TO_X
   1554            number8=(uint8)yposition+'0';
   \   0002EC   85..82       MOV     DPL,?XSP + 0
   \   0002EF   85..83       MOV     DPH,?XSP + 1
   \   0002F2   78..         MOV     R0,#?V0 + 0
   \   0002F4   12....       LCALL   ?L_MOV_X
   \   0002F7   78..         MOV     R0,#?V0 + 0
   \   0002F9   12....       LCALL   ?FLT_TO_L
   \   0002FC   E5..         MOV     A,?V0 + 0
   \   0002FE   2430         ADD     A,#0x30
   \   000300   FE           MOV     R6,A
   1555            data[11]=number8;
   \   000301   C0E0         PUSH    A
   \   000303   7413         MOV     A,#0x13
   \   000305   12....       LCALL   ?XSTACK_DISP0_8
   \   000308   D0E0         POP     A
   \   00030A   F0           MOVX    @DPTR,A
   1556            data[12]=',';
   \   00030B   7414         MOV     A,#0x14
   \   00030D   12....       LCALL   ?XSTACK_DISP0_8
   \   000310   742C         MOV     A,#0x2c
   \   000312   F0           MOVX    @DPTR,A
   1557            number8=(uint8)zposition;
   \   000313   85....       MOV     ?V0 + 0,?V0 + 4
   \   000316   85....       MOV     ?V0 + 1,?V0 + 5
   \   000319   85....       MOV     ?V0 + 2,?V0 + 6
   \   00031C   85....       MOV     ?V0 + 3,?V0 + 7
   \   00031F   78..         MOV     R0,#?V0 + 0
   \   000321   12....       LCALL   ?FLT_TO_L
   \   000324   E5..         MOV     A,?V0 + 0
   \   000326   AE..         MOV     R6,?V0 + 0
   1558            data[13]=number8+'0';
   \   000328   7430         MOV     A,#0x30
   \   00032A   2E           ADD     A,R6
   \   00032B   C0E0         PUSH    A
   \   00032D   7415         MOV     A,#0x15
   \   00032F   12....       LCALL   ?XSTACK_DISP0_8
   \   000332   D0E0         POP     A
   \   000334   F0           MOVX    @DPTR,A
   1559            data[14]='.';
   \   000335   7416         MOV     A,#0x16
   \   000337   12....       LCALL   ?XSTACK_DISP0_8
   \   00033A   742E         MOV     A,#0x2e
   \   00033C   F0           MOVX    @DPTR,A
   1560            zposition=10*(zposition-(float)number8);
   \   00033D   8E..         MOV     ?V0 + 0,R6
   \   00033F   E4           CLR     A
   \   000340   F5..         MOV     ?V0 + 1,A
   \   000342   F5..         MOV     ?V0 + 2,A
   \   000344   F5..         MOV     ?V0 + 3,A
   \   000346   78..         MOV     R0,#?V0 + 0
   \   000348   12....       LCALL   ?UL_TO_FLT
   \   00034B   78..         MOV     R0,#?V0 + 4
   \   00034D   79..         MOV     R1,#?V0 + 0
   \   00034F   12....       LCALL   ?FLT_SUB
   \   000352   90....       MOV     DPTR,#__Constant_41200000
   \   000355   78..         MOV     R0,#?V0 + 0
   \   000357   12....       LCALL   ?L_MOV_X
   \   00035A   78..         MOV     R0,#?V0 + 4
   \   00035C   79..         MOV     R1,#?V0 + 0
   \   00035E   12....       LCALL   ?FLT_MUL
   1561            number8=(uint8)zposition;
   \   000361   85....       MOV     ?V0 + 0,?V0 + 4
   \   000364   85....       MOV     ?V0 + 1,?V0 + 5
   \   000367   85....       MOV     ?V0 + 2,?V0 + 6
   \   00036A   85....       MOV     ?V0 + 3,?V0 + 7
   \   00036D   78..         MOV     R0,#?V0 + 0
   \   00036F   12....       LCALL   ?FLT_TO_L
   \   000372   E5..         MOV     A,?V0 + 0
   \   000374   AE..         MOV     R6,?V0 + 0
   1562            data[15]=number8+'0';
   \   000376   7430         MOV     A,#0x30
   \   000378   2E           ADD     A,R6
   \   000379   C0E0         PUSH    A
   \   00037B   7417         MOV     A,#0x17
   \   00037D   12....       LCALL   ?XSTACK_DISP0_8
   \   000380   D0E0         POP     A
   \   000382   F0           MOVX    @DPTR,A
   1563            zposition=10*(zposition-(float)number8);
   \   000383   8E..         MOV     ?V0 + 0,R6
   \   000385   E4           CLR     A
   \   000386   F5..         MOV     ?V0 + 1,A
   \   000388   F5..         MOV     ?V0 + 2,A
   \   00038A   F5..         MOV     ?V0 + 3,A
   \   00038C   78..         MOV     R0,#?V0 + 0
   \   00038E   12....       LCALL   ?UL_TO_FLT
   \   000391   78..         MOV     R0,#?V0 + 4
   \   000393   79..         MOV     R1,#?V0 + 0
   \   000395   12....       LCALL   ?FLT_SUB
   \   000398   90....       MOV     DPTR,#__Constant_41200000
   \   00039B   78..         MOV     R0,#?V0 + 0
   \   00039D   12....       LCALL   ?L_MOV_X
   \   0003A0   78..         MOV     R0,#?V0 + 4
   \   0003A2   79..         MOV     R1,#?V0 + 0
   \   0003A4   12....       LCALL   ?FLT_MUL
   1564            number8=(uint8)zposition+'0';
   \   0003A7   85....       MOV     ?V0 + 0,?V0 + 4
   \   0003AA   85....       MOV     ?V0 + 1,?V0 + 5
   \   0003AD   85....       MOV     ?V0 + 2,?V0 + 6
   \   0003B0   85....       MOV     ?V0 + 3,?V0 + 7
   \   0003B3   78..         MOV     R0,#?V0 + 0
   \   0003B5   12....       LCALL   ?FLT_TO_L
   \   0003B8   E5..         MOV     A,?V0 + 0
   \   0003BA   2430         ADD     A,#0x30
   \   0003BC   FE           MOV     R6,A
   1565            data[16]=number8;
   \   0003BD   C0E0         PUSH    A
   \   0003BF   7418         MOV     A,#0x18
   \   0003C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0003C4   D0E0         POP     A
   \   0003C6   F0           MOVX    @DPTR,A
   1566            //data[18]='\0';
   1567           // HalUARTWrite(0, data, 18);
   1568            if ( AF_DataRequest( &SampleApp_Quadrotor_Location_DstAddr, &SampleApp_epDesc,
   1569                                   LZQR_GROUP_CLUSTERID,
   1570                                   18,//osal_strlen("Q1")+1,
   1571                                   data,
   1572                                   &SampleApp_TransID,
   1573                                   AF_DISCV_ROUTE,//AF_SKIP_ROUTING,  
   1574                                   AF_DEFAULT_RADIUS// 1
   1575                                     ) == afStatus_SUCCESS )
   \   0003C7                ; Setup parameters for call to function AF_DataRequest
   \   0003C7   75..1E       MOV     ?V0 + 0,#0x1e
   \   0003CA   78..         MOV     R0,#?V0 + 0
   \   0003CC   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0003CF   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   0003D2   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   0003D5   78..         MOV     R0,#?V0 + 0
   \   0003D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003DA   740B         MOV     A,#0xb
   \   0003DC   12....       LCALL   ?XSTACK_DISP0_8
   \   0003DF   8582..       MOV     ?V0 + 0,DPL
   \   0003E2   8583..       MOV     ?V0 + 1,DPH
   \   0003E5   78..         MOV     R0,#?V0 + 0
   \   0003E7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003EA   75..12       MOV     ?V0 + 0,#0x12
   \   0003ED   75..00       MOV     ?V0 + 1,#0x0
   \   0003F0   78..         MOV     R0,#?V0 + 0
   \   0003F2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003F5   75..03       MOV     ?V0 + 0,#0x3
   \   0003F8   75..00       MOV     ?V0 + 1,#0x0
   \   0003FB   78..         MOV     R0,#?V0 + 0
   \   0003FD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000400   7920         MOV     R1,#0x20
   \   000402   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000404   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000406   7A..         MOV     R2,#SampleApp_Quadrotor_Location_DstAddr & 0xff
   \   000408   7B..         MOV     R3,#(SampleApp_Quadrotor_Location_DstAddr >> 8) & 0xff
   \   00040A   12....       LCALL   ??AF_DataRequest?relay
   \   00040D   7409         MOV     A,#0x9
   \   00040F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000412   E9           MOV     A,R1
   1576              {
   1577              }
   1578              else
   1579              {
   1580                // Error occurred in request to send.
   1581              }
   1582          
   1583          
   1584          }
   \   000413   741A         MOV     A,#0x1a
   \   000415   12....       LCALL   ?DEALLOC_XSTACK8
   \   000418   7F0E         MOV     R7,#0xe
   \   00041A   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nValue>`:
   \   000000   00000040     DD 40000000H
   \   000004   00000040     DD 40000000H
   \   000008   00000040     DD 40000000H
   \   00000C   00000040     DD 40000000H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AValue>`:
   \   000000   295C4D42     DD 424D5C29H
   \   000004   D7A35342     DD 4253A3D7H
   \   000008   B81E4942     DD 42491EB8H
   \   00000C   14AE4E42     DD 424EAE14H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorX>`:
   \   000000   00008040     DD 40800000H
   \   000004   00000000     DD 0H
   \   000008   00000000     DD 0H
   \   00000C   00008040     DD 40800000H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorY>`:
   \   000000   00008040     DD 40800000H
   \   000004   00008040     DD 40800000H
   \   000008   00000000     DD 0H
   \   00000C   00000000     DD 0H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorZ>`:
   \   000000   3333333F     DD 3F333333H
   \   000004   3333333F     DD 3F333333H
   \   000008   3333333F     DD 3F333333H
   \   00000C   3333333F     DD 3F333333H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for RefAValue>`:
   \   000000   00004042     DD 42400000H
   \   000004   00005842     DD 42580000H
   \   000008   00008842     DD 42880000H
   \   00000C   66664242     DD 42426666H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for DeviceID>`:
   \   000000   0200         DW 2

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_QuadrotorMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_QuadrotorMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_AnchorMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_AnchorMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_SendPeriodicMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_SendPeriodicMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_calibrationNMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_calibrationNMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_calibrationAMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_calibrationAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationAMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibration_differentAMessag:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibration_differentAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationOffsetAMessage?re:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationOffsetAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Quadrotor_SendLocation?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Quadrotor_SendLocation

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UartInit OK\\n">`:
   \   000000   55617274     DB "UartInit OK\012"
   \            496E6974
   \            204F4B0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 2">`:
   \   000000   47726F75     DB "Group 2"
   \            70203200

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SampleApp">`:
   \   000000   53616D70     DB "SampleApp"
   \            6C654170
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A1">`:
   \   000000   413100       DB "A1"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "N">`:
   \   000000   4E00         DB "N"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">_1`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">_2`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "T">`:
   \   000000   5400         DB "T"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "O">`:
   \   000000   4F00         DB "O"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Q">`:
   \   000000   5100         DB "Q"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41200000:
   \   000000   00002041     DD 41200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3dcccccd:
   \   000000   CDCCCC3D     DD 3DCCCCCDH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1:
   \   000000   01000000     DD 1H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3c23d70a:
   \   000000   0AD7233C     DD 3C23D70AH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0H
   1585          
   1586          /*********************************************************************
   1587          *********************************************************************/

   Maximum stack usage in bytes:

   ISTACK PSTACK XSTACK Function
   ------ ------ ------ --------
       0      0     32  SampleApp_AnchorMSGCB
                          0 0 18 -> moving_average
                          0 0 14 -> printRSSIandLQI
       0      0     27  SampleApp_HandleKeys
                          0 0 13 -> SampleApp_Tester_calibrationAMessage
       0      0     14  SampleApp_Init
                          0 0 11 -> HalLcdWriteString
                          0 0 11 -> HalUARTWrite
                          0 0 11 -> MT_UartInit
                          0 0 11 -> MT_UartRegisterTaskID
                          0 0 11 -> RegisterForKeys
                          0 0 11 -> afRegister
                          0 0 11 -> aps_AddGroup
                          0 0 14 -> osal_memcpy
       1      0     39  SampleApp_MessageMSGCB
                          0 0 25 -> HalUARTWrite
       0      0     18  SampleApp_ProcessEvent
                          0 0 14 -> SampleApp_AnchorMSGCB
                          0 0 14 -> SampleApp_HandleKeys
                          0 0 14 -> SampleApp_MessageMSGCB
                          0 0 14 -> SampleApp_QuadrotorMSGCB
                          0 0 14 -> SampleApp_Quadrotor_SendLocation
                          0 0 14 -> SampleApp_Router_SendPeriodicMessage
                          0 0 14 -> SampleApp_Tester_calibrationMSGCB
                          0 0 18 -> SampleApp_Tester_calibrationOffsetAMessage
                          0 0 14 -> SampleApp_Tester_calibration_differentAMessage
                          0 0 14 -> osal_msg_deallocate
                          0 0 14 -> osal_msg_receive
                          0 0 14 -> osal_rand
                          0 0 14 -> osal_start_timerEx
       4      0     52  SampleApp_QuadrotorMSGCB
                          0 0 30 -> HalUARTWrite
                          0 0 34 -> moving_average
                          0 0 38 -> moving_average_f
       2      0     78  SampleApp_Quadrotor_SendLocation
                          0 0 57 -> AF_DataRequest
                          0 0 64 -> SampleApp_MinMax_localization
       2      0     35  SampleApp_Router_SendPeriodicMessage
                          0 0 21 -> AF_DataRequest
                          0 0 17 -> osal_strlen
       2      0     46  SampleApp_Router_calibrationAMessage
                          0 0 42 -> AF_DataRequest
       2      0     43  SampleApp_Router_calibrationNMessage
                          0 0 39 -> AF_DataRequest
       2      0     55  SampleApp_Tester_calibrationAMessage
                          0 0 42 -> AF_DataRequest
       0      0     38  SampleApp_Tester_calibrationMSGCB
                          0 0 20 -> HalUARTWrite
                          0 0 24 -> moving_average
       2      0     61  SampleApp_Tester_calibrationOffsetAMessage
                          0 0 43 -> AF_DataRequest
       2      0     52  SampleApp_Tester_calibration_differentAMessage
                          0 0 38 -> AF_DataRequest


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       2  ?<Constant "A">
       2  ?<Constant "A">_1
       2  ?<Constant "A">_2
       3  ?<Constant "A1">
       8  ?<Constant "Group 1">
       8  ?<Constant "Group 2">
       2  ?<Constant "N">
       2  ?<Constant "O">
       2  ?<Constant "Q">
      10  ?<Constant "SampleApp">
       2  ?<Constant "T">
      13  ?<Constant "UartInit OK\n">
      16  ?<Initializer for AValue>
      16  ?<Initializer for AnchorX>
      16  ?<Initializer for AnchorY>
      16  ?<Initializer for AnchorZ>
       2  ?<Initializer for DeviceID>
      16  ?<Initializer for RefAValue>
       4  ?<Initializer for aindex1>
       4  ?<Initializer for aindex2>
       4  ?<Initializer for aindex3>
       4  ?<Initializer for aindex4>
       4  ?<Initializer for imof1>
       4  ?<Initializer for imof2>
       4  ?<Initializer for imof3>
       4  ?<Initializer for imof4>
      16  ?<Initializer for nValue>
       4  ?<Initializer for nindex1>
       4  ?<Initializer for nindex2>
       4  ?<Initializer for nindex3>
       4  ?<Initializer for nindex4>
       6  ??SampleApp_AnchorMSGCB?relay
       6  ??SampleApp_HandleKeys?relay
       6  ??SampleApp_Init?relay
       6  ??SampleApp_MessageMSGCB?relay
       6  ??SampleApp_ProcessEvent?relay
       6  ??SampleApp_QuadrotorMSGCB?relay
       6  ??SampleApp_Quadrotor_SendLocation?relay
       6  ??SampleApp_Router_SendPeriodicMessage?relay
       6  ??SampleApp_Router_calibrationAMessage?relay
       6  ??SampleApp_Router_calibrationNMessage?relay
       6  ??SampleApp_Tester_calibrationAMessage?relay
       6  ??SampleApp_Tester_calibrationMSGCB?relay
       6  ??SampleApp_Tester_calibrationOffsetAMessage?re
       6  ??SampleApp_Tester_calibration_differentAMessag
      16  AValue
      16  AnchorX
      16  AnchorY
      16  AnchorZ
       2  DeviceID
      16  OffsetAValue
      16  RefAValue
      16  RssiValue
       1  SampleAppFlashCounter
       1  SampleAppPeriodicCounter
     486  SampleApp_AnchorMSGCB
       6  SampleApp_ClusterList
      18  SampleApp_Group_1
      18  SampleApp_Group_2
     132  SampleApp_HandleKeys
     208  SampleApp_Init
     494  SampleApp_MessageMSGCB
       1  SampleApp_NwkState
     909  SampleApp_ProcessEvent
    1953  SampleApp_QuadrotorMSGCB
      12  SampleApp_Quadrotor_Location_DstAddr
    1053  SampleApp_Quadrotor_SendLocation
      12  SampleApp_Router_Periodic_DstAddr
     166  SampleApp_Router_SendPeriodicMessage
     445  SampleApp_Router_calibrationAMessage
     402  SampleApp_Router_calibrationNMessage
      12  SampleApp_SimpleDesc
       1  SampleApp_TaskID
      12  SampleApp_Tester_DstAddr
     445  SampleApp_Tester_calibrationAMessage
     533  SampleApp_Tester_calibrationMSGCB
     466  SampleApp_Tester_calibrationOffsetAMessage
     408  SampleApp_Tester_calibration_differentAMessage
       1  SampleApp_TransID
       6  SampleApp_epDesc
       6  SampleApp_test_epDesc
       4  __Constant_0
       4  __Constant_1
       4  __Constant_3c23d70a
       4  __Constant_3dcccccd
       4  __Constant_41200000
       2  aindex
       4  aindex1
       4  aindex2
       4  aindex3
       4  aindex4
       1  i1
       1  i2
       1  i3
       1  i4
       4  imof1
       4  imof2
       4  imof3
       4  imof4
       2  index
       2  index
      16  locationX
      16  locationY
      16  locationZ
      16  nValue
       4  nindex1
       4  nindex2
       4  nindex3
       4  nindex4
      32  perRssiBuf1
      32  perRssiBuf2
      32  perRssiBuf3
      32  perRssiBuf4
      32  peraBuf1
      32  peraBuf2
      32  peraBuf3
      32  peraBuf4
      32  pernBuf1
      32  pernBuf2
      32  pernBuf3
      32  pernBuf4
       1  rssivalue
       4  sumRssi1
       4  sumRssi2
       4  sumRssi3
       4  sumRssi4

 
 8 100 bytes in segment BANKED_CODE
    84 bytes in segment BANK_RELAYS
   146 bytes in segment XDATA_I
   146 bytes in segment XDATA_ID
    94 bytes in segment XDATA_ROM_C
   580 bytes in segment XDATA_Z
 
 8 330 bytes of CODE  memory
    74 bytes of CONST memory (+ 20 bytes shared)
   726 bytes of XDATA memory

Errors: none
Warnings: none
