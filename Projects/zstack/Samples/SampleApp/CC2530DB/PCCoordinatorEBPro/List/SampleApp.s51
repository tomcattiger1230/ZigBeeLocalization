///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V8.20.2.41139 for 8051            30/Jun/2016  11:25:58 /
// Copyright 2004-2013 IAR Systems AB.                                        /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data_rom                                          /
//    Dptr setup         =  1,16                                              /
//                                                                            /
//    Source file        =  F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\Source\SampleApp.c                 /
//    Command line       =  -f F:\myCloud\ZigBeeLocalization\Projects\zstack\ /
//                          Samples\SampleApp\CC2530DB\..\..\..\Tools\CC2530D /
//                          B\f8wCoord.cfg (-DCPU32MHZ -DROOT=__near_func     /
//                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                  /
//                          -DZDO_COORDINATOR -DRTR_NWK -DBLINK_LEDS) -f      /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f /
//                          8wConfig.cfg (-DSECURE=0 -DZG_SECURE_DYNAMIC=0    /
//                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800         /
//                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3   /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40          /
//                          -DNWK_MAX_BINDING_ENTRIES=4                       /
//                          -DMAX_BINDING_CLUSTER_IDS=4                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DMAC_MAX_FRAME_SIZE=116       /
//                          "-DCONST=const __code" -DGENERIC=__generic        /
//                          -DRFD_RCVC_ALWAYS_ON=TRUE -DPOLL_RATE=1000        /
//                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)  /
//                          -DREJOIN_POLL_RATE=440 F:\myCloud\ZigBeeLocalizat /
//                          ion\Projects\zstack\Samples\SampleApp\Source\Samp /
//                          leApp.c -D ZIGBEEPRO -D ZTOOL_P1 -D xMT_TASK -D   /
//                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                   /
//                          LCD_SUPPORTED=DEBUG -lC                           /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\PCCoordinatorEBPro\List\  /
//                          -lA F:\myCloud\ZigBeeLocalization\Projects\zstack /
//                          \Samples\SampleApp\CC2530DB\PCCoordinatorEBPro\Li /
//                          st\ --diag_suppress Pe001,Pa010 -o                /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\PCCoordinatorEBPro\Obj\   /
//                          -e --no_cse --no_unroll --no_inline               /
//                          --no_code_motion --no_tbaa --debug --core=plain   /
//                          --dptr=16,1 --data_model=large                    /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data_rom                /
//                          --nr_virtual_regs 16 -I                           /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\ -I                       /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\SOURCE\ -I             /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\ZMAIN\TI2530DB\  /
//                          -I F:\myCloud\ZigBeeLocalization\Projects\zstack\ /
//                          Samples\SampleApp\CC2530DB\..\..\..\..\..\COMPONE /
//                          NTS\MT\ -I F:\myCloud\ZigBeeLocalization\Projects /
//                          \zstack\Samples\SampleApp\CC2530DB\..\..\..\..\.. /
//                          \COMPONENTS\HAL\INCLUDE\ -I                       /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \HAL\TARGET\CC2530EB\ -I                          /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \OSAL\MCU\CCSOC\ -I F:\myCloud\ZigBeeLocalization /
//                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\.. /
//                          \..\..\..\COMPONENTS\OSAL\INCLUDE\ -I             /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \STACK\AF\ -I F:\myCloud\ZigBeeLocalization\Proje /
//                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\.. /
//                          \..\COMPONENTS\STACK\NWK\ -I                      /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \STACK\SEC\ -I F:\myCloud\ZigBeeLocalization\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\COMPONENTS\STACK\SAPI\ -I                    /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \STACK\SYS\ -I F:\myCloud\ZigBeeLocalization\Proj /
//                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\. /
//                          .\..\COMPONENTS\STACK\ZDO\ -I                     /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \ZMAC\F8W\ -I F:\myCloud\ZigBeeLocalization\Proje /
//                          cts\zstack\Samples\SampleApp\CC2530DB\..\..\..\.. /
//                          \..\COMPONENTS\ZMAC\ -I                           /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \SERVICES\SADDR\ -I F:\myCloud\ZigBeeLocalization /
//                          \Projects\zstack\Samples\SampleApp\CC2530DB\..\.. /
//                          \..\..\..\COMPONENTS\SERVICES\SDATA\ -I           /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \MAC\INCLUDE\ -I F:\myCloud\ZigBeeLocalization\Pr /
//                          ojects\zstack\Samples\SampleApp\CC2530DB\..\..\.. /
//                          \..\..\COMPONENTS\MAC\HIGH_LEVEL\ -I              /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \MAC\LOW_LEVEL\srf04\ -I                          /
//                          F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS /
//                          \MAC\LOW_LEVEL\srf04\SINGLE_CHIP\ -On             /
//                          --require_prototypes                              /
//    List file          =  F:\myCloud\ZigBeeLocalization\Projects\zstack\Sam /
//                          ples\SampleApp\CC2530DB\PCCoordinatorEBPro\List\S /
//                          ampleApp.s51                                      /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME SampleApp

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?FLT_ADD
        EXTERN ?FLT_DIV
        EXTERN ?FLT_GE
        EXTERN ?FLT_MUL
        EXTERN ?FLT_SUB
        EXTERN ?FLT_TO_L
        EXTERN ?L_MOV_TO_X
        EXTERN ?L_MOV_X
        EXTERN ?L_TO_FLT
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X_FOUR
        EXTERN ?PUSH_XSTACK_I_FOUR
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?S_DIV_MOD
        EXTERN ?UC_SWITCH_SPARSE
        EXTERN ?UL_TO_FLT
        EXTERN ?US_SWITCH_DENSE
        EXTERN ?V0
        EXTERN ?XLOAD_R2345
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTORE_R2345
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        PUBLIC ??SampleApp_AnchorMSGCB?relay
        FUNCTION ??SampleApp_AnchorMSGCB?relay,0203H
        PUBLIC ??SampleApp_HandleKeys?relay
        FUNCTION ??SampleApp_HandleKeys?relay,0203H
        PUBLIC ??SampleApp_Init?relay
        FUNCTION ??SampleApp_Init?relay,0203H
        PUBLIC ??SampleApp_MessageMSGCB?relay
        FUNCTION ??SampleApp_MessageMSGCB?relay,0203H
        PUBLIC ??SampleApp_ProcessEvent?relay
        FUNCTION ??SampleApp_ProcessEvent?relay,0203H
        PUBLIC ??SampleApp_QuadrotorMSGCB?relay
        FUNCTION ??SampleApp_QuadrotorMSGCB?relay,0203H
        PUBLIC ??SampleApp_Quadrotor_SendLocation?relay
        FUNCTION ??SampleApp_Quadrotor_SendLocation?relay,0203H
        PUBLIC ??SampleApp_Router_SendPeriodicMessage?relay
        FUNCTION ??SampleApp_Router_SendPeriodicMessage?relay,0203H
        PUBLIC ??SampleApp_Router_calibrationAMessage?relay
        FUNCTION ??SampleApp_Router_calibrationAMessage?relay,0203H
        PUBLIC ??SampleApp_Router_calibrationNMessage?relay
        FUNCTION ??SampleApp_Router_calibrationNMessage?relay,0203H
        PUBLIC ??SampleApp_Tester_calibrationAMessage?relay
        FUNCTION ??SampleApp_Tester_calibrationAMessage?relay,0203H
        PUBLIC ??SampleApp_Tester_calibrationMSGCB?relay
        FUNCTION ??SampleApp_Tester_calibrationMSGCB?relay,0203H
        PUBLIC ??SampleApp_Tester_calibrationOffsetAMessage?re
        FUNCTION ??SampleApp_Tester_calibrationOffsetAMessage?re,0203H
        PUBLIC ??SampleApp_Tester_calibration_differentAMessag
        FUNCTION ??SampleApp_Tester_calibration_differentAMessag,0203H
        PUBLIC AValue
        PUBLIC AnchorX
        PUBLIC AnchorY
        PUBLIC AnchorZ
        PUBLIC DeviceID
        PUBLIC OffsetAValue
        PUBLIC RefAValue
        PUBLIC RssiValue
        PUBLIC SampleAppFlashCounter
        PUBLIC SampleAppPeriodicCounter
        PUBLIC SampleApp_AnchorMSGCB
        FUNCTION SampleApp_AnchorMSGCB,0a1203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 18, STACK
        PUBLIC SampleApp_ClusterList
        PUBLIC SampleApp_Group_1
        PUBLIC SampleApp_Group_2
        PUBLIC SampleApp_HandleKeys
        FUNCTION SampleApp_HandleKeys,021203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 13, STACK
        PUBLIC SampleApp_Init
        FUNCTION SampleApp_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC SampleApp_MessageMSGCB
        FUNCTION SampleApp_MessageMSGCB,0a1203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 25, STACK
        PUBLIC SampleApp_NwkState
        PUBLIC SampleApp_ProcessEvent
        FUNCTION SampleApp_ProcessEvent,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC SampleApp_QuadrotorMSGCB
        FUNCTION SampleApp_QuadrotorMSGCB,0a1203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 4, STACK
        LOCFRAME XSTACK, 38, STACK
        PUBLIC SampleApp_Quadrotor_Location_DstAddr
        PUBLIC SampleApp_Quadrotor_SendLocation
        FUNCTION SampleApp_Quadrotor_SendLocation,021203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 64, STACK
        PUBLIC SampleApp_Router_Periodic_DstAddr
        PUBLIC SampleApp_Router_SendPeriodicMessage
        FUNCTION SampleApp_Router_SendPeriodicMessage,021203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 21, STACK
        PUBLIC SampleApp_Router_calibrationAMessage
        FUNCTION SampleApp_Router_calibrationAMessage,021203H
        ARGFRAME XSTACK, 4, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 42, STACK
        PUBLIC SampleApp_Router_calibrationNMessage
        FUNCTION SampleApp_Router_calibrationNMessage,021203H
        ARGFRAME XSTACK, 4, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 39, STACK
        PUBLIC SampleApp_SimpleDesc
        PUBLIC SampleApp_TaskID
        PUBLIC SampleApp_Tester_DstAddr
        PUBLIC SampleApp_Tester_calibrationAMessage
        FUNCTION SampleApp_Tester_calibrationAMessage,021203H
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 42, STACK
        PUBLIC SampleApp_Tester_calibrationMSGCB
        FUNCTION SampleApp_Tester_calibrationMSGCB,0a1203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 24, STACK
        PUBLIC SampleApp_Tester_calibrationOffsetAMessage
        FUNCTION SampleApp_Tester_calibrationOffsetAMessage,021203H
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 43, STACK
        PUBLIC SampleApp_Tester_calibration_differentAMessage
        FUNCTION SampleApp_Tester_calibration_differentAMessage,021203H
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 38, STACK
        PUBLIC SampleApp_TransID
        PUBLIC SampleApp_epDesc
        PUBLIC SampleApp_test_epDesc
        PUBWEAK __Constant_0
        PUBWEAK __Constant_1
        PUBWEAK __Constant_3c23d70a
        PUBWEAK __Constant_3dcccccd
        PUBWEAK __Constant_41200000
        PUBLIC aindex1
        PUBLIC aindex2
        PUBLIC aindex3
        PUBLIC aindex4
        PUBLIC i1
        PUBLIC i2
        PUBLIC i3
        PUBLIC i4
        PUBLIC imof1
        PUBLIC imof2
        PUBLIC imof3
        PUBLIC imof4
        PUBLIC locationX
        PUBLIC locationY
        PUBLIC locationZ
        PUBLIC nValue
        PUBLIC nindex1
        PUBLIC nindex2
        PUBLIC nindex3
        PUBLIC nindex4
        PUBLIC perRssiBuf1
        PUBLIC perRssiBuf2
        PUBLIC perRssiBuf3
        PUBLIC perRssiBuf4
        PUBLIC peraBuf1
        PUBLIC peraBuf2
        PUBLIC peraBuf3
        PUBLIC peraBuf4
        PUBLIC pernBuf1
        PUBLIC pernBuf2
        PUBLIC pernBuf3
        PUBLIC pernBuf4
        PUBLIC rssivalue
        PUBLIC sumRssi1
        PUBLIC sumRssi2
        PUBLIC sumRssi3
        PUBLIC sumRssi4
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
          CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
AF_DataRequest      SYMBOL "AF_DataRequest"
??AF_DataRequest?relay SYMBOL "?relay", AF_DataRequest
HalLcdWriteString   SYMBOL "HalLcdWriteString"
??HalLcdWriteString?relay SYMBOL "?relay", HalLcdWriteString
HalUARTWrite        SYMBOL "HalUARTWrite"
??HalUARTWrite?relay SYMBOL "?relay", HalUARTWrite
MT_UartInit         SYMBOL "MT_UartInit"
??MT_UartInit?relay SYMBOL "?relay", MT_UartInit
MT_UartRegisterTaskID SYMBOL "MT_UartRegisterTaskID"
??MT_UartRegisterTaskID?relay SYMBOL "?relay", MT_UartRegisterTaskID
RegisterForKeys     SYMBOL "RegisterForKeys"
??RegisterForKeys?relay SYMBOL "?relay", RegisterForKeys
SampleApp_MinMax_localization SYMBOL "SampleApp_MinMax_localization"
??SampleApp_MinMax_localization?relay SYMBOL "?relay", SampleApp_MinMax_localization
afRegister          SYMBOL "afRegister"
??afRegister?relay  SYMBOL "?relay", afRegister
aps_AddGroup        SYMBOL "aps_AddGroup"
??aps_AddGroup?relay SYMBOL "?relay", aps_AddGroup
moving_average      SYMBOL "moving_average"
??moving_average?relay SYMBOL "?relay", moving_average
moving_average_f    SYMBOL "moving_average_f"
??moving_average_f?relay SYMBOL "?relay", moving_average_f
osal_memcpy         SYMBOL "osal_memcpy"
??osal_memcpy?relay SYMBOL "?relay", osal_memcpy
osal_msg_deallocate SYMBOL "osal_msg_deallocate"
??osal_msg_deallocate?relay SYMBOL "?relay", osal_msg_deallocate
osal_msg_receive    SYMBOL "osal_msg_receive"
??osal_msg_receive?relay SYMBOL "?relay", osal_msg_receive
osal_rand           SYMBOL "osal_rand"
??osal_rand?relay   SYMBOL "?relay", osal_rand
osal_start_timerEx  SYMBOL "osal_start_timerEx"
??osal_start_timerEx?relay SYMBOL "?relay", osal_start_timerEx
osal_strlen         SYMBOL "osal_strlen"
??osal_strlen?relay SYMBOL "?relay", osal_strlen
printRSSIandLQI     SYMBOL "printRSSIandLQI"
??printRSSIandLQI?relay SYMBOL "?relay", printRSSIandLQI
SampleApp_AnchorMSGCB SYMBOL "SampleApp_AnchorMSGCB"
??SampleApp_AnchorMSGCB?relay SYMBOL "?relay", SampleApp_AnchorMSGCB
SampleApp_HandleKeys SYMBOL "SampleApp_HandleKeys"
??SampleApp_HandleKeys?relay SYMBOL "?relay", SampleApp_HandleKeys
SampleApp_Init      SYMBOL "SampleApp_Init"
??SampleApp_Init?relay SYMBOL "?relay", SampleApp_Init
SampleApp_MessageMSGCB SYMBOL "SampleApp_MessageMSGCB"
??SampleApp_MessageMSGCB?relay SYMBOL "?relay", SampleApp_MessageMSGCB
SampleApp_ProcessEvent SYMBOL "SampleApp_ProcessEvent"
??SampleApp_ProcessEvent?relay SYMBOL "?relay", SampleApp_ProcessEvent
SampleApp_QuadrotorMSGCB SYMBOL "SampleApp_QuadrotorMSGCB"
??SampleApp_QuadrotorMSGCB?relay SYMBOL "?relay", SampleApp_QuadrotorMSGCB
SampleApp_Quadrotor_SendLocation SYMBOL "SampleApp_Quadrotor_SendLocation"
??SampleApp_Quadrotor_SendLocation?relay SYMBOL "?relay", SampleApp_Quadrotor_SendLocation
SampleApp_Router_SendPeriodicMessage SYMBOL "SampleApp_Router_SendPeriodicMessage"
??SampleApp_Router_SendPeriodicMessage?relay SYMBOL "?relay", SampleApp_Router_SendPeriodicMessage
SampleApp_Router_calibrationAMessage SYMBOL "SampleApp_Router_calibrationAMessage"
??SampleApp_Router_calibrationAMessage?relay SYMBOL "?relay", SampleApp_Router_calibrationAMessage
SampleApp_Router_calibrationNMessage SYMBOL "SampleApp_Router_calibrationNMessage"
??SampleApp_Router_calibrationNMessage?relay SYMBOL "?relay", SampleApp_Router_calibrationNMessage
SampleApp_Tester_calibrationAMessage SYMBOL "SampleApp_Tester_calibrationAMessage"
??SampleApp_Tester_calibrationAMessage?relay SYMBOL "?relay", SampleApp_Tester_calibrationAMessage
SampleApp_Tester_calibrationMSGCB SYMBOL "SampleApp_Tester_calibrationMSGCB"
??SampleApp_Tester_calibrationMSGCB?relay SYMBOL "?relay", SampleApp_Tester_calibrationMSGCB
SampleApp_Tester_calibrationOffsetAMessage SYMBOL "SampleApp_Tester_calibrationOffsetAMessage"
??SampleApp_Tester_calibrationOffsetAMessage?re SYMBOL "?relay", SampleApp_Tester_calibrationOffsetAMessage
SampleApp_Tester_calibration_differentAMessage SYMBOL "SampleApp_Tester_calibration_differentAMessage"
??SampleApp_Tester_calibration_differentAMessag SYMBOL "?relay", SampleApp_Tester_calibration_differentAMessage

        EXTERN ??AF_DataRequest?relay
        FUNCTION ??AF_DataRequest?relay,00H
        EXTERN ??HalLcdWriteString?relay
        FUNCTION ??HalLcdWriteString?relay,00H
        EXTERN ??HalUARTWrite?relay
        FUNCTION ??HalUARTWrite?relay,00H
        EXTERN ??MT_UartInit?relay
        FUNCTION ??MT_UartInit?relay,00H
        EXTERN ??MT_UartRegisterTaskID?relay
        FUNCTION ??MT_UartRegisterTaskID?relay,00H
        EXTERN ??RegisterForKeys?relay
        FUNCTION ??RegisterForKeys?relay,00H
        EXTERN ??SampleApp_MinMax_localization?relay
        FUNCTION ??SampleApp_MinMax_localization?relay,00H
        EXTERN ??afRegister?relay
        FUNCTION ??afRegister?relay,00H
        EXTERN ??aps_AddGroup?relay
        FUNCTION ??aps_AddGroup?relay,00H
        EXTERN ??moving_average?relay
        FUNCTION ??moving_average?relay,00H
        EXTERN ??moving_average_f?relay
        FUNCTION ??moving_average_f?relay,00H
        EXTERN ??osal_memcpy?relay
        FUNCTION ??osal_memcpy?relay,00H
        EXTERN ??osal_msg_deallocate?relay
        FUNCTION ??osal_msg_deallocate?relay,00H
        EXTERN ??osal_msg_receive?relay
        FUNCTION ??osal_msg_receive?relay,00H
        EXTERN ??osal_rand?relay
        FUNCTION ??osal_rand?relay,00H
        EXTERN ??osal_start_timerEx?relay
        FUNCTION ??osal_start_timerEx?relay,00H
        EXTERN ??osal_strlen?relay
        FUNCTION ??osal_strlen?relay,00H
        EXTERN ??printRSSIandLQI?relay
        FUNCTION ??printRSSIandLQI?relay,00H
        EXTERN AF_DataRequest
        FUNCTION AF_DataRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 57, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalLcdWriteString
        FUNCTION HalLcdWriteString,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN HalUARTWrite
        FUNCTION HalUARTWrite,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MT_UartInit
        FUNCTION MT_UartInit,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN MT_UartRegisterTaskID
        FUNCTION MT_UartRegisterTaskID,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN RegisterForKeys
        FUNCTION RegisterForKeys,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN SampleApp_MinMax_localization
        FUNCTION SampleApp_MinMax_localization,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afRegister
        FUNCTION afRegister,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN aps_AddGroup
        FUNCTION aps_AddGroup,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN moving_average
        FUNCTION moving_average,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN moving_average_f
        FUNCTION moving_average_f,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_rand
        FUNCTION osal_rand,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_strlen
        FUNCTION osal_strlen,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN printRSSIandLQI
        FUNCTION printRSSIandLQI,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC

// F:\myCloud\ZigBeeLocalization\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
//    1 /**************************************************************************************************
//    2   Filename:       SampleApp.c
//    3   Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
//    4   Revision:       $Revision: 19453 $
//    5 
//    6   Description:    Sample Application (no Profile).
//    7 
//    8 
//    9   Copyright 2007 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License").  You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product.  Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 
//   41 
//   42 /*********************************************************************
//   43  * INCLUDES
//   44  */
//   45 #include "OSAL.h"
//   46 #include "ZGlobals.h"
//   47 #include "AF.h"
//   48 #include "aps_groups.h"
//   49 #include "ZDApp.h"
//   50 
//   51 #include "SampleApp.h"
//   52 #include "SampleAppHw.h"
//   53 
//   54 #include "OnBoard.h"
//   55 
//   56 /* HAL */
//   57 #include "hal_lcd.h"
//   58 #include "hal_led.h"
//   59 #include "hal_key.h"
//   60 #include "MT_UART.h"
//   61 #include "MT_APP.h"
//   62 #include "MT.h"
//   63 
//   64 /*********************************************************************
//   65  * MACROS
//   66  */
//   67 
//   68 /*********************************************************************
//   69  * CONSTANTS
//   70  */
//   71 
//   72 /*********************************************************************
//   73  * TYPEDEFS
//   74  */
//   75 
//   76 /*********************************************************************
//   77  * GLOBAL VARIABLES
//   78  */
//   79 
//   80 // This list should be filled with Application specific Cluster IDs.

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//   81 const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
SampleApp_ClusterList:
        DATA16
        DW 1
        DW 2
        DW 3
//   82 {
//   83   SAMPLEAPP_PERIODIC_CLUSTERID,
//   84   CALBRATION_N_CLUSTERID,
//   85   LZQR_GROUP_CLUSTERID   //id for localization of quadrotor group 
//   86 };
//   87 

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//   88 const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
SampleApp_SimpleDesc:
        DB 20
        DATA16
        DW 3848
        DW 1
        DATA8
        DB 0
        DB 3
        DATA16
        DW SampleApp_ClusterList
        DATA8
        DB 3
        DATA16
        DW SampleApp_ClusterList
//   89 {
//   90   SAMPLEAPP_ENDPOINT,              //  int Endpoint;
//   91   SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
//   92   SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
//   93   SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
//   94   SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
//   95   SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
//   96   (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
//   97   SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
//   98   (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
//   99 };
//  100 
//  101 // This is the Endpoint/Interface description.  It is defined here, but
//  102 // filled-in in SampleApp_Init().  Another way to go would be to fill
//  103 // in the structure here and make it a "const" (in code space).  The
//  104 // way it's defined in this sample app it is define in RAM.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  105 endPointDesc_t SampleApp_epDesc;
SampleApp_epDesc:
        DS 6
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  106 endPointDesc_t SampleApp_test_epDesc;   //not jet in use
SampleApp_test_epDesc:
        DS 6
        REQUIRE __INIT_XDATA_Z
//  107 /*********************************************************************
//  108  * EXTERNAL VARIABLES
//  109  */
//  110 
//  111 /*********************************************************************
//  112  * EXTERNAL FUNCTIONS
//  113  */
//  114 
//  115 
//  116 /*********************************************************************
//  117  * LOCAL VARIABLES
//  118  */

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  119 uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
SampleApp_TaskID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  120                           // This variable will be received when
//  121                           // SampleApp_Init() is called.

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  122 devStates_t SampleApp_NwkState;
SampleApp_NwkState:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  123 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  124 uint8 SampleApp_TransID;  // This is the unique message ID (counter)
SampleApp_TransID:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  125 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  126 afAddrType_t SampleApp_Router_Periodic_DstAddr;       // address for router
SampleApp_Router_Periodic_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  127 afAddrType_t SampleApp_Tester_DstAddr;                // address for tester
SampleApp_Tester_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  128 afAddrType_t SampleApp_Quadrotor_Location_DstAddr;    // address for quadrotor/end device
SampleApp_Quadrotor_Location_DstAddr:
        DS 12
        REQUIRE __INIT_XDATA_Z
//  129 
//  130 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  131 aps_Group_t SampleApp_Group_1;                        // group 1 for calibration of parameter n (quadrotor, router, coord)
SampleApp_Group_1:
        DS 18
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  132 aps_Group_t SampleApp_Group_2;                        // group 2 for communication between quadrotors (quadrotor, coord)
SampleApp_Group_2:
        DS 18
        REQUIRE __INIT_XDATA_Z
//  133 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  134 uint8 SampleAppPeriodicCounter = 0;
SampleAppPeriodicCounter:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  135 uint8 SampleAppFlashCounter = 0;
SampleAppFlashCounter:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  136 
//  137 //user setting for quadrotor
//  138 
//  139 //buf for storing rssi values from 4 anchors

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  140 int8 perRssiBuf1[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 1
perRssiBuf1:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  141 int8 perRssiBuf2[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 2
perRssiBuf2:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  142 int8 perRssiBuf3[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 3
perRssiBuf3:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  143 int8 perRssiBuf4[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 4
perRssiBuf4:
        DS 32
        REQUIRE __INIT_XDATA_Z
//  144 
//  145 //buf for n-value

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  146 float pernBuf1[8]={0};  // array for storing the n-value of router 1
pernBuf1:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  147 float pernBuf2[8]={0};  // array for storing the n-value of router 2
pernBuf2:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  148 float pernBuf3[8]={0};  // array for storing the n-value of router 3
pernBuf3:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  149 float pernBuf4[8]={0};  // array for storing the n-value of router 4
pernBuf4:
        DS 32
        REQUIRE __INIT_XDATA_Z
//  150 
//  151 //buf for A calibration

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  152 float peraBuf1[8]={0};  // array for storing the n-value of router 1
peraBuf1:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  153 float peraBuf2[8]={0};  // array for storing the n-value of router 2
peraBuf2:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  154 float peraBuf3[8]={0};  // array for storing the n-value of router 3
peraBuf3:
        DS 32
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  155 float peraBuf4[8]={0};  // array for storing the n-value of router 4
peraBuf4:
        DS 32
        REQUIRE __INIT_XDATA_Z
//  156 
//  157 //temp rssivalue

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  158 int8 rssivalue;         // temporary rssi value
rssivalue:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  159 
//  160 // index for loop innenhalb the window

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  161 int8 i1=0;             
i1:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  162 int8 i2=0;
i2:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  163 int8 i3=0;
i3:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  164 int8 i4=0;
i4:
        DS 1
        REQUIRE __INIT_XDATA_Z
//  165 
//  166 // index for moving filter

        RSEG XDATA_I:XDATA:NOROOT(0)
//  167 int imof1[2]={0,1};
imof1:
        DATA32
        DS 4
        REQUIRE `?<Initializer for imof1>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  168 int imof2[2]={0,1};
imof2:
        DATA32
        DS 4
        REQUIRE `?<Initializer for imof2>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  169 int imof3[2]={0,1};
imof3:
        DATA32
        DS 4
        REQUIRE `?<Initializer for imof3>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  170 int imof4[2]={0,1};
imof4:
        DATA32
        DS 4
        REQUIRE `?<Initializer for imof4>`
        REQUIRE __INIT_XDATA_I
//  171 
//  172 // index for moving filter of n value

        RSEG XDATA_I:XDATA:NOROOT(0)
//  173 int nindex1[2]={0,1};
nindex1:
        DATA32
        DS 4
        REQUIRE `?<Initializer for nindex1>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  174 int nindex2[2]={0,1};
nindex2:
        DATA32
        DS 4
        REQUIRE `?<Initializer for nindex2>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  175 int nindex3[2]={0,1};
nindex3:
        DATA32
        DS 4
        REQUIRE `?<Initializer for nindex3>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  176 int nindex4[2]={0,1};
nindex4:
        DATA32
        DS 4
        REQUIRE `?<Initializer for nindex4>`
        REQUIRE __INIT_XDATA_I
//  177 
//  178 // index for moving filter of a value

        RSEG XDATA_I:XDATA:NOROOT(0)
//  179 int aindex1[2]={0,1};
aindex1:
        DATA32
        DS 4
        REQUIRE `?<Initializer for aindex1>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  180 int aindex2[2]={0,1};
aindex2:
        DATA32
        DS 4
        REQUIRE `?<Initializer for aindex2>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  181 int aindex3[2]={0,1};
aindex3:
        DATA32
        DS 4
        REQUIRE `?<Initializer for aindex3>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  182 int aindex4[2]={0,1};
aindex4:
        DATA32
        DS 4
        REQUIRE `?<Initializer for aindex4>`
        REQUIRE __INIT_XDATA_I
//  183 
//  184 // sum/average Rssi value

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  185 float sumRssi1=0;
sumRssi1:
        DS 4
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  186 float sumRssi2=0;
sumRssi2:
        DS 4
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  187 float sumRssi3=0;
sumRssi3:
        DS 4
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA32
//  188 float sumRssi4=0;
sumRssi4:
        DS 4
        REQUIRE __INIT_XDATA_Z
//  189 
//  190 //localization parameter
//  191 //float distance[4]={0,0,0,0};

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  192 float RssiValue[4]={0,0,0,0};                   // array for storing rssi values
RssiValue:
        DS 16
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_I:XDATA:NOROOT(0)
//  193 float nValue[4]={2.0f,2.0f,2.0f,2.0f};       // initialized n parameter   --3.59f,3.94f,2.63f,5.6f 
nValue:
        DATA8
        DS 16
        REQUIRE `?<Initializer for nValue>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  194 float AValue[4]={51.34f,52.91f,50.28f,51.67f};     // initialized A parameter      ??47.52f,46.53,43.56,43.56  48.28f,52.11f,53.83f,52.27f
AValue:
        DATA8
        DS 16
        REQUIRE `?<Initializer for AValue>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  195 float AnchorX[4]={0.0f, 4.2f, 4.2f, 0.0f};      // router position in x direction in m
AnchorX:
        DATA8
        DS 16
        REQUIRE `?<Initializer for AnchorX>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  196 float AnchorY[4]={0.0f, 0.0f, 4.2f, 4.2f};      // router position in y direction in m
AnchorY:
        DATA8
        DS 16
        REQUIRE `?<Initializer for AnchorY>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_I:XDATA:NOROOT(0)
//  197 float AnchorZ[4]={0.74f, 0.74f, 0.74f, 0.74f};      // reference nodes/routers position in z direction in m
AnchorZ:
        DATA8
        DS 16
        REQUIRE `?<Initializer for AnchorZ>`
        REQUIRE __INIT_XDATA_I
//  198 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  199 float RefAValue[4]={48.0f,54.0f,68.0f,48.6f};  // reference A values for self calibration
RefAValue:
        DATA8
        DS 16
        REQUIRE `?<Initializer for RefAValue>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  200 float OffsetAValue[4]={0.0f, 0.0f, 0.0f, 0.0f};   // offset compared with reference A values
OffsetAValue:
        DS 16
        REQUIRE __INIT_XDATA_Z
//  201 
//  202 //altitude information

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  203 float locationX[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in x direction
locationX:
        DS 16
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  204 float locationY[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in y direction
locationY:
        DS 16
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  205 float locationZ[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in z direction
locationZ:
        DS 16
        REQUIRE __INIT_XDATA_Z
//  206 
//  207 //LParameter tempParameter;                       // structure parameter, which is not in used
//  208 
//  209 // device id

        RSEG XDATA_I:XDATA:NOROOT(0)
//  210 int DeviceID=1;                                 // device id to identify the device
DeviceID:
        DATA16
        DS 2
        REQUIRE `?<Initializer for DeviceID>`
        REQUIRE __INIT_XDATA_I
//  211                                                 // for coordinator meanless; for router is the anchor's id, except id 6,
//  212                                                 // which is preparing for tester; for quadrotor, it is the id.
//  213 /*********************************************************************
//  214  * LOCAL FUNCTIONS
//  215  */
//  216 // button setting for tester
//  217 void SampleApp_HandleKeys( uint8 shift, uint8 keys );
//  218 //deal with message(Co)
//  219 void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
//  220 //deal with message(Ed)
//  221 void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pckt );
//  222 //deal with message(Ro)
//  223 void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pckt );
//  224 //tester reading messages from broadcast
//  225 void SampleApp_Tester_calibrationMSGCB(afIncomingMSGPacket_t *pckt );
//  226 //router send period message
//  227 void SampleApp_Router_SendPeriodicMessage( int index );
//  228 //quadrotor send their location in the group
//  229 void SampleApp_Quadrotor_SendLocation( int index );
//  230 //router calibration n
//  231 void SampleApp_Router_calibrationNMessage(int index, float nvalue);
//  232 //router calibration A
//  233 void SampleApp_Router_calibrationAMessage( int index , float avalue );
//  234 //tester calibration A
//  235 void SampleApp_Tester_calibrationAMessage( int index , float A );
//  236 void SampleApp_Tester_calibration_differentAMessage(int index );
//  237 void SampleApp_Tester_calibrationOffsetAMessage(int index, float A);
//  238 
//  239 //void SampleApp_SendFlashMessage( uint16 flashTime );
//  240 //void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg);
//  241 
//  242 //float gaussianfilter(int8* rssi, int length);
//  243 //float averagefilter(int8* rssi, int length);
//  244 //float calibrationN(int localID, int index, float rssivalue_f, float AnchorX[4], float AnchorY[4], float AnchorZ[4], float A[4]);
//  245 /*********************************************************************
//  246  * NETWORK LAYER CALLBACKS
//  247  */
//  248 
//  249 /*********************************************************************
//  250  * PUBLIC FUNCTIONS
//  251  */
//  252 
//  253 /*********************************************************************
//  254  * @fn      SampleApp_Init
//  255  *
//  256  * @brief   Initialization function for the Generic App Task.
//  257  *          This is called during initialization and should contain
//  258  *          any application specific initialization (ie. hardware
//  259  *          initialization/setup, table initialization, power up
//  260  *          notificaiton ... ).
//  261  *
//  262  * @param   task_id - the ID assigned by OSAL.  This ID should be
//  263  *                    used to send messages and set timers.
//  264  *
//  265  * @return  none
//  266  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  267 void SampleApp_Init( uint8 task_id )
SampleApp_Init:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function SampleApp_Init
        CODE
//  268 { 
        FUNCALL SampleApp_Init, MT_UartInit
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, MT_UartRegisterTaskID
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, afRegister
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, RegisterForKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, aps_AddGroup
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, aps_AddGroup
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Init, HalLcdWriteString
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 11, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 11, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  269   SampleApp_TaskID = task_id;
        MOV     A,R6
        MOV     DPTR,#SampleApp_TaskID
        MOVX    @DPTR,A
//  270   SampleApp_NwkState = DEV_INIT;
        MOV     DPTR,#SampleApp_NwkState
        MOV     A,#0x1
        MOVX    @DPTR,A
//  271   SampleApp_TransID = 0;
        MOV     DPTR,#SampleApp_TransID
        MOV     A,#0x0
        MOVX    @DPTR,A
//  272   
//  273   MT_UartInit();                  //initial uart
        ; Setup parameters for call to function MT_UartInit
        LCALL   ??MT_UartInit?relay
//  274   MT_UartRegisterTaskID(task_id); //register uart task id
        ; Setup parameters for call to function MT_UartRegisterTaskID
        MOV     A,R6
        MOV     R1,A
        LCALL   ??MT_UartRegisterTaskID?relay
//  275   HalUARTWrite(0,"UartInit OK\n", sizeof("UartInit OK\n"));// initial uart finish
        ; Setup parameters for call to function HalUARTWrite
        MOV     R4,#0xd
        MOV     R5,#0x0
        MOV     R2,#`?<Constant "UartInit OK\\n">` & 0xff
        MOV     R3,#(`?<Constant "UartInit OK\\n">` >> 8) & 0xff
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  276   
//  277   // Device hardware initialization can be added here or in main() (Zmain.c).
//  278   // If the hardware is application specific - add it here.
//  279   // If the hardware is other parts of the device add it in main().
//  280 
//  281  #if defined ( BUILD_ALL_DEVICES )
//  282   // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
//  283   // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
//  284   // together - if they are - we will start up a coordinator. Otherwise,
//  285   // the device will start as a router.
//  286   if ( readCoordinatorJumper() )
//  287     zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
//  288   else
//  289     zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
//  290 #endif // BUILD_ALL_DEVICES
//  291 
//  292 #if defined ( HOLD_AUTO_START )
//  293   // HOLD_AUTO_START is a compile option that will surpress ZDApp
//  294   //  from starting the device and wait for the application to
//  295   //  start the device.
//  296   ZDOInitDevice(0);
//  297 #endif
//  298 
//  299   // Setup for the periodic message's destination address
//  300   // Router broadcast to everyone
//  301 
//  302 
//  303   // Setup for the flash command's destination address - Group 1
//  304 //  SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
//  305 //  SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
//  306 //  SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
//  307 
//  308   // Fill out the endpoint description.
//  309   SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_epDesc
        MOV     A,#0x14
        MOVX    @DPTR,A
//  310   SampleApp_epDesc.task_id = &SampleApp_TaskID;
        MOV     DPTR,#SampleApp_epDesc + 1
        MOV     A,#SampleApp_TaskID & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(SampleApp_TaskID >> 8) & 0xff
        MOVX    @DPTR,A
//  311   SampleApp_epDesc.simpleDesc
//  312             = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
        MOV     DPTR,#SampleApp_epDesc + 3
        MOV     A,#SampleApp_SimpleDesc & 0xff
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
        MOVX    @DPTR,A
//  313   SampleApp_epDesc.latencyReq = noLatencyReqs;
        MOV     DPTR,#SampleApp_epDesc + 5
        MOV     A,#0x0
        MOVX    @DPTR,A
//  314 
//  315   // Register the endpoint description with the AF
//  316   afRegister( &SampleApp_epDesc );
        ; Setup parameters for call to function afRegister
        MOV     R2,#SampleApp_epDesc & 0xff
        MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
        LCALL   ??afRegister?relay
        MOV     A,R1
//  317 
//  318   // Register for all key events - This app will handle all key events
//  319   RegisterForKeys( SampleApp_TaskID );
        ; Setup parameters for call to function RegisterForKeys
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??RegisterForKeys?relay
        MOV     A,R1
//  320 
//  321   // By default, all devices start out in Group 1
//  322   SampleApp_Group_1.ID = SAMPLEAPP_CalN_GROUP; //0x0001
        MOV     DPTR,#SampleApp_Group_1
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  323   //SampleApp_Group.name[0]=0; or just as bellow
//  324   osal_memcpy( SampleApp_Group_1.name, "Group 1", 7 );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     R4,#0x7
        MOV     R5,#0x0
        MOV     R2,#(SampleApp_Group_1 + 2) & 0xff
        MOV     R3,#((SampleApp_Group_1 + 2) >> 8) & 0xff
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
//  325   aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_1 );
        ; Setup parameters for call to function aps_AddGroup
        MOV     R2,#SampleApp_Group_1 & 0xff
        MOV     R3,#(SampleApp_Group_1 >> 8) & 0xff
        MOV     R1,#0x14
        LCALL   ??aps_AddGroup?relay
        MOV     A,R1
//  326   
//  327    // Only end devices and coordinator can joint this Group 2
//  328   SampleApp_Group_2.ID = SAMPLEAPP_QUADROTOR_GROUP; //0x0002
        MOV     DPTR,#SampleApp_Group_2
        MOV     A,#0x2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  329   //SampleApp_Group.name[0]=0; or just as bellow
//  330   osal_memcpy( SampleApp_Group_2.name, "Group 2", 7 );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V0 + 0,#`?<Constant "Group 2">` & 0xff
        MOV     ?V0 + 1,#(`?<Constant "Group 2">` >> 8) & 0xff
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
          CFI CFA_XSP16 add(XSP16, 14)
        MOV     R4,#0x7
        MOV     R5,#0x0
        MOV     R2,#(SampleApp_Group_2 + 2) & 0xff
        MOV     R3,#((SampleApp_Group_2 + 2) >> 8) & 0xff
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 11)
//  331   aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_2 );
        ; Setup parameters for call to function aps_AddGroup
        MOV     R2,#SampleApp_Group_2 & 0xff
        MOV     R3,#(SampleApp_Group_2 >> 8) & 0xff
        MOV     R1,#0x14
        LCALL   ??aps_AddGroup?relay
        MOV     A,R1
//  332 
//  333 
//  334  
//  335 
//  336 #if defined ( LCD_SUPPORTED )
//  337   HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
        ; Setup parameters for call to function HalLcdWriteString
        MOV     R1,#0x1
        MOV     R2,#`?<Constant "SampleApp">` & 0xff
        MOV     R3,#(`?<Constant "SampleApp">` >> 8) & 0xff
        LCALL   ??HalLcdWriteString?relay
//  338 #endif
//  339   
//  340   
//  341 }
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock0
//  342 
//  343 /*********************************************************************
//  344  * @fn      SampleApp_ProcessEvent
//  345  *
//  346  * @brief   Generic Application Task event processor.  This function
//  347  *          is called to process all events for the task.  Events
//  348  *          include timers, messages and any other user defined events.
//  349  *
//  350  * @param   task_id  - The OSAL assigned task ID.
//  351  * @param   events - events to process.  This is a bit map and can
//  352  *                   contain more than one event.
//  353  *
//  354  * @return  none
//  355  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  356 uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
SampleApp_ProcessEvent:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function SampleApp_ProcessEvent
        CODE
//  357 {
        FUNCALL SampleApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_HandleKeys
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_MessageMSGCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_QuadrotorMSGCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_AnchorMSGCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_Tester_calibrationMSGCB
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_msg_deallocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_msg_receive
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_Router_SendPeriodicMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_Tester_calibration_differentAMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_Tester_calibrationOffsetAMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, SampleApp_Quadrotor_SendLocation
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_rand
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_ProcessEvent, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     ?V0 + 2,R1
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  358   afIncomingMSGPacket_t *MSGpkt;
//  359   (void)task_id;  // Intentionally unreferenced parameter
//  360 
//  361   if ( events & SYS_EVENT_MSG )
        MOV     A,R6
        ANL     A,#0x0
        MOV     R0,A
        MOV     A,R7
        ANL     A,#0x80
        MOV     R1,A
        MOV     A,R0
        ORL     A,R1
        JNZ     $+5
        LJMP    ??SampleApp_ProcessEvent_0 & 0xFFFF
//  362   {
//  363     MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_receive?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
//  364     while ( MSGpkt )
??SampleApp_ProcessEvent_1:
        MOV     A,?V0 + 0
        ORL     A,?V0 + 1
        JNZ     $+5
        LJMP    ??SampleApp_ProcessEvent_2 & 0xFFFF
//  365     {
//  366       switch ( MSGpkt->hdr.event )
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        ADD     A,#-0x1a
        JZ      ??SampleApp_ProcessEvent_3
        ADD     A,#0x5a
        JZ      ??SampleApp_ProcessEvent_4
        ADD     A,#-0x11
        JZ      ??SampleApp_ProcessEvent_5
        LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
//  367       {        
//  368         // Received when a key is pressed
//  369         case KEY_CHANGE:
//  370           SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
??SampleApp_ProcessEvent_4:
        ; Setup parameters for call to function SampleApp_HandleKeys
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??SampleApp_HandleKeys?relay
//  371           break;
        LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
//  372 
//  373         // Received when a messages is received (OTA) for this endpoint
//  374         case AF_INCOMING_MSG_CMD:
//  375                   if ( (SampleApp_NwkState == DEV_ZB_COORD)  // coordinator deals with incoming messages
//  376                       )
??SampleApp_ProcessEvent_3:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x9
        JNZ     ??SampleApp_ProcessEvent_7
//  377                   {
//  378                    SampleApp_MessageMSGCB( MSGpkt );
        ; Setup parameters for call to function SampleApp_MessageMSGCB
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??SampleApp_MessageMSGCB?relay
        SJMP    ??SampleApp_ProcessEvent_8
//  379                   }
//  380                   else if((SampleApp_NwkState == DEV_END_DEVICE)) // end device deals with incoming messages
??SampleApp_ProcessEvent_7:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_9
//  381                   {
//  382                    
//  383                     SampleApp_QuadrotorMSGCB(MSGpkt);
        ; Setup parameters for call to function SampleApp_QuadrotorMSGCB
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??SampleApp_QuadrotorMSGCB?relay
        SJMP    ??SampleApp_ProcessEvent_8
//  384                    
//  385                   }
//  386                    else if(SampleApp_NwkState == DEV_ROUTER)      // router deals with incoming messages
??SampleApp_ProcessEvent_9:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x7
        JNZ     ??SampleApp_ProcessEvent_8
//  387                   {
//  388                      if(DeviceID!=6&&DeviceID!=8)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_10
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_10:
        JZ      ??SampleApp_ProcessEvent_11
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x8
        JNZ     ??SampleApp_ProcessEvent_12
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_12:
        JZ      ??SampleApp_ProcessEvent_11
//  389                     SampleApp_AnchorMSGCB(MSGpkt);
        ; Setup parameters for call to function SampleApp_AnchorMSGCB
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??SampleApp_AnchorMSGCB?relay
        SJMP    ??SampleApp_ProcessEvent_8
//  390                      else
//  391                      SampleApp_Tester_calibrationMSGCB(MSGpkt);   // sepcial router device
??SampleApp_ProcessEvent_11:
        ; Setup parameters for call to function SampleApp_Tester_calibrationMSGCB
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??SampleApp_Tester_calibrationMSGCB?relay
//  392                   }
//  393 //                  else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID==6))
//  394 //                  {
//  395 //                    SampleApp_Tester_calibrationMSGCB(MSGpkt);
//  396 //                  }
//  397                     
//  398           break;
??SampleApp_ProcessEvent_8:
        LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
//  399 
//  400         case ZDO_STATE_CHANGE:
//  401           SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
??SampleApp_ProcessEvent_5:
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPTR,#SampleApp_NwkState
        MOVX    @DPTR,A
//  402           if ( //(SampleApp_NwkState == DEV_ZB_COORD) ||
//  403                  (SampleApp_NwkState == DEV_ROUTER)&&(DeviceID!=6)&&(DeviceID!=8)
//  404              //|| (SampleApp_NwkState == DEV_END_DEVICE)
//  405                   
//  406               )
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x7
        JNZ     ??SampleApp_ProcessEvent_13
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_14
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_14:
        JZ      ??SampleApp_ProcessEvent_13
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x8
        JNZ     ??SampleApp_ProcessEvent_15
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_15:
        JZ      ??SampleApp_ProcessEvent_13
//  407           {
//  408             // Start sending the periodic message in a regular interval.
//  409             osal_start_timerEx( SampleApp_TaskID,
//  410                               SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
//  411                               SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#0x1e
        MOV     R5,#0x0
        MOV     R2,#0x1
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
        SJMP    ??SampleApp_ProcessEvent_6
//  412                
//  413           }
//  414           else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==8))    // for special router
??SampleApp_ProcessEvent_13:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x7
        JNZ     ??SampleApp_ProcessEvent_16
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x8
        JNZ     ??SampleApp_ProcessEvent_17
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_17:
        JNZ     ??SampleApp_ProcessEvent_16
//  415           {
//  416             osal_start_timerEx( SampleApp_TaskID,
//  417                               SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
//  418                               SAMPLEAPP_SEND_PERIODIC_TESTER );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#0x64
        MOV     R5,#0x0
        MOV     R2,#0x3
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
        SJMP    ??SampleApp_ProcessEvent_6
//  419           }
//  420           else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==6))    // for special fixed router
??SampleApp_ProcessEvent_16:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x7
        JNZ     ??SampleApp_ProcessEvent_18
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_19
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_19:
        JNZ     ??SampleApp_ProcessEvent_18
//  421           {
//  422             osal_start_timerEx( SampleApp_TaskID,
//  423                               SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
//  424                               SAMPLEAPP_SEND_PERIODIC_TESTER );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#0x64
        MOV     R5,#0x0
        MOV     R2,#0x3
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
        SJMP    ??SampleApp_ProcessEvent_6
//  425           }
//  426           else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID!=6))  // for end devices
??SampleApp_ProcessEvent_18:
        MOV     DPTR,#SampleApp_NwkState
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_6
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_20
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_20:
        JZ      ??SampleApp_ProcessEvent_6
//  427           {
//  428               //Start sending quadrotor location after calculation
//  429                osal_start_timerEx( SampleApp_TaskID,
//  430                               SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
//  431                               SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#0x2c
        MOV     R5,#0x1
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
//  432                   
//  433           }
//  434           else
//  435           {
//  436             // Device is no longer in the network
//  437           }
//  438           break;
//  439 
//  440         default:
//  441           break;
//  442       }
//  443 
//  444       // Release the memory
//  445       osal_msg_deallocate( (uint8 *)MSGpkt );
??SampleApp_ProcessEvent_6:
        ; Setup parameters for call to function osal_msg_deallocate
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_msg_deallocate?relay
        MOV     A,R1
//  446 
//  447       // Next - if one is available
//  448       MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
        ; Setup parameters for call to function osal_msg_receive
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_receive?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        LJMP    ??SampleApp_ProcessEvent_1 & 0xFFFF
//  449     }
//  450 
//  451     // return unprocessed events
//  452     return (events ^ SYS_EVENT_MSG);
??SampleApp_ProcessEvent_2:
        MOV     A,R6
        XRL     A,#0x0
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x80
        MOV     R3,A
        LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
//  453   }
//  454 
//  455   // Send a message out - This event is generated by a timer
//  456   //  (setup in SampleApp_Init()).
//  457   // anchor sends period message to help ed to localise itself 
//  458   if ( (events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT)&&(DeviceID!=6)&&(DeviceID!=8) )
??SampleApp_ProcessEvent_0:
        MOV     A,R6
        MOV     C,0xE0 /* A   */.0
        JNC     ??SampleApp_ProcessEvent_22
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_23
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_23:
        JZ      ??SampleApp_ProcessEvent_22
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x8
        JNZ     ??SampleApp_ProcessEvent_24
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_24:
        JZ      ??SampleApp_ProcessEvent_22
//  459   {
//  460     // Send the periodic message
//  461     SampleApp_Router_SendPeriodicMessage(DeviceID);
        ; Setup parameters for call to function SampleApp_Router_SendPeriodicMessage
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??SampleApp_Router_SendPeriodicMessage?relay
//  462 
//  463     // Setup to send message again in normal period (+ a little jitter)
//  464     osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
//  465         (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x0003)) );
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     R0,?V0 + 4
        MOV     R1,?V0 + 5
        ; Setup parameters for call to function osal_start_timerEx
        MOV     A,?V0 + 4
        ANL     A,#0x3
        MOV     R0,A
        MOV     A,?V0 + 5
        ANL     A,#0x0
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0x1e
        MOV     R4,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R5,A
        MOV     R2,#0x1
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
//  466 
//  467     // return unprocessed events
//  468     return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
        MOV     A,R6
        XRL     A,#0x1
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
//  469   }
//  470   
//  471   // special anchor with id = 8
//  472     if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==8) )
??SampleApp_ProcessEvent_22:
        MOV     A,R6
        ANL     A,#0x3
        JZ      ??SampleApp_ProcessEvent_25
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x8
        JNZ     ??SampleApp_ProcessEvent_26
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_26:
        JNZ     ??SampleApp_ProcessEvent_25
//  473   {
//  474     static int index;
//  475     if (index<5)
        MOV     DPTR,#??index
        CLR     C
        MOVX    A,@DPTR
        SUBB    A,#0x5
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JNC     ??SampleApp_ProcessEvent_27
//  476     // Send the periodic message
//  477     {
//  478       SampleApp_Tester_calibration_differentAMessage(index);
        ; Setup parameters for call to function SampleApp_Tester_calibration_differentAMessage
        MOV     DPTR,#??index
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??SampleApp_Tester_calibration_differentAMessag
//  479       index++;  // move to next devices
        MOV     DPTR,#??index
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
        SJMP    ??SampleApp_ProcessEvent_28
//  480     }
//  481     else
//  482     {index=1;}
??SampleApp_ProcessEvent_27:
        MOV     DPTR,#??index
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  483     // Setup to send message again in normal period (+ a little jitter)
//  484     osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
//  485         (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
??SampleApp_ProcessEvent_28:
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     R0,?V0 + 4
        MOV     R1,?V0 + 5
        ; Setup parameters for call to function osal_start_timerEx
        MOV     A,?V0 + 4
        ANL     A,#0x2
        MOV     R0,A
        MOV     A,?V0 + 5
        ANL     A,#0x0
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0x2c
        MOV     R4,A
        MOV     A,R1
        ADDC    A,#0x1
        MOV     R5,A
        MOV     R2,#0x3
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
//  486 
//  487     // return unprocessed events
//  488     return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
        MOV     A,R6
        XRL     A,#0x3
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
//  489   }
//  490 
//  491    // special anchor with id = 6
//  492     if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==6) )
??SampleApp_ProcessEvent_25:
        MOV     A,R6
        ANL     A,#0x3
        JNZ     $+5
        LJMP    ??SampleApp_ProcessEvent_29 & 0xFFFF
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_30
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_30:
        JZ      $+5
        LJMP    ??SampleApp_ProcessEvent_29 & 0xFFFF
//  493   {
//  494     static int index;
//  495     if (index<5)
        MOV     DPTR,#??index_1
        CLR     C
        MOVX    A,@DPTR
        SUBB    A,#0x5
        INC     DPTR
        MOVX    A,@DPTR
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JNC     ??SampleApp_ProcessEvent_31
//  496     // Send the periodic message
//  497     {
//  498      SampleApp_Tester_calibrationOffsetAMessage(index, OffsetAValue[index-1]);
        ; Setup parameters for call to function SampleApp_Tester_calibrationOffsetAMessage
        MOV     DPTR,#??index_1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(OffsetAValue + 252) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((OffsetAValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     DPTR,#??index_1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??SampleApp_Tester_calibrationOffsetAMessage?re
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
//  499       index++;  // move to next devices
        MOV     DPTR,#??index_1
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
        SJMP    ??SampleApp_ProcessEvent_32
//  500     }
//  501     else
//  502     {
//  503       index=1;
??SampleApp_ProcessEvent_31:
        MOV     DPTR,#??index_1
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  504     }
//  505     // Setup to send message again in normal period (+ a little jitter)
//  506     osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
//  507         (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
??SampleApp_ProcessEvent_32:
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     R0,?V0 + 4
        MOV     R1,?V0 + 5
        ; Setup parameters for call to function osal_start_timerEx
        MOV     A,?V0 + 4
        ANL     A,#0x2
        MOV     R0,A
        MOV     A,?V0 + 5
        ANL     A,#0x0
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0x2c
        MOV     R4,A
        MOV     A,R1
        ADDC    A,#0x1
        MOV     R5,A
        MOV     R2,#0x3
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
//  508 
//  509     // return unprocessed events
//  510     return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
        MOV     A,R6
        XRL     A,#0x3
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        SJMP    ??SampleApp_ProcessEvent_21
//  511   }
//  512   
//  513   
//  514    // Send a location message out (ED)
//  515     if ( (events & SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT)&&(DeviceID!=6) )
??SampleApp_ProcessEvent_29:
        MOV     A,R6
        ANL     A,#0x2
        JZ      ??SampleApp_ProcessEvent_33
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_ProcessEvent_34
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_ProcessEvent_34:
        JZ      ??SampleApp_ProcessEvent_33
//  516   {
//  517     // Send the periodic message
//  518     SampleApp_Quadrotor_SendLocation(DeviceID);
        ; Setup parameters for call to function SampleApp_Quadrotor_SendLocation
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??SampleApp_Quadrotor_SendLocation?relay
//  519 
//  520     // Setup to send message again in normal period (+ a little jitter)
//  521     osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
//  522         (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x000E)) );
        ; Setup parameters for call to function osal_rand
        LCALL   ??osal_rand?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     R0,?V0 + 4
        MOV     R1,?V0 + 5
        ; Setup parameters for call to function osal_start_timerEx
        MOV     A,?V0 + 4
        ANL     A,#0xe
        MOV     R0,A
        MOV     A,?V0 + 5
        ANL     A,#0x0
        MOV     R1,A
        MOV     A,R0
        ADD     A,#0x2c
        MOV     R4,A
        MOV     A,R1
        ADDC    A,#0x1
        MOV     R5,A
        MOV     R2,#0x2
        MOV     R3,#0x0
        MOV     DPTR,#SampleApp_TaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
        MOV     A,R1
//  523 
//  524     // return unprocessed events
//  525     return (events ^ SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT);
        MOV     A,R6
        XRL     A,#0x2
        MOV     R2,A
        MOV     A,R7
        XRL     A,#0x0
        MOV     R3,A
        SJMP    ??SampleApp_ProcessEvent_21
//  526   }
//  527   
//  528   
//  529   
//  530   // Discard unknown events
//  531   return 0;
??SampleApp_ProcessEvent_33:
        MOV     R2,#0x0
        MOV     R3,#0x0
??SampleApp_ProcessEvent_21:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock1
//  532 }

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??index:
        DS 2
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??index_1:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  533 
//  534 /*********************************************************************
//  535  * Event Generation Functions
//  536  */
//  537 /*********************************************************************
//  538  * @fn      SampleApp_HandleKeys
//  539  *
//  540  * @brief   Handles all key events for this device.
//  541  *
//  542  * @param   shift - true if in shift/alt.
//  543  * @param   keys - bit field for key events. Valid entries:
//  544  *                 HAL_KEY_SW_2
//  545  *                 HAL_KEY_SW_1
//  546  *
//  547  * @return  none
//  548  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  549 void SampleApp_HandleKeys( uint8 shift, uint8 keys )
SampleApp_HandleKeys:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function SampleApp_HandleKeys
        CODE
//  550 {
        FUNCALL SampleApp_HandleKeys, SampleApp_Tester_calibrationAMessage
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 13, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 13, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
        MOV     A,R2
        MOV     R7,A
//  551   (void)shift;  // Intentionally unreferenced parameter
//  552   
//  553   if ( keys & HAL_KEY_SW_1 && (DeviceID==6))
        MOV     C,0xE0 /* A   */.0
        JNC     ??SampleApp_HandleKeys_0
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_HandleKeys_1
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_HandleKeys_1:
        JNZ     ??SampleApp_HandleKeys_0
//  554   {
//  555     /* This key sends the Flash Command is sent to Group 1.
//  556      * This device will not receive the Flash Command from this
//  557      * device (even if it belongs to group 1).
//  558      */
//  559     //SampleApp_SendFlashMessage( SAMPLEAPP_FLASH_DURATION );
//  560      
//  561      static int aindex;
//  562      if(aindex!=4)
        MOV     DPTR,#??aindex
        MOVX    A,@DPTR
        XRL     A,#0x4
        JNZ     ??SampleApp_HandleKeys_2
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_HandleKeys_2:
        JZ      ??SampleApp_HandleKeys_3
//  563      {
//  564         SampleApp_Tester_calibrationAMessage( aindex+1 , RssiValue[aindex] );
        ; Setup parameters for call to function SampleApp_Tester_calibrationAMessage
        MOV     DPTR,#??aindex
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#RssiValue & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(RssiValue >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        LCALL   ?PUSH_XSTACK8_X_FOUR
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     DPTR,#??aindex
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??SampleApp_Tester_calibrationAMessage?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 9)
//  565         aindex++;
        MOV     DPTR,#??aindex
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOVX    @DPTR,A
        SJMP    ??SampleApp_HandleKeys_0
//  566      }
//  567      else
//  568      {
//  569        aindex=0;
??SampleApp_HandleKeys_3:
        MOV     DPTR,#??aindex
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  570      }
//  571   }
//  572 
//  573   if ( keys & HAL_KEY_SW_2 )
//  574   {
//  575     /* The Flashr Command is sent to Group 1.
//  576      * This key toggles this device in and out of group 1.
//  577      * If this device doesn't belong to group 1, this application
//  578      * will not receive the Flash command sent to group 1.
//  579      */
//  580     
//  581 //    aps_Group_t *grp;
//  582 //    grp = aps_FindGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
//  583 //    if ( grp )
//  584 //    {
//  585 //      // Remove from the group
//  586 //      aps_RemoveGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
//  587 //    }
//  588 //    else
//  589 //    {
//  590 //      // Add to the flash group
//  591 //      aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
//  592 //    }
//  593   }
//  594 }
??SampleApp_HandleKeys_0:
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock2

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
??aindex:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  595 
//  596 /*********************************************************************
//  597  * LOCAL FUNCTIONS
//  598  */
//  599 
//  600 /*********************************************************************
//  601  * @fn      SampleApp_MessageMSGCB
//  602  *
//  603  * @brief   Data message processor callback.  This function processes
//  604  *          any incoming data - probably from other devices.  So, based
//  605  *          on cluster ID, perform the intended action.
//  606  *
//  607  * @param   none
//  608  *
//  609  * @return  none
//  610  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  611 void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt ) //½ÓÊÕÊý¾Ý
SampleApp_MessageMSGCB:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function SampleApp_MessageMSGCB
        CODE
//  612 {
        FUNCALL SampleApp_MessageMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_MessageMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x18
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V15 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-24)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 24)
        ; Saved register size: 24
        ; Auto size: 1
        MOV     A,#-0x1
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 25)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  613   //uint16 flashTime;
//  614     float avalue=0.0f;
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x0
        MOV     ?V0 + 2,#0x0
        MOV     ?V0 + 3,#0x0
//  615   switch ( pkt->clusterId )
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        MOV     A,?V0 + 5
        JZ      $+5
        LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
        MOV     A,?V0 + 4
        LCALL   ?UC_SWITCH_SPARSE
`?<Jumptable for SampleApp_MessageMSGCB>_0`:
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        0
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        6
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        1
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_0
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        2
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_1
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        3
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_2
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        50
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_3
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        51
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_4
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        52
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_5
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_MessageMSGCB_0
        CODE
//  616   {
//  617     case SAMPLEAPP_PERIODIC_CLUSTERID:
//  618    //  printRSSIandLQI(pkt,0);
//  619     // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
//  620       break;
//  621 //    case SAMPLEAPP_PERIODIC_CLUSTERID:
//  622 //      { // unsigned char* rssivalue;
//  623 //        //  uint8 rssiE=25;
//  624 //         // int abc=3;
//  625 //         // rssivalue=&rssiE;
//  626 //       // int8 rssivalue;
//  627 //        rssivalue=0xff-pkt->rssi;
//  628 //        unsigned char rssi_buf[3];
//  629 //        rssi_buf[0]='-';
//  630 //        rssi_buf[1]=rssivalue/10+0x30;
//  631 //        rssi_buf[2]=rssivalue%10+0x30;
//  632 //     // HalUARTWrite(0, "Rx:", 3);      
//  633 //      HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
//  634 //  
//  635 //                
//  636 //    //  HalUARTWrite(0, "\n", 1); 
//  637 //      HalUARTWrite(0, "RSSI:", 5);  
//  638 //      HalUARTWrite(0,rssi_buf,3);
//  639 ////     HalUARTWrite(0, "\r\n", 2); 
//  640 //////     
//  641 ////     uint8 lqivalue;
//  642 ////     lqivalue=pkt->LinkQuality;
//  643 ////     unsigned char lqi_buf[3];
//  644 ////      lqi_buf[0]=lqivalue/100+0x30;
//  645 ////        lqi_buf[1]=(lqivalue%100)/10+0x30;
//  646 ////        lqi_buf[2]=lqivalue%10+0x30;
//  647 ////      HalUARTWrite(0, "LQI:", 4);  
//  648 ////      HalUARTWrite(0,lqi_buf,3);
//  649 ////     HalUARTWrite(0, "\n", 1);         //»Ø³µ»»ÐÐ
//  650 //      break;
//  651 //      }
//  652     
//  653     
//  654 
//  655     case LZQR_GROUP_CLUSTERID: 
//  656       {
//  657        HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
??SampleApp_MessageMSGCB_2:
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  658         
//  659         break;
        LJMP    ??SampleApp_MessageMSGCB_0 & 0xFFFF
//  660       }
//  661     case CALBRATION_N_CLUSTERID:
//  662       {
//  663         
//  664         byte alphaindex;
//  665         alphaindex=*(pkt->cmd.Data);
??SampleApp_MessageMSGCB_1:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  666         if(alphaindex=='A')
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x41
        JZ      $+5
        LJMP    ??SampleApp_MessageMSGCB_6 & 0xFFFF
//  667          {  
//  668  //             HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength);
//  669               byte index;
//  670               index=*(pkt->cmd.Data+1);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
//  671               avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 4,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 5,A
        MOV     A,?V0 + 5
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 6,A
        MOV     ?V0 + 7,A
        MOV     R0,#?V0 + 4
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 8,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 9,A
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_ADD
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x6
        MOV     DPL,A
        MOV     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_3dcccccd
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        MOV     ?V0 + 2,?V0 + 6
        MOV     ?V0 + 3,?V0 + 7
//  672               if(avalue>0)   
        MOV     DPTR,#__Constant_1
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_GE
        JNC     ??SampleApp_MessageMSGCB_0
//  673               {
//  674                   switch (index)
        MOV     A,#0x31
        XRL     A,R4
        JNZ     ??SampleApp_MessageMSGCB_3
//  675                        case '1':
//  676                           {
//  677                                   AValue[0]=avalue;
        MOV     DPTR,#AValue
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
//  678                                   break;
//  679                            }
//  680                        case '2':
//  681                           {
//  682                                   AValue[1]=avalue;
??SampleApp_MessageMSGCB_3:
        MOV     DPTR,#AValue + 4
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
//  683                                   break;
        SJMP    ??SampleApp_MessageMSGCB_0
//  684                            }
//  685                        case '3':
//  686                           {
//  687                                   AValue[2]=avalue;
??SampleApp_MessageMSGCB_4:
        MOV     DPTR,#AValue + 8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
//  688                                   break;
        SJMP    ??SampleApp_MessageMSGCB_0
//  689                            }
//  690                        case '4':
//  691                           {
//  692                                   AValue[3]=avalue;
??SampleApp_MessageMSGCB_5:
        MOV     DPTR,#AValue + 12
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
//  693                                   break;
        SJMP    ??SampleApp_MessageMSGCB_0
//  694                            }
//  695             
//  696                   break;
//  697               }
//  698            }
//  699         else if(alphaindex=='T')  // test signal from test anchor
??SampleApp_MessageMSGCB_6:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x54
        JNZ     ??SampleApp_MessageMSGCB_0
//  700          {
//  701           HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  702          }
//  703 //        else if(alphaindex=='O')  // test signal from test anchor
//  704 //         {
//  705 //          HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
//  706 //         }
//  707       }
//  708 
//  709   }
//  710 }
??SampleApp_MessageMSGCB_0:
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R7,#0x10
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock3
//  711 
//  712 /*********************************************************************
//  713  * @fn      SampleApp_QuadrotorMSGCB
//  714  *
//  715  * @brief   Data message processor callback.  This function processes
//  716  *          any incoming data - probably from other devices.  So, based
//  717  *          on cluster ID, perform the intended action.
//  718  *
//  719  * @param   none
//  720  *
//  721  * @return  none
//  722  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  723 void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
SampleApp_QuadrotorMSGCB:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function SampleApp_QuadrotorMSGCB
        CODE
//  724 {
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average_f
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average_f
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average_f
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average_f
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, moving_average_f
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_QuadrotorMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x18
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V15 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-24)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 24)
        ; Saved register size: 24
        ; Auto size: 6
        MOV     A,#-0x6
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  725   float avalue=0.0f;
        MOV     R2,#0x0
        MOV     R3,#0x0
        MOV     R4,#0x0
        MOV     R5,#0x0
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
//  726   float offseta=0.0f;
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x0
        MOV     ?V0 + 2,#0x0
        MOV     ?V0 + 3,#0x0
//  727   switch ( pkt->clusterId )
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        MOV     A,?V0 + 5
        JZ      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
        MOV     A,?V0 + 4
        LCALL   ?UC_SWITCH_SPARSE
`?<Jumptable for SampleApp_QuadrotorMSGCB>_0`:
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        0
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        6
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        1
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_1
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        2
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_2
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        3
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_3
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        50
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_0
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        51
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_4
        DATA
        DATA8
        DATA
        DATA8
        DATA
        DATA8
        DB        52
        DATA
        DATA16
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_5
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_QuadrotorMSGCB_0
        CODE
//  728   {
//  729      
//  730     case SAMPLEAPP_PERIODIC_CLUSTERID:
//  731       { 
//  732         
//  733         byte index;
//  734         index=*(pkt->cmd.Data+1);
??SampleApp_QuadrotorMSGCB_1:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
//  735         rssivalue=(0xff-pkt->rssi);
        MOV     A,R6
        ADD     A,#0x18
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     A,#-0x1
        CLR     C
        SUBB    A,R0
        MOV     DPTR,#rssivalue
        MOVX    @DPTR,A
//  736        // printRSSIandLQI(pkt, 0);
//  737         switch (index)
        MOV     A,?V0 + 4
        ADD     A,#-0x31
        JZ      ??SampleApp_QuadrotorMSGCB_6
        DEC     A
        JZ      ??SampleApp_QuadrotorMSGCB_7
        DEC     A
        JZ      ??SampleApp_QuadrotorMSGCB_8
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_9 & 0xFFFF
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  738         {
//  739             case '1':
//  740               { 
//  741                 //moving average filter
//  742                 moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[0]);
??SampleApp_QuadrotorMSGCB_6:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 6,#RssiValue & 0xff
        MOV     ?V0 + 7,#(RssiValue >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 6,#imof1 & 0xff
        MOV     ?V0 + 7,#(imof1 >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf1 & 0xff
        MOV     R3,#(perRssiBuf1 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  743               }
//  744             
//  745                   break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  746             case '2':
//  747               {
//  748                 //moving average filter
//  749                 moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[1]);
??SampleApp_QuadrotorMSGCB_7:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 6,#(RssiValue + 4) & 0xff
        MOV     ?V0 + 7,#((RssiValue + 4) >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 6,#imof2 & 0xff
        MOV     ?V0 + 7,#(imof2 >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf2 & 0xff
        MOV     R3,#(perRssiBuf2 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  750               }
//  751                   break;
        SJMP    ??SampleApp_QuadrotorMSGCB_10
//  752             case '3':
//  753               {
//  754                 //moving average filter
//  755                 moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[2]);
??SampleApp_QuadrotorMSGCB_8:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 6,#(RssiValue + 8) & 0xff
        MOV     ?V0 + 7,#((RssiValue + 8) >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 6,#imof3 & 0xff
        MOV     ?V0 + 7,#(imof3 >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf3 & 0xff
        MOV     R3,#(perRssiBuf3 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  756               }
//  757                   break;
        SJMP    ??SampleApp_QuadrotorMSGCB_10
//  758             case '4':
//  759               {
//  760                 //moving average filter
//  761                  moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[3]);
??SampleApp_QuadrotorMSGCB_9:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 6,#(RssiValue + 12) & 0xff
        MOV     ?V0 + 7,#((RssiValue + 12) >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 6,#imof4 & 0xff
        MOV     ?V0 + 7,#(imof4 >> 8) & 0xff
        MOV     R0,#?V0 + 6
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf4 & 0xff
        MOV     R3,#(perRssiBuf4 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  762               }
//  763                   break;    
//  764             default:
//  765             
//  766                    break;
//  767          }
//  768         break;
??SampleApp_QuadrotorMSGCB_10:
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  769       }
//  770 
//  771     case LZQR_GROUP_CLUSTERID: // position of other quadrotors
//  772           {
//  773             HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
??SampleApp_QuadrotorMSGCB_3:
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  774            // break;
//  775           }
//  776     
//  777 
//  778      case CALBRATION_N_CLUSTERID:
//  779     {
//  780         
//  781         byte alphaindex;
//  782         alphaindex=*(pkt->cmd.Data);
??SampleApp_QuadrotorMSGCB_2:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  783         if(alphaindex=='A')
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x41
        JZ      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_11 & 0xFFFF
//  784          {  
//  785               byte index;
//  786               index=*(pkt->cmd.Data+1);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  787               avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 4,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 5,A
        MOV     A,?V0 + 5
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 6,A
        MOV     ?V0 + 7,A
        MOV     R0,#?V0 + 4
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 8,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 9,A
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_ADD
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x6
        MOV     DPL,A
        MOV     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_3dcccccd
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  788               if(avalue>0)   
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     DPTR,#__Constant_1
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_GE
        JC      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  789               {
//  790                   switch (index)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x31
        JNZ     ??SampleApp_QuadrotorMSGCB_12
//  791                        case '1':
//  792                           {
//  793                                   moving_average_f(avalue, peraBuf1, 8-1, aindex1, &AValue[0]);
        ; Setup parameters for call to function moving_average_f
        MOV     ?V0 + 4,#AValue & 0xff
        MOV     ?V0 + 5,#(AValue >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 4,#aindex1 & 0xff
        MOV     ?V0 + 5,#(aindex1 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 4,#0x7
        MOV     ?V0 + 5,#0x0
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 4,#peraBuf1 & 0xff
        MOV     ?V0 + 5,#(peraBuf1 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?XLOAD_R2345
        LCALL   ??moving_average_f?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  794                                  // AValue[0]=avalue;
//  795                                   break;
//  796                            }
//  797                        case '2':
//  798                           {
//  799                                   //AValue[1]=avalue;
//  800                                   break;
??SampleApp_QuadrotorMSGCB_12:
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  801                            }
//  802                        case '3':
//  803                           {
//  804                                   AValue[2]=avalue;
??SampleApp_QuadrotorMSGCB_4:
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?XLOAD_R2345
        MOV     DPTR,#AValue + 8
        LCALL   ?XSTORE_R2345
//  805                                   break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  806                            }
//  807                        case '4':
//  808                           {
//  809                                   AValue[3]=avalue;
??SampleApp_QuadrotorMSGCB_5:
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?XLOAD_R2345
        MOV     DPTR,#AValue + 12
        LCALL   ?XSTORE_R2345
//  810                                   break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  811                            }
//  812             
//  813                   break;
//  814               }
//  815          } 
//  816         else if(alphaindex=='N')
??SampleApp_QuadrotorMSGCB_11:
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x4e
        JZ      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_13 & 0xFFFF
//  817              {
//  818                       HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  819                       byte index;
//  820                       index=*(pkt->cmd.Data+1);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  821 
//  822                       float nvalue;
//  823               //        float tempn=0.0f;
//  824                       
//  825                       if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R1,A
        CLR     C
        MOV     A,R0
        SUBB    A,#0x0
        MOV     A,R1
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JNC     $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     R1,A
        CLR     C
        MOV     A,R0
        SUBB    A,#0xa
        MOV     A,R1
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        JC      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  826                       {  nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 8,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 9,A
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        PUSH    ?V0 + 8
          CFI CFA_SP SP+-1
        PUSH    ?V0 + 9
          CFI CFA_SP SP+-2
        PUSH    ?V0 + 10
          CFI CFA_SP SP+-3
        PUSH    ?V0 + 11
          CFI CFA_SP SP+-4
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_3dcccccd
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        POP     ?V0 + 11
          CFI CFA_SP SP+-3
        POP     ?V0 + 10
          CFI CFA_SP SP+-2
        POP     ?V0 + 9
          CFI CFA_SP SP+-1
        POP     ?V0 + 8
          CFI CFA_SP SP+0
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        PUSH    ?V0 + 8
          CFI CFA_SP SP+-1
        PUSH    ?V0 + 9
          CFI CFA_SP SP+-2
        PUSH    ?V0 + 10
          CFI CFA_SP SP+-3
        PUSH    ?V0 + 11
          CFI CFA_SP SP+-4
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x6
        MOV     DPL,A
        MOV     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_3c23d70a
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        POP     ?V0 + 11
          CFI CFA_SP SP+-3
        POP     ?V0 + 10
          CFI CFA_SP SP+-2
        POP     ?V0 + 9
          CFI CFA_SP SP+-1
        POP     ?V0 + 8
          CFI CFA_SP SP+0
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        MOV     ?V0 + 4,?V0 + 8
        MOV     ?V0 + 5,?V0 + 9
        MOV     ?V0 + 6,?V0 + 10
        MOV     ?V0 + 7,?V0 + 11
//  827                           
//  828                            switch (index)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#-0x31
        JZ      ??SampleApp_QuadrotorMSGCB_14
        DEC     A
        JZ      ??SampleApp_QuadrotorMSGCB_15
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_16 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_17 & 0xFFFF
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  829                            {  
//  830                                 case '1':
//  831                                  {
//  832                                      moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
??SampleApp_QuadrotorMSGCB_14:
        ; Setup parameters for call to function moving_average_f
        MOV     ?V0 + 8,#nValue & 0xff
        MOV     ?V0 + 9,#(nValue >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 8,#nindex1 & 0xff
        MOV     ?V0 + 9,#(nindex1 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 8,#pernBuf1 & 0xff
        MOV     ?V0 + 9,#(pernBuf1 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     R4,?V0 + 6
        MOV     R5,?V0 + 7
        LCALL   ??moving_average_f?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  833                                    
//  834                                   
//  835                                    break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  836                                  }
//  837                                 case '2':
//  838                                  {
//  839 
//  840                                       moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
??SampleApp_QuadrotorMSGCB_15:
        ; Setup parameters for call to function moving_average_f
        MOV     ?V0 + 8,#(nValue + 4) & 0xff
        MOV     ?V0 + 9,#((nValue + 4) >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 8,#nindex2 & 0xff
        MOV     ?V0 + 9,#(nindex2 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 8,#pernBuf2 & 0xff
        MOV     ?V0 + 9,#(pernBuf2 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     R4,?V0 + 6
        MOV     R5,?V0 + 7
        LCALL   ??moving_average_f?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  841                                    break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  842                                  }
//  843                                  case '3':
//  844                                  {
//  845                                    moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
??SampleApp_QuadrotorMSGCB_16:
        ; Setup parameters for call to function moving_average_f
        MOV     ?V0 + 8,#(nValue + 8) & 0xff
        MOV     ?V0 + 9,#((nValue + 8) >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 8,#nindex3 & 0xff
        MOV     ?V0 + 9,#(nindex3 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 8,#pernBuf3 & 0xff
        MOV     ?V0 + 9,#(pernBuf3 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     R4,?V0 + 6
        MOV     R5,?V0 + 7
        LCALL   ??moving_average_f?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  846                                    break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  847                                  }
//  848                                  case '4':
//  849                                  {
//  850                                     moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
??SampleApp_QuadrotorMSGCB_17:
        ; Setup parameters for call to function moving_average_f
        MOV     ?V0 + 8,#(nValue + 12) & 0xff
        MOV     ?V0 + 9,#((nValue + 12) >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     ?V0 + 8,#nindex4 & 0xff
        MOV     ?V0 + 9,#(nindex4 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 8,#pernBuf4 & 0xff
        MOV     ?V0 + 9,#(pernBuf4 >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     R4,?V0 + 6
        MOV     R5,?V0 + 7
        LCALL   ??moving_average_f?relay
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
//  851                                    break;
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  852                                          }
//  853                                 break;
//  854                             }
//  855                           }
//  856                      }
//  857         else if (alphaindex=='O')
??SampleApp_QuadrotorMSGCB_13:
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x4f
        JZ      $+5
        LJMP    ??SampleApp_QuadrotorMSGCB_0 & 0xFFFF
//  858         {
//  859           HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  860            byte oindex;
//  861            float plus;
//  862               oindex=*(pkt->cmd.Data+1);
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  863               if (*(pkt->cmd.Data+2)=='+')
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x2b
        JNZ     ??SampleApp_QuadrotorMSGCB_18
//  864               {
//  865                  plus=1;
        MOV     R0,#0x0
        MOV     R1,#0x0
        MOV     R2,#-0x80
        MOV     R3,#0x3f
        MOV     ?V0 + 4,R0
        MOV     ?V0 + 5,R1
        MOV     ?V0 + 6,R2
        MOV     ?V0 + 7,R3
        SJMP    ??SampleApp_QuadrotorMSGCB_19
//  866               }
//  867               else
//  868               {
//  869                 plus=-1;
??SampleApp_QuadrotorMSGCB_18:
        MOV     R0,#0x0
        MOV     R1,#0x0
        MOV     R2,#-0x80
        MOV     R3,#-0x41
        MOV     ?V0 + 4,R0
        MOV     ?V0 + 5,R1
        MOV     ?V0 + 6,R2
        MOV     ?V0 + 7,R3
//  870               }
//  871               offseta=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
??SampleApp_QuadrotorMSGCB_19:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 8,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 9,A
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 12
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_MUL
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        PUSH    ?V0 + 8
          CFI CFA_SP SP+-1
        PUSH    ?V0 + 9
          CFI CFA_SP SP+-2
        PUSH    ?V0 + 10
          CFI CFA_SP SP+-3
        PUSH    ?V0 + 11
          CFI CFA_SP SP+-4
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        XCH     A,R0
        ADD     A,#0x6
        MOV     DPL,A
        MOV     A,R0
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        ADD     A,#-0x30
        MOV     ?V0 + 12,A
        MOV     A,R1
        ADDC    A,#-0x1
        MOV     ?V0 + 13,A
        MOV     A,?V0 + 13
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 14,A
        MOV     ?V0 + 15,A
        MOV     R0,#?V0 + 12
        LCALL   ?L_TO_FLT
        MOV     DPTR,#__Constant_3dcccccd
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        POP     ?V0 + 11
          CFI CFA_SP SP+-3
        POP     ?V0 + 10
          CFI CFA_SP SP+-2
        POP     ?V0 + 9
          CFI CFA_SP SP+-1
        POP     ?V0 + 8
          CFI CFA_SP SP+0
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 12
        LCALL   ?FLT_ADD
        MOV     ?V0 + 0,?V0 + 8
        MOV     ?V0 + 1,?V0 + 9
        MOV     ?V0 + 2,?V0 + 10
        MOV     ?V0 + 3,?V0 + 11
//  872             
//  873                   if (oindex=='1')
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x31
        JNZ     ??SampleApp_QuadrotorMSGCB_20
//  874                           {
//  875                                   OffsetAValue[0]=plus*offseta;
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
        MOV     DPTR,#OffsetAValue
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
        SJMP    ??SampleApp_QuadrotorMSGCB_0
//  876                                  
//  877                            }
//  878                    else if (oindex=='2')
??SampleApp_QuadrotorMSGCB_20:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x32
        JNZ     ??SampleApp_QuadrotorMSGCB_21
//  879                           {
//  880                                   OffsetAValue[1]=plus*offseta;
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
        MOV     DPTR,#OffsetAValue + 4
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
        SJMP    ??SampleApp_QuadrotorMSGCB_0
//  881                                  
//  882                            }
//  883                    else  if (oindex=='3')
??SampleApp_QuadrotorMSGCB_21:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x33
        JNZ     ??SampleApp_QuadrotorMSGCB_22
//  884                           {
//  885                                   OffsetAValue[2]=plus*offseta;
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
        MOV     DPTR,#OffsetAValue + 8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
        SJMP    ??SampleApp_QuadrotorMSGCB_0
//  886                                  
//  887                            }
//  888                     else if (oindex=='4')
??SampleApp_QuadrotorMSGCB_22:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x34
        JNZ     ??SampleApp_QuadrotorMSGCB_0
//  889                           {
//  890                                   OffsetAValue[3]=plus*offseta;
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
        MOV     DPTR,#OffsetAValue + 12
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  891                                  
//  892                            }
//  893             
//  894               
//  895         }
//  896      }
//  897       
//  898  
//  899  
//  900   }
//  901 
//  902 }
??SampleApp_QuadrotorMSGCB_0:
        MOV     A,#0x6
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R7,#0x10
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock4
//  903 
//  904 /*********************************************************************
//  905  * @fn      SampleApp_Tester_calibrationMSGCB
//  906  *
//  907  * @brief   Data message processor callback.  This function processes
//  908  *          any incoming data - probably from other devices.  So, based
//  909  *          on cluster ID, perform the intended action.
//  910  *
//  911  * @param   none
//  912  *
//  913  * @return  none
//  914  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  915 void SampleApp_Tester_calibrationMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
SampleApp_Tester_calibrationMSGCB:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function SampleApp_Tester_calibrationMSGCB
        CODE
//  916 {
        FUNCALL SampleApp_Tester_calibrationMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Tester_calibrationMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Tester_calibrationMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Tester_calibrationMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Tester_calibrationMSGCB, HalUARTWrite
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x14
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 20)
        ; Saved register size: 20
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  917 
//  918   switch ( pkt->clusterId )
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        MOV     R0,#?V0 + 0
        LCALL   ?US_SWITCH_DENSE
`?<Jumptable for SampleApp_Tester_calibrationMS_0`:
        DATA
        DATA16
        DATA
        DATA16
        DW        1
        DATA
        DATA8
        DATA
        DATA8
        DB        1
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_Tester_calibrationMSGCB_0
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_Tester_calibrationMSGCB_1
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_Tester_calibrationMSGCB_2
        CODE
//  919   {
//  920     case SAMPLEAPP_PERIODIC_CLUSTERID:
//  921       { 
//  922         //printRSSIandLQI(pkt,0);
//  923        //  int8 rssivalue;
//  924       //  HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
//  925         byte index;
//  926         index=*(pkt->cmd.Data+1);
??SampleApp_Tester_calibrationMSGCB_1:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
//  927         rssivalue=(0xff-pkt->rssi);
        MOV     A,R6
        ADD     A,#0x18
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     A,#-0x1
        CLR     C
        SUBB    A,R0
        MOV     DPTR,#rssivalue
        MOVX    @DPTR,A
//  928         
//  929         switch (index)
        MOV     A,?V0 + 0
        ADD     A,#-0x31
        JZ      ??SampleApp_Tester_calibrationMSGCB_3
        DEC     A
        JZ      ??SampleApp_Tester_calibrationMSGCB_4
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_Tester_calibrationMSGCB_5 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_Tester_calibrationMSGCB_6 & 0xFFFF
        LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
//  930         {
//  931             case '1':
//  932               {
//  933 
//  934                 moving_average(rssivalue, perRssiBuf1, 11, imof1, &RssiValue[0]);
??SampleApp_Tester_calibrationMSGCB_3:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 2,#RssiValue & 0xff
        MOV     ?V0 + 3,#(RssiValue >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0 + 2,#imof1 & 0xff
        MOV     ?V0 + 3,#(imof1 >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R4,#0xb
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf1 & 0xff
        MOV     R3,#(perRssiBuf1 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  935                 if (DeviceID==6)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_Tester_calibrationMSGCB_7
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_Tester_calibrationMSGCB_7:
        JNZ     ??SampleApp_Tester_calibrationMSGCB_8
//  936                 {       
//  937                   OffsetAValue[0]=RssiValue[0]-RefAValue[0];
        MOV     DPTR,#RssiValue
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     DPTR,#RefAValue
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#OffsetAValue
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  938                 }
//  939               }
//  940             
//  941                   break;
??SampleApp_Tester_calibrationMSGCB_8:
        LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
//  942             case '2':
//  943               {
//  944                  moving_average(rssivalue, perRssiBuf2, 11, imof2, &RssiValue[1]);
??SampleApp_Tester_calibrationMSGCB_4:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 2,#(RssiValue + 4) & 0xff
        MOV     ?V0 + 3,#((RssiValue + 4) >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0 + 2,#imof2 & 0xff
        MOV     ?V0 + 3,#(imof2 >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R4,#0xb
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf2 & 0xff
        MOV     R3,#(perRssiBuf2 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  945                  if (DeviceID==6)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_Tester_calibrationMSGCB_9
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_Tester_calibrationMSGCB_9:
        JNZ     ??SampleApp_Tester_calibrationMSGCB_10
//  946                 {       
//  947                   OffsetAValue[1]=RssiValue[1]-RefAValue[1];
        MOV     DPTR,#RssiValue + 4
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     DPTR,#RefAValue + 4
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#OffsetAValue + 4
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  948                 }
//  949               }
//  950                   break;
??SampleApp_Tester_calibrationMSGCB_10:
        LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
//  951             case '3':
//  952               {
//  953                  moving_average(rssivalue, perRssiBuf3, 11, imof3, &RssiValue[2]);
??SampleApp_Tester_calibrationMSGCB_5:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 2,#(RssiValue + 8) & 0xff
        MOV     ?V0 + 3,#((RssiValue + 8) >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0 + 2,#imof3 & 0xff
        MOV     ?V0 + 3,#(imof3 >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R4,#0xb
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf3 & 0xff
        MOV     R3,#(perRssiBuf3 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  954                  if (DeviceID==6)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_Tester_calibrationMSGCB_11
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_Tester_calibrationMSGCB_11:
        JNZ     ??SampleApp_Tester_calibrationMSGCB_12
//  955                 {       
//  956                   OffsetAValue[2]=RssiValue[2]-RefAValue[2];
        MOV     DPTR,#RssiValue + 8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     DPTR,#RefAValue + 8
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#OffsetAValue + 8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  957                 }
//  958               }
//  959                   break;
        SJMP    ??SampleApp_Tester_calibrationMSGCB_12
//  960             case '4':
//  961               {
//  962                  moving_average(rssivalue, perRssiBuf4, 11, imof4, &RssiValue[3]);
??SampleApp_Tester_calibrationMSGCB_6:
        ; Setup parameters for call to function moving_average
        MOV     ?V0 + 2,#(RssiValue + 12) & 0xff
        MOV     ?V0 + 3,#((RssiValue + 12) >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     ?V0 + 2,#imof4 & 0xff
        MOV     ?V0 + 3,#(imof4 >> 8) & 0xff
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R4,#0xb
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf4 & 0xff
        MOV     R3,#(perRssiBuf4 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  963                  if (DeviceID==6)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,#0x6
        JNZ     ??SampleApp_Tester_calibrationMSGCB_13
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??SampleApp_Tester_calibrationMSGCB_13:
        JNZ     ??SampleApp_Tester_calibrationMSGCB_0
//  964                 {       
//  965                   OffsetAValue[3]=RssiValue[3]-RefAValue[3];
        MOV     DPTR,#RssiValue + 12
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     DPTR,#RefAValue + 12
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#OffsetAValue + 12
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_TO_X
//  966                 }
//  967               }
//  968                   break;    
//  969             default:
//  970             
//  971                    break;
//  972          }
//  973         break;
??SampleApp_Tester_calibrationMSGCB_12:
        SJMP    ??SampleApp_Tester_calibrationMSGCB_0
//  974       }
//  975        case CALBRATION_N_CLUSTERID:
//  976          {
//  977           // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
//  978            byte alphaindex;
//  979         alphaindex=*(pkt->cmd.Data);
??SampleApp_Tester_calibrationMSGCB_2:
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
//  980           if(alphaindex=='O')  // test signal from test anchor
        MOV     A,#0x4f
        XRL     A,?V0 + 0
        JNZ     ??SampleApp_Tester_calibrationMSGCB_0
//  981          {
//  982           HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
        ; Setup parameters for call to function HalUARTWrite
        MOV     A,R6
        ADD     A,#0x1f
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,#0x0
        LCALL   ??HalUARTWrite?relay
//  983          }
//  984          }
//  985      
//  986    
//  987   }
//  988 
//  989 }
??SampleApp_Tester_calibrationMSGCB_0:
        MOV     R7,#0xc
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock5
//  990 
//  991 
//  992 /*********************************************************************
//  993  * @fn      SampleApp_AnchorMSGCB
//  994  *
//  995  * @brief   Data message processor callback.  This function processes
//  996  *          any incoming data - probably from other devices.  So, based
//  997  *          on cluster ID, perform the intended action.
//  998  *
//  999  * @param   none
// 1000  *
// 1001  * @return  none
// 1002  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1003 void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
SampleApp_AnchorMSGCB:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function SampleApp_AnchorMSGCB
        CODE
// 1004 {
        FUNCALL SampleApp_AnchorMSGCB, printRSSIandLQI
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_AnchorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_AnchorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_AnchorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_AnchorMSGCB, moving_average
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
// 1005  // float avalue=0.0f;
// 1006   int switchindex;
// 1007   switch ( pkt->clusterId )
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        MOV     R0,#?V0 + 4
        LCALL   ?US_SWITCH_DENSE
`?<Jumptable for SampleApp_AnchorMSGCB>_0`:
        DATA
        DATA16
        DATA
        DATA16
        DW        1
        DATA
        DATA8
        DATA
        DATA8
        DB        1
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_AnchorMSGCB_0
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_AnchorMSGCB_1
        DATA
        DATA16
        DATA
        DATA16
        DW        ??SampleApp_AnchorMSGCB_0
        CODE
// 1008   {
// 1009     case SAMPLEAPP_PERIODIC_CLUSTERID:
// 1010       { 
// 1011         
// 1012         
// 1013        
// 1014         
// 1015         byte index;
// 1016         index=*(pkt->cmd.Data+1);
??SampleApp_AnchorMSGCB_1:
        MOV     A,?V0 + 0
        ADD     A,#0x21
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
// 1017         rssivalue=(0xff-pkt->rssi);
        MOV     A,?V0 + 0
        ADD     A,#0x18
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     A,#-0x1
        CLR     C
        SUBB    A,R0
        MOV     DPTR,#rssivalue
        MOVX    @DPTR,A
// 1018         
// 1019         switch (index)
        MOV     A,?V0 + 2
        ADD     A,#-0x31
        JZ      ??SampleApp_AnchorMSGCB_2
        DEC     A
        JZ      ??SampleApp_AnchorMSGCB_3
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_AnchorMSGCB_4 & 0xFFFF
        DEC     A
        JNZ     $+5
        LJMP    ??SampleApp_AnchorMSGCB_5 & 0xFFFF
        LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
// 1020         {
// 1021             case '1':
// 1022               {
// 1023                 printRSSIandLQI(pkt,1);
??SampleApp_AnchorMSGCB_2:
        ; Setup parameters for call to function printRSSIandLQI
        MOV     R4,#0x1
        MOV     R5,#0x0
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??printRSSIandLQI?relay
// 1024                 //moving average filter
// 1025                 switchindex=1;
        MOV     R6,#0x1
        MOV     R7,#0x0
// 1026                 if(DeviceID!=switchindex)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,R6
        JNZ     ??SampleApp_AnchorMSGCB_6
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R7
??SampleApp_AnchorMSGCB_6:
        JZ      ??SampleApp_AnchorMSGCB_7
// 1027                   {moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[switchindex-1]);
        ; Setup parameters for call to function moving_average
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(RssiValue + 252) & 0xff
        ADD     A,R0
        MOV     ?V0 + 4,A
        MOV     A,#((RssiValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V0 + 5,A
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 4,#imof1 & 0xff
        MOV     ?V0 + 5,#(imof1 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf1 & 0xff
        MOV     R3,#(perRssiBuf1 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1028                     // anchor to calibrate n
// 1029 //                    if( (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,nValue,
// 1030 //                                                        AnchorX,AnchorY,AnchorZ,AValue))<10)  //usually n is smaller than 10
// 1031 //                       {SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
// 1032                     // anchor to calibrate A
// 1033   //                  if(AValue[switchindex-1]=calibrationA(DeviceID,switchindex,RssiValue,nValue,
// 1034   //                                                        AnchorX,AnchorY,AnchorZ,AValue))
// 1035   //                  {
// 1036   //                      SampleApp_Router_calibrationAMessage(switchindex,AValue[switchindex-1];
// 1037   //                  }
// 1038                 }
// 1039               }
// 1040             
// 1041                   break;
??SampleApp_AnchorMSGCB_7:
        LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
// 1042             case '2':
// 1043               {
// 1044                 //moving average filter
// 1045                 switchindex=2;
??SampleApp_AnchorMSGCB_3:
        MOV     R6,#0x2
        MOV     R7,#0x0
// 1046                 if(DeviceID!=switchindex)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,R6
        JNZ     ??SampleApp_AnchorMSGCB_8
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R7
??SampleApp_AnchorMSGCB_8:
        JZ      ??SampleApp_AnchorMSGCB_9
// 1047                 {
// 1048                 moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[switchindex-1]);
        ; Setup parameters for call to function moving_average
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(RssiValue + 252) & 0xff
        ADD     A,R0
        MOV     ?V0 + 4,A
        MOV     A,#((RssiValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V0 + 5,A
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 4,#imof2 & 0xff
        MOV     ?V0 + 5,#(imof2 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf2 & 0xff
        MOV     R3,#(perRssiBuf2 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1049 //                    if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
// 1050 //                                                             nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
// 1051 //                   { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
// 1052 //                    }
// 1053               }
// 1054                   break;
??SampleApp_AnchorMSGCB_9:
        LJMP    ??SampleApp_AnchorMSGCB_0 & 0xFFFF
// 1055             case '3':
// 1056               {
// 1057                  //moving average filter
// 1058                 switchindex=3;
??SampleApp_AnchorMSGCB_4:
        MOV     R6,#0x3
        MOV     R7,#0x0
// 1059                 if(DeviceID!=switchindex)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,R6
        JNZ     ??SampleApp_AnchorMSGCB_10
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R7
??SampleApp_AnchorMSGCB_10:
        JZ      ??SampleApp_AnchorMSGCB_11
// 1060                 {
// 1061                 moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[switchindex-1]);
        ; Setup parameters for call to function moving_average
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(RssiValue + 252) & 0xff
        ADD     A,R0
        MOV     ?V0 + 4,A
        MOV     A,#((RssiValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V0 + 5,A
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 4,#imof3 & 0xff
        MOV     ?V0 + 5,#(imof3 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf3 & 0xff
        MOV     R3,#(perRssiBuf3 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1062 //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
// 1063 //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
// 1064 //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
// 1065                 }
// 1066               }
// 1067                   break;
??SampleApp_AnchorMSGCB_11:
        SJMP    ??SampleApp_AnchorMSGCB_0
// 1068             case '4':
// 1069               {
// 1070                  //moving average filter
// 1071                 switchindex=4;
??SampleApp_AnchorMSGCB_5:
        MOV     R6,#0x4
        MOV     R7,#0x0
// 1072                 if(DeviceID!=switchindex)
        MOV     DPTR,#DeviceID
        MOVX    A,@DPTR
        XRL     A,R6
        JNZ     ??SampleApp_AnchorMSGCB_12
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R7
??SampleApp_AnchorMSGCB_12:
        JZ      ??SampleApp_AnchorMSGCB_0
// 1073                 {
// 1074                 moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[switchindex-1]);
        ; Setup parameters for call to function moving_average
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(RssiValue + 252) & 0xff
        ADD     A,R0
        MOV     ?V0 + 4,A
        MOV     A,#((RssiValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     ?V0 + 5,A
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 4,#imof4 & 0xff
        MOV     ?V0 + 5,#(imof4 >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 18)
        MOV     R4,#0x1f
        MOV     R5,#0x0
        MOV     R2,#perRssiBuf4 & 0xff
        MOV     R3,#(perRssiBuf4 >> 8) & 0xff
        MOV     DPTR,#rssivalue
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??moving_average?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 14)
// 1075 //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
// 1076 //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
// 1077 //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
// 1078                 }
// 1079               }
// 1080                   break;    
// 1081             default:
// 1082             
// 1083                    break;
// 1084          }
// 1085         break;
// 1086       }
// 1087 
// 1088            case CALBRATION_N_CLUSTERID:
// 1089       {
// 1090         //HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
// 1091 //        byte alphaindex;
// 1092 //        alphaindex=*(pkt->cmd.Data);
// 1093 //        if(alphaindex=='A')    
// 1094 //         {  
// 1095 //              byte index;
// 1096 //              index=*(pkt->cmd.Data+1);
// 1097 //              
// 1098 //              avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
// 1099 //              if(avalue>0)   
// 1100 //              {
// 1101 //                  switch (index)
// 1102 //                       case '1':
// 1103 //                          {
// 1104 //                                  AValue[0]=avalue;
// 1105 //                                  break;
// 1106 //                           }
// 1107 //                       case '2':
// 1108 //                          {
// 1109 //                                  AValue[1]=avalue;
// 1110 //                                  break;
// 1111 //                           }
// 1112 //                       case '3':
// 1113 //                          {
// 1114 //                                  AValue[2]=avalue;
// 1115 //                                  break;
// 1116 //                           }
// 1117 //                       case '4':
// 1118 //                          {
// 1119 //                                  AValue[3]=avalue;
// 1120 //                                  break;
// 1121 //                           }
// 1122 //            
// 1123 //                  break;
// 1124 //              }
// 1125 //         } 
// 1126 //               else if(alphaindex=='N')
// 1127 //             {
// 1128 //                      byte index;
// 1129 //                      index=*(pkt->cmd.Data+1);
// 1130 //                      float nvalue;
// 1131 ////                      float tempn=0.0f;
// 1132 //                      
// 1133 //                      if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
// 1134 //                      {  
// 1135 //                        
// 1136 //                        nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
// 1137 //                          
// 1138 //                           switch (index)
// 1139 //                           {  
// 1140 //                                case '1':
// 1141 //                                 {
// 1142 //                                     moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
// 1143 //                                   break;
// 1144 //                                 }
// 1145 //                                case '2':
// 1146 //                                 {
// 1147 //                                      moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
// 1148 //                                   break;
// 1149 //                                 }
// 1150 //                                 case '3':
// 1151 //                                 {
// 1152 //                                      moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
// 1153 //                                   break;
// 1154 //                                 }
// 1155 //                                 case '4':
// 1156 //                                 {
// 1157 //                                      moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
// 1158 //                                   break;
// 1159 //                                         }
// 1160 //                                break;
// 1161 //                            }
// 1162 //                          }
// 1163                }
// 1164         break;
// 1165          }
// 1166   }
// 1167 
// 1168 }
??SampleApp_AnchorMSGCB_0:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock6
// 1169 /*********************************************************************
// 1170  * @fn      SampleApp_SendPeriodicMessage
// 1171  *
// 1172  * @brief   Send the periodic message.
// 1173  *
// 1174  * @param   none
// 1175  *
// 1176  * @return  none
// 1177  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1178 void SampleApp_Router_SendPeriodicMessage( int index )
SampleApp_Router_SendPeriodicMessage:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function SampleApp_Router_SendPeriodicMessage
        CODE
// 1179 {
        FUNCALL SampleApp_Router_SendPeriodicMessage, osal_strlen
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Router_SendPeriodicMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1180     
// 1181   // Router broadcast to everyone
// 1182   SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
        MOV     A,#0xf
        MOVX    @DPTR,A
// 1183   SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1184   SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
        MOV     A,#-0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#-0x1
        MOVX    @DPTR,A
// 1185   
// 1186   uint8 data[2]="A";
        MOV     DPTR,#`?<Constant "A">`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x2
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1187   data[1]=0x30+index;
        MOV     A,R6
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1188   if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
// 1189                        SAMPLEAPP_PERIODIC_CLUSTERID,
// 1190                        osal_strlen("A1"),
// 1191                        data,
// 1192                        &SampleApp_TransID,
// 1193                        AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
// 1194                        1//AF_DEFAULT_RADIUS 
// 1195                         ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 13)
        MOV     ?V0 + 0,#SampleApp_TransID & 0xff
        MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 15)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 17)
        ; Setup parameters for call to function osal_strlen
        MOV     R2,#`?<Constant "A1">` & 0xff
        MOV     R3,#(`?<Constant "A1">` >> 8) & 0xff
        LCALL   ??osal_strlen?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 19)
        MOV     ?V0 + 0,#0x1
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     R1,#-0x80
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
        MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 12)
        MOV     A,R1
// 1196   {
// 1197   }
// 1198   else
// 1199   {
// 1200     // Error occurred in request to send.
// 1201   }
// 1202 }
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock7
// 1203 
// 1204 /*********************************************************************
// 1205  * @fn      SampleApp_Router_calibrationNMessage
// 1206  *
// 1207  * @brief   Send the periodic message.
// 1208  *
// 1209  * @param   none
// 1210  *
// 1211  * @return  none
// 1212  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1213 void SampleApp_Router_calibrationNMessage( int index , float nvalue )
SampleApp_Router_calibrationNMessage:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function SampleApp_Router_calibrationNMessage
        CODE
// 1214 {
        FUNCALL SampleApp_Router_calibrationNMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 39, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 39, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x16
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 22)
        ; Saved register size: 22
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     ?V0 + 12,R2
        MOV     ?V0 + 13,R3
        MOV     A,#0x1e
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
// 1215     
// 1216   // Router broadcast to everyone
// 1217 //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
// 1218 //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
// 1219 //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
// 1220   SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1221   SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1222   SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1223  
// 1224 
// 1225  
// 1226   float tempn=nvalue;  
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        MOV     ?V0 + 2,?V0 + 6
        MOV     ?V0 + 3,?V0 + 7
// 1227   if(nvalue>0)
        MOV     DPTR,#__Constant_1
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_GE
        JC      $+5
        LJMP    ??SampleApp_Router_calibrationNMessage_0 & 0xFFFF
// 1228   {
// 1229           uint8 data[8]="N";
        MOV     DPTR,#`?<Constant "N">`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x8
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1230           data[1]=0x30+index;
        MOV     A,?V0 + 12
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1231 
// 1232           data[2]=':';
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x3a
        MOVX    @DPTR,A
// 1233           
// 1234           uint8 number8;
// 1235           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 0
        MOV     ?V0 + 9,?V0 + 1
        MOV     ?V0 + 10,?V0 + 2
        MOV     ?V0 + 11,?V0 + 3
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     R6,?V0 + 8
// 1236           data[3]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1237           data[4]='.';
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1238           tempn=10*(tempn-(float)number8);
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
// 1239           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 0
        MOV     ?V0 + 9,?V0 + 1
        MOV     ?V0 + 10,?V0 + 2
        MOV     ?V0 + 11,?V0 + 3
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     R6,?V0 + 8
// 1240           data[5]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1241           tempn=10*(tempn-(float)number8);
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
// 1242           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 0
        MOV     ?V0 + 9,?V0 + 1
        MOV     ?V0 + 10,?V0 + 2
        MOV     ?V0 + 11,?V0 + 3
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     R6,?V0 + 8
// 1243           data[6]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1244           data[7]='\n';
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xa
        MOVX    @DPTR,A
// 1245                       
// 1246           
// 1247           if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
// 1248                                CALBRATION_N_CLUSTERID,
// 1249                                8,//osal_strlen("A1")+1,
// 1250                                data,
// 1251                                &SampleApp_TransID,
// 1252                                AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
// 1253                                1//AF_DEFAULT_RADIUS 
// 1254                                 ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 8,#0x1
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 31)
        MOV     ?V0 + 8,#SampleApp_TransID & 0xff
        MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 8,DPL
        MOV     ?V0 + 9,DPH
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 35)
        MOV     ?V0 + 8,#0x8
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 37)
        MOV     ?V0 + 8,#0x2
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 39)
        MOV     R1,#0x20
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
        MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     A,R1
// 1255           {
// 1256           }
// 1257           else
// 1258           {
// 1259             // Error occurred in request to send.
// 1260           }
// 1261   }
// 1262 }
??SampleApp_Router_calibrationNMessage_0:
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R7,#0xe
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock8
// 1263 
// 1264 /*********************************************************************
// 1265  * @fn      SampleApp_Router_calibrationAMessage
// 1266  *
// 1267  * @brief   Send the periodic message.
// 1268  *
// 1269  * @param   none
// 1270  *
// 1271  * @return  none
// 1272  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1273 void SampleApp_Router_calibrationAMessage( int index , float avalue )
SampleApp_Router_calibrationAMessage:
          CFI Block cfiBlock9 Using cfiCommon0
          CFI Function SampleApp_Router_calibrationAMessage
        CODE
// 1274 {
        FUNCALL SampleApp_Router_calibrationAMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 42, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x18
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V15 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-24)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 24)
        ; Saved register size: 24
        ; Auto size: 9
        MOV     A,#-0x9
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     A,#0x21
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
// 1275     
// 1276   // Router broadcast to everyone
// 1277 //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
// 1278 //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
// 1279 //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
// 1280   SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1281   SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1282   SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1283  
// 1284 
// 1285  
// 1286   float tempn=avalue;  
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
// 1287   if(avalue>0)
        MOV     DPTR,#__Constant_1
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_GE
        JC      $+5
        LJMP    ??SampleApp_Router_calibrationAMessage_0 & 0xFFFF
// 1288   {
// 1289           uint8 data[7]="A";
        MOV     DPTR,#`?<Constant "A">_1`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x7
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1290          data[1]=0x30+index;
        MOV     A,R6
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1291 
// 1292           data[2]=':';
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x3a
        MOVX    @DPTR,A
// 1293           
// 1294           uint8 number8;
// 1295           number8=(uint8)(tempn/10);
        MOV     ?V0 + 12,?V0 + 4
        MOV     ?V0 + 13,?V0 + 5
        MOV     ?V0 + 14,?V0 + 6
        MOV     ?V0 + 15,?V0 + 7
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_DIV
        MOV     R0,#?V0 + 12
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 12
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 12
        MOVX    @DPTR,A
// 1296           data[3]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1297           number8=(uint8)(((int)tempn)%10);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     R0,?V0 + 8
        MOV     R1,?V0 + 9
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ?S_DIV_MOD
        MOV     A,R2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
// 1298           data[4]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1299           data[5]='.';
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1300           tempn=10*(tempn-(int)tempn);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
// 1301           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 8
        MOVX    @DPTR,A
// 1302           data[6]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1303                       
// 1304           
// 1305           if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
// 1306                                CALBRATION_N_CLUSTERID,
// 1307                                7,//osal_strlen("A1")+1,
// 1308                                data,
// 1309                                &SampleApp_TransID,
// 1310                                AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
// 1311                                1//AF_DEFAULT_RADIUS 
// 1312                                 ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 8,#0x1
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#SampleApp_TransID & 0xff
        MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 8,DPL
        MOV     ?V0 + 9,DPH
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0 + 8,#0x2
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 42)
        MOV     R1,#0x20
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
        MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1313           {
// 1314           }
// 1315           else
// 1316           {
// 1317             // Error occurred in request to send.
// 1318           }
// 1319   }
// 1320 }
??SampleApp_Router_calibrationAMessage_0:
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R7,#0x10
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock9
// 1321 
// 1322 
// 1323 /*********************************************************************
// 1324  * @fn      SampleApp_Tester_calibrationAMessage
// 1325  *
// 1326  * @brief   single tester to verify the parameter A -- out of stage
// 1327  *
// 1328  * @param   none
// 1329  *
// 1330  * @return  none
// 1331  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1332 void SampleApp_Tester_calibrationAMessage( int index , float A )
SampleApp_Tester_calibrationAMessage:
          CFI Block cfiBlock10 Using cfiCommon0
          CFI Function SampleApp_Tester_calibrationAMessage
        CODE
// 1333 {
        FUNCALL SampleApp_Tester_calibrationAMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 42, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 42, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x18
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V15 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-24)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 24)
        ; Saved register size: 24
        ; Auto size: 9
        MOV     A,#-0x9
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     A,#0x21
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
// 1334 //    SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
// 1335 //  SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
// 1336 //  SampleApp_Tester_DstAddr.addr.shortAddr = 0xFFFF;
// 1337     
// 1338   SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Tester_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1339   SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Tester_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1340   SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Tester_DstAddr
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1341  
// 1342 
// 1343 
// 1344   float tempn=A;  
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
// 1345   if(A>=0)
        MOV     DPTR,#__Constant_0
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_GE
        JC      $+5
        LJMP    ??SampleApp_Tester_calibrationAMessage_0 & 0xFFFF
// 1346   {
// 1347           uint8 data[7]="A";
        MOV     DPTR,#`?<Constant "A">_2`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x7
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1348           data[1]=0x30+index;
        MOV     A,R6
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1349 
// 1350           data[2]=':';
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x3a
        MOVX    @DPTR,A
// 1351           
// 1352           uint8 number8;
// 1353           number8=(uint8)(tempn/10);
        MOV     ?V0 + 12,?V0 + 4
        MOV     ?V0 + 13,?V0 + 5
        MOV     ?V0 + 14,?V0 + 6
        MOV     ?V0 + 15,?V0 + 7
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_DIV
        MOV     R0,#?V0 + 12
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 12
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 12
        MOVX    @DPTR,A
// 1354           data[3]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1355           number8=(uint8)(((int)tempn)%10);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     R0,?V0 + 8
        MOV     R1,?V0 + 9
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ?S_DIV_MOD
        MOV     A,R2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
// 1356           data[4]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1357           data[5]='.';
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1358           tempn=10*(tempn-(int)tempn);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
// 1359           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 8
        MOVX    @DPTR,A
// 1360           data[6]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1361                
// 1362           
// 1363           if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
// 1364                                CALBRATION_N_CLUSTERID,
// 1365                                7,//osal_strlen("A1")+1,
// 1366                                data,
// 1367                                &SampleApp_TransID,
// 1368                                AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
// 1369                                1//AF_DEFAULT_RADIUS 
// 1370                                 ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 8,#0x1
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 8,#SampleApp_TransID & 0xff
        MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 8,DPL
        MOV     ?V0 + 9,DPH
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     ?V0 + 8,#0x7
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0 + 8,#0x2
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 42)
        MOV     R1,#0x20
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Tester_DstAddr & 0xff
        MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 33)
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1371           {
// 1372           }
// 1373           else
// 1374           {
// 1375             // Error occurred in request to send.
// 1376           }
// 1377   }
// 1378 }
??SampleApp_Tester_calibrationAMessage_0:
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R7,#0x10
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock10
// 1379 
// 1380 
// 1381 /*********************************************************************
// 1382  * @fn      SampleApp_Tester_calibration_differentAMessage
// 1383  *
// 1384  * @brief   Send the periodic message.
// 1385  *
// 1386  * @param   none
// 1387  *
// 1388  * @return  none
// 1389  */
// 1390 

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1391 void SampleApp_Tester_calibration_differentAMessage( int index )
SampleApp_Tester_calibration_differentAMessage:
          CFI Block cfiBlock11 Using cfiCommon0
          CFI Function SampleApp_Tester_calibration_differentAMessage
        CODE
// 1392 {
        FUNCALL SampleApp_Tester_calibration_differentAMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 38, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 38, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x15
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 21)
        ; Saved register size: 21
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 1393     
// 1394   SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Tester_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1395   SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Tester_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1396   SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Tester_DstAddr
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1397   
// 1398   {
// 1399           
// 1400           uint8 data[8]="T";
        MOV     DPTR,#`?<Constant "T">`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x8
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1401           data[1]=0x30+index;
        MOV     A,R6
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1402 
// 1403           data[2]=':';
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x3a
        MOVX    @DPTR,A
// 1404           float tempn=RssiValue[index-1];
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(RssiValue + 252) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((RssiValue - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
// 1405           uint8 number8;
// 1406           number8=(uint8)(tempn/10);
        MOV     ?V0 + 8,?V0 + 0
        MOV     ?V0 + 9,?V0 + 1
        MOV     ?V0 + 10,?V0 + 2
        MOV     ?V0 + 11,?V0 + 3
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 8
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_DIV
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     ?V0 + 12,A
// 1407           data[3]=number8+'0';
        MOV     A,#0x30
        ADD     A,?V0 + 12
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1408           number8=(uint8)(((int)tempn)%10);
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
        MOV     R0,#?V0 + 4
        LCALL   ?FLT_TO_L
        MOV     R0,?V0 + 4
        MOV     R1,?V0 + 5
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ?S_DIV_MOD
        MOV     A,R2
        MOV     ?V0 + 12,A
// 1409           data[4]=number8+'0';
        MOV     A,#0x30
        ADD     A,?V0 + 12
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1410           data[5]='.';
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1411           tempn=10*(tempn-(int)tempn);
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
        MOV     R0,#?V0 + 4
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 5
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 6,A
        MOV     ?V0 + 7,A
        MOV     R0,#?V0 + 4
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 4
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 4
        LCALL   ?FLT_MUL
// 1412           number8=(uint8)tempn;
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
        MOV     R0,#?V0 + 4
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 4
        MOV     ?V0 + 12,A
// 1413           data[6]=number8+'0';
        MOV     A,#0x30
        ADD     A,?V0 + 12
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1414           data[7]='\n'; 
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xa
        MOVX    @DPTR,A
// 1415       
// 1416           
// 1417          // index++;
// 1418           
// 1419           if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
// 1420                                CALBRATION_N_CLUSTERID,
// 1421                                8,//osal_strlen("A1")+1,
// 1422                                data,
// 1423                                &SampleApp_TransID,
// 1424                                AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
// 1425                                1//AF_DEFAULT_RADIUS 
// 1426                                 ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 4,#0x1
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     ?V0 + 4,#SampleApp_TransID & 0xff
        MOV     ?V0 + 5,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 32)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 4,DPL
        MOV     ?V0 + 5,DPH
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     ?V0 + 4,#0x8
        MOV     ?V0 + 5,#0x0
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 36)
        MOV     ?V0 + 4,#0x2
        MOV     ?V0 + 5,#0x0
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 38)
        MOV     R1,#-0x80
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Tester_DstAddr & 0xff
        MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 29)
        MOV     A,R1
// 1427           {
// 1428           }
// 1429           else
// 1430           {
// 1431             // Error occurred in request to send.
// 1432           }
// 1433   }
// 1434 
// 1435 }
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 21)
        MOV     R7,#0xd
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock11
// 1436 
// 1437 /*********************************************************************
// 1438  * @fn      SampleApp_Tester_calibrationOffsetAMessage
// 1439  *
// 1440  * @brief   Send the periodic message.
// 1441  *
// 1442  * @param   none
// 1443  *
// 1444  * @return  none
// 1445  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1446 void SampleApp_Tester_calibrationOffsetAMessage( int index , float A )
SampleApp_Tester_calibrationOffsetAMessage:
          CFI Block cfiBlock12 Using cfiCommon0
          CFI Function SampleApp_Tester_calibrationOffsetAMessage
        CODE
// 1447 {
        FUNCALL SampleApp_Tester_calibrationOffsetAMessage, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 43, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 43, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x18
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V15 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V14 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-23)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-24)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 24)
        ; Saved register size: 24
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     A,#0x22
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
// 1448     
// 1449   SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Tester_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1450   SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Tester_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1451   SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Tester_DstAddr
        MOV     A,#0x1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1452  
// 1453 
// 1454 
// 1455   float tempn=A;  
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
// 1456   uint8 data[8]="O";
        MOV     DPTR,#`?<Constant "O">`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x8
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1457   uint8 number8;
// 1458   data[1]=0x30+index;
        MOV     A,R6
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1459   if(A>=0)
        MOV     DPTR,#__Constant_0
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_GE
        JNC     ??SampleApp_Tester_calibrationOffsetAMessage_0
// 1460   {
// 1461           data[2]='+'; 
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2b
        MOVX    @DPTR,A
        SJMP    ??SampleApp_Tester_calibrationOffsetAMessage_1
// 1462   } 
// 1463   else
// 1464   {
// 1465           tempn=-tempn;
??SampleApp_Tester_calibrationOffsetAMessage_0:
        XCH     A,?V0 + 7
        CPL     0xE0 /* A   */.7
        MOV     ?V0 + 7,A
// 1466           data[2]='-';
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2d
        MOVX    @DPTR,A
// 1467           
// 1468   }
// 1469   
// 1470           number8=(uint8)(tempn/10);
??SampleApp_Tester_calibrationOffsetAMessage_1:
        MOV     ?V0 + 12,?V0 + 4
        MOV     ?V0 + 13,?V0 + 5
        MOV     ?V0 + 14,?V0 + 6
        MOV     ?V0 + 15,?V0 + 7
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 12
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_DIV
        MOV     R0,#?V0 + 12
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 12
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 12
        MOVX    @DPTR,A
// 1471           data[3]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1472           number8=(uint8)(((int)tempn)%10);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     R0,?V0 + 8
        MOV     R1,?V0 + 9
        MOV     R2,#0xa
        MOV     R3,#0x0
        LCALL   ?S_DIV_MOD
        MOV     A,R2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
// 1473           data[4]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1474           data[5]='.';
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1475           tempn=10*(tempn-(int)tempn);
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 9
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?L_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
// 1476           number8=(uint8)tempn;
        MOV     ?V0 + 8,?V0 + 4
        MOV     ?V0 + 9,?V0 + 5
        MOV     ?V0 + 10,?V0 + 6
        MOV     ?V0 + 11,?V0 + 7
        MOV     R0,#?V0 + 8
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 8
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,?V0 + 8
        MOVX    @DPTR,A
// 1477           data[6]=number8+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1478           data[7]='\n'; 
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0xa
        MOVX    @DPTR,A
// 1479           
// 1480           if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
// 1481                                CALBRATION_N_CLUSTERID,
// 1482                                8,//osal_strlen("A1")+1,
// 1483                                data,
// 1484                                &SampleApp_TransID,
// 1485                                AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
// 1486                                1//AF_DEFAULT_RADIUS 
// 1487                                 ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 8,#0x1
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 35)
        MOV     ?V0 + 8,#SampleApp_TransID & 0xff
        MOV     ?V0 + 9,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 37)
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 8,DPL
        MOV     ?V0 + 9,DPH
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 39)
        MOV     ?V0 + 8,#0x8
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 41)
        MOV     ?V0 + 8,#0x2
        MOV     ?V0 + 9,#0x0
        MOV     R0,#?V0 + 8
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 43)
        MOV     R1,#-0x80
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Tester_DstAddr & 0xff
        MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,R1
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1488           {
// 1489           }
// 1490           else
// 1491           {
// 1492             // Error occurred in request to send.
// 1493           }
// 1494   
// 1495 }
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     R7,#0x10
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock12
// 1496 
// 1497 
// 1498 
// 1499 /*********************************************************************
// 1500  * @fn      SampleApp_Quadrotor_SendLocation
// 1501  *
// 1502  * @brief   Send the flash message to group 1.
// 1503  *
// 1504  * @param   flashTime - in milliseconds
// 1505  *
// 1506  * @return  none
// 1507  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1508 void SampleApp_Quadrotor_SendLocation( int index )
SampleApp_Quadrotor_SendLocation:
          CFI Block cfiBlock13 Using cfiCommon0
          CFI Function SampleApp_Quadrotor_SendLocation
        CODE
// 1509 {
        FUNCALL SampleApp_Quadrotor_SendLocation, SampleApp_MinMax_localization
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 64, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 64, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL SampleApp_Quadrotor_SendLocation, AF_DataRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 57, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 57, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x16
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V13 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V12 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V11 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V10 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V9 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V8 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-17)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-18)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-19)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-20)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-21)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-22)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 22)
        ; Saved register size: 22
        ; Auto size: 26
        MOV     A,#-0x1a
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 48)
        MOV     ?V0 + 12,R2
        MOV     ?V0 + 13,R3
// 1510   
// 1511   SampleApp_Quadrotor_Location_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
        MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr + 8
        MOV     A,#0x1
        MOVX    @DPTR,A
// 1512   SampleApp_Quadrotor_Location_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
        MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr + 9
        MOV     A,#0x14
        MOVX    @DPTR,A
// 1513   SampleApp_Quadrotor_Location_DstAddr.addr.shortAddr = SAMPLEAPP_QUADROTOR_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
        MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr
        MOV     A,#0x2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 1514   
// 1515   float xposition;
// 1516   float yposition;
// 1517   float zposition;
// 1518   
// 1519   zposition=locationZ[index-1];
        MOV     R0,?V0 + 12
        MOV     R1,?V0 + 13
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x4
        MOV     A,?V0 + 13
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#(locationZ + 252) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((locationZ - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
// 1520   // using min-max algorithm
// 1521   SampleApp_MinMax_localization(&xposition, &yposition, zposition, nValue,
// 1522                             RssiValue, AValue, AnchorX, AnchorY,OffsetAValue);
        ; Setup parameters for call to function SampleApp_MinMax_localization
        MOV     ?V0 + 0,#OffsetAValue & 0xff
        MOV     ?V0 + 1,#(OffsetAValue >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 50)
        MOV     ?V0 + 0,#AnchorY & 0xff
        MOV     ?V0 + 1,#(AnchorY >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 52)
        MOV     ?V0 + 0,#AnchorX & 0xff
        MOV     ?V0 + 1,#(AnchorX >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 54)
        MOV     ?V0 + 0,#AValue & 0xff
        MOV     ?V0 + 1,#(AValue >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 56)
        MOV     ?V0 + 0,#RssiValue & 0xff
        MOV     ?V0 + 1,#(RssiValue >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 58)
        MOV     ?V0 + 0,#nValue & 0xff
        MOV     ?V0 + 1,#(nValue >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 60)
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_FOUR
          CFI CFA_XSP16 add(XSP16, 64)
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     A,#0x14
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??SampleApp_MinMax_localization?relay
        MOV     A,#0x10
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 48)
// 1523 //  locationX[index-1]=0.5f*xposition;
// 1524 //  locationY[index-1]=0.5f*yposition;
// 1525   // using weighted centroid localization algorithm
// 1526   //SampleApp_WCL_localization(&xposition, &yposition, nValue,RssiValue,AValue,AnchorX,AnchorY,OffsetAValue);
// 1527   locationX[index-1]=xposition;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?XLOAD_R2345
        MOV     R0,?V0 + 12
        MOV     R1,?V0 + 13
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R6,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R6
        MOV     R6,A
        MOV     B,#0x4
        MOV     A,?V0 + 13
        MUL     AB
        ADD     A,R6
        MOV     R1,A
        MOV     A,#(locationX + 252) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((locationX - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        LCALL   ?XSTORE_R2345
// 1528   locationY[index-1]=yposition;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        LCALL   ?XLOAD_R2345
        MOV     R0,?V0 + 12
        MOV     R1,?V0 + 13
        MOV     A,R0
        MOV     B,#0x4
        MUL     AB
        XCH     A,R0
        MOV     R6,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R6
        MOV     R6,A
        MOV     B,#0x4
        MOV     A,?V0 + 13
        MUL     AB
        ADD     A,R6
        MOV     R1,A
        MOV     A,#(locationY + 252) & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#((locationY - 4) >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        LCALL   ?XSTORE_R2345
// 1529   
// 1530   
// 1531 
// 1532   uint8 data[18]="Q";
        MOV     DPTR,#`?<Constant "Q">`
        PUSH    DPL
          CFI CFA_SP SP+-1
        PUSH    DPH
          CFI CFA_SP SP+-2
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        POP     DPH
          CFI CFA_SP SP+-1
        POP     DPL
          CFI CFA_SP SP+0
        MOV     A,#0x12
        LCALL   ?MOVE_LONG8_XDATA_XDATA
// 1533   data[1]=0x30+index;
        MOV     A,?V0 + 12
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x9
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1534   data[2]='[';
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x5b
        MOVX    @DPTR,A
// 1535   data[17]=']';
        MOV     A,#0x19
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x5d
        MOVX    @DPTR,A
// 1536   uint8 number8;
// 1537   number8=(uint8)xposition;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1538   data[3]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1539   data[4]='.';
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1540   xposition=10*(xposition-(float)number8);
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
// 1541   number8=(uint8)xposition;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1542   data[5]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1543   xposition=10*(xposition-(float)number8);
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
// 1544   number8=(uint8)xposition+'0';
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        ADD     A,#0x30
        MOV     R6,A
// 1545   data[6]=number8;
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1546   data[7]=',';
        MOV     A,#0xf
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2c
        MOVX    @DPTR,A
// 1547   number8=(uint8)yposition;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1548   data[8]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1549   data[9]='.';
        MOV     A,#0x11
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1550   yposition=10*(yposition-(float)number8);
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
// 1551   number8=(uint8)yposition;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1552   data[10]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1553   yposition=10*(yposition-(float)number8);
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     ?V0 + 8,R6
        CLR     A
        MOV     ?V0 + 9,A
        MOV     ?V0 + 10,A
        MOV     ?V0 + 11,A
        MOV     R0,#?V0 + 8
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 8
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        MOV     R1,#?V0 + 8
        LCALL   ?FLT_MUL
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_TO_X
// 1554   number8=(uint8)yposition+'0';
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        ADD     A,#0x30
        MOV     R6,A
// 1555   data[11]=number8;
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x13
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1556   data[12]=',';
        MOV     A,#0x14
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2c
        MOVX    @DPTR,A
// 1557   number8=(uint8)zposition;
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        MOV     ?V0 + 2,?V0 + 6
        MOV     ?V0 + 3,?V0 + 7
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1558   data[13]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x15
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1559   data[14]='.';
        MOV     A,#0x16
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x2e
        MOVX    @DPTR,A
// 1560   zposition=10*(zposition-(float)number8);
        MOV     ?V0 + 0,R6
        CLR     A
        MOV     ?V0 + 1,A
        MOV     ?V0 + 2,A
        MOV     ?V0 + 3,A
        MOV     R0,#?V0 + 0
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
// 1561   number8=(uint8)zposition;
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        MOV     ?V0 + 2,?V0 + 6
        MOV     ?V0 + 3,?V0 + 7
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        MOV     R6,?V0 + 0
// 1562   data[15]=number8+'0';
        MOV     A,#0x30
        ADD     A,R6
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x17
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1563   zposition=10*(zposition-(float)number8);
        MOV     ?V0 + 0,R6
        CLR     A
        MOV     ?V0 + 1,A
        MOV     ?V0 + 2,A
        MOV     ?V0 + 3,A
        MOV     R0,#?V0 + 0
        LCALL   ?UL_TO_FLT
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_SUB
        MOV     DPTR,#__Constant_41200000
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R0,#?V0 + 4
        MOV     R1,#?V0 + 0
        LCALL   ?FLT_MUL
// 1564   number8=(uint8)zposition+'0';
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
        MOV     ?V0 + 2,?V0 + 6
        MOV     ?V0 + 3,?V0 + 7
        MOV     R0,#?V0 + 0
        LCALL   ?FLT_TO_L
        MOV     A,?V0 + 0
        ADD     A,#0x30
        MOV     R6,A
// 1565   data[16]=number8;
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 1566   //data[18]='\0';
// 1567  // HalUARTWrite(0, data, 18);
// 1568   if ( AF_DataRequest( &SampleApp_Quadrotor_Location_DstAddr, &SampleApp_epDesc,
// 1569                          LZQR_GROUP_CLUSTERID,
// 1570                          18,//osal_strlen("Q1")+1,
// 1571                          data,
// 1572                          &SampleApp_TransID,
// 1573                          AF_DISCV_ROUTE,//AF_SKIP_ROUTING,  
// 1574                          AF_DEFAULT_RADIUS// 1
// 1575                            ) == afStatus_SUCCESS )
        ; Setup parameters for call to function AF_DataRequest
        MOV     ?V0 + 0,#0x1e
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
          CFI CFA_XSP16 add(XSP16, 49)
        MOV     ?V0 + 0,#SampleApp_TransID & 0xff
        MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 51)
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 53)
        MOV     ?V0 + 0,#0x12
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 55)
        MOV     ?V0 + 0,#0x3
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 57)
        MOV     R1,#0x20
        MOV     R4,#SampleApp_epDesc & 0xff
        MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
        MOV     R2,#SampleApp_Quadrotor_Location_DstAddr & 0xff
        MOV     R3,#(SampleApp_Quadrotor_Location_DstAddr >> 8) & 0xff
        LCALL   ??AF_DataRequest?relay
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 48)
        MOV     A,R1
// 1576     {
// 1577     }
// 1578     else
// 1579     {
// 1580       // Error occurred in request to send.
// 1581     }
// 1582 
// 1583 
// 1584 }
        MOV     A,#0x1a
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     R7,#0xe
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock13

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for imof1>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for imof2>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for imof3>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for imof4>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for nindex1>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for nindex2>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for nindex3>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for nindex4>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for aindex1>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for aindex2>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for aindex3>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for aindex4>`:
        DATA16
        DW 0
        DW 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for nValue>`:
        DATA32
        DD 40000000H
        DD 40000000H
        DD 40000000H
        DD 40000000H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for AValue>`:
        DATA32
        DD 424D5C29H
        DD 4253A3D7H
        DD 42491EB8H
        DD 424EAE14H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for AnchorX>`:
        DATA32
        DD 0H
        DD 40866666H
        DD 40866666H
        DD 0H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for AnchorY>`:
        DATA32
        DD 0H
        DD 0H
        DD 40866666H
        DD 40866666H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for AnchorZ>`:
        DATA32
        DD 3F3D70A4H
        DD 3F3D70A4H
        DD 3F3D70A4H
        DD 3F3D70A4H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for RefAValue>`:
        DATA32
        DD 42400000H
        DD 42580000H
        DD 42880000H
        DD 42426666H

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for DeviceID>`:
        DATA16
        DW 1

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Init?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_ProcessEvent?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_ProcessEvent

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_HandleKeys?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_HandleKeys

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_MessageMSGCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_MessageMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_QuadrotorMSGCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_QuadrotorMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Tester_calibrationMSGCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Tester_calibrationMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_AnchorMSGCB?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_AnchorMSGCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Router_SendPeriodicMessage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Router_SendPeriodicMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Router_calibrationNMessage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Router_calibrationNMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Router_calibrationAMessage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Router_calibrationAMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Tester_calibrationAMessage?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Tester_calibrationAMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Tester_calibration_differentAMessag:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Tester_calibration_differentAMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Tester_calibrationOffsetAMessage?re:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Tester_calibrationOffsetAMessage

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??SampleApp_Quadrotor_SendLocation?relay:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    SampleApp_Quadrotor_SendLocation

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "UartInit OK\\n">`:
        DB "UartInit OK\012"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Group 1">`:
        DB "Group 1"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "Group 2">`:
        DB "Group 2"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "SampleApp">`:
        DB "SampleApp"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "A">`:
        DB "A"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "A1">`:
        DB "A1"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "N">`:
        DB "N"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "A">_1`:
        DB "A"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "A">_2`:
        DB "A"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "T">`:
        DB "T"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "O">`:
        DB "O"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA16
`?<Constant "Q">`:
        DB "Q"

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_41200000:
        DD 41200000H

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_3dcccccd:
        DD 3DCCCCCDH

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_1:
        DD 1H

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_3c23d70a:
        DD 3C23D70AH

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
__Constant_0:
        DD 0H

        END
// 1585 
// 1586 /*********************************************************************
// 1587 *********************************************************************/
// 
// 8 100 bytes in segment BANKED_CODE
//    84 bytes in segment BANK_RELAYS
//   146 bytes in segment XDATA_I
//   146 bytes in segment XDATA_ID
//    94 bytes in segment XDATA_ROM_C
//   580 bytes in segment XDATA_Z
// 
// 8 330 bytes of CODE  memory
//    74 bytes of CONST memory (+ 20 bytes shared)
//   726 bytes of XDATA memory
//
//Errors: none
//Warnings: none
