###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.20.2.41139 for 8051             18/Apr/2016  16:07:30 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\Source\SampleApp.c                           #
#    Command line       =  -f F:\myCloud\ZigbeeTest\Projects\zstack\Samples\S #
#                          ampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev #
#                          .cfg (-DCPU32MHZ -DROOT=__near_func -DBLINK_LEDS)  #
#                          -f F:\myCloud\ZigbeeTest\Projects\zstack\Samples\S #
#                          ampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfi #
#                          g.cfg (-DSECURE=0 -DZG_SECURE_DYNAMIC=0            #
#                          -DREFLECTOR -DDEFAULT_CHANLIST=0x00000800          #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=TRUE      #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100) -DREJOIN_POLL_RATE=440   #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\Source\SampleApp.c -D ZIGBEEPRO -D           #
#                          NWK_AUTO_POLL -D ZTOOL_P1 -D xMT_TASK -D           #
#                          xMT_SYS_FUNC -D xMT_ZDO_FUNC -D                    #
#                          LCD_SUPPORTED=DEBUG -lC F:\myCloud\ZigbeeTest\Proj #
#                          ects\zstack\Samples\SampleApp\CC2530DB\QuadRotorOn #
#                          boardPro\List\ -lA F:\myCloud\ZigbeeTest\Projects\ #
#                          zstack\Samples\SampleApp\CC2530DB\QuadRotorOnboard #
#                          Pro\List\ --diag_suppress Pe001,Pa010 -o           #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\QuadRotorOnboardPro\Obj\ -e         #
#                          --debug --core=plain --dptr=16,1                   #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I F:\myCloud\ZigbeeTest\Projects\zstack\Samples\S #
#                          ampleApp\CC2530DB\ -I F:\myCloud\ZigbeeTest\Projec #
#                          ts\zstack\Samples\SampleApp\CC2530DB\..\SOURCE\    #
#                          -I F:\myCloud\ZigbeeTest\Projects\zstack\Samples\S #
#                          ampleApp\CC2530DB\..\..\..\ZMAIN\TI2530DB\ -I      #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\MT\ -I    #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCLU #
#                          DE\ -I F:\myCloud\ZigbeeTest\Projects\zstack\Sampl #
#                          es\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\HA #
#                          L\TARGET\CC2530EB\ -I F:\myCloud\ZigbeeTest\Projec #
#                          ts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\. #
#                          .\COMPONENTS\OSAL\MCU\CCSOC\ -I                    #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\INCL #
#                          UDE\ -I F:\myCloud\ZigbeeTest\Projects\zstack\Samp #
#                          les\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\S #
#                          TACK\AF\ -I F:\myCloud\ZigbeeTest\Projects\zstack\ #
#                          Samples\SampleApp\CC2530DB\..\..\..\..\..\COMPONEN #
#                          TS\STACK\NWK\ -I F:\myCloud\ZigbeeTest\Projects\zs #
#                          tack\Samples\SampleApp\CC2530DB\..\..\..\..\..\COM #
#                          PONENTS\STACK\SEC\ -I F:\myCloud\ZigbeeTest\Projec #
#                          ts\zstack\Samples\SampleApp\CC2530DB\..\..\..\..\. #
#                          .\COMPONENTS\STACK\SAPI\ -I                        #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SYS #
#                          \ -I F:\myCloud\ZigbeeTest\Projects\zstack\Samples #
#                          \SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\STAC #
#                          K\ZDO\ -I F:\myCloud\ZigbeeTest\Projects\zstack\Sa #
#                          mples\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS #
#                          \ZMAC\F8W\ -I F:\myCloud\ZigbeeTest\Projects\zstac #
#                          k\Samples\SampleApp\CC2530DB\..\..\..\..\..\COMPON #
#                          ENTS\ZMAC\ -I F:\myCloud\ZigbeeTest\Projects\zstac #
#                          k\Samples\SampleApp\CC2530DB\..\..\..\..\..\COMPON #
#                          ENTS\SERVICES\SADDR\ -I F:\myCloud\ZigbeeTest\Proj #
#                          ects\zstack\Samples\SampleApp\CC2530DB\..\..\..\.. #
#                          \..\COMPONENTS\SERVICES\SDATA\ -I                  #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\INCLU #
#                          DE\ -I F:\myCloud\ZigbeeTest\Projects\zstack\Sampl #
#                          es\SampleApp\CC2530DB\..\..\..\..\..\COMPONENTS\MA #
#                          C\HIGH_LEVEL\ -I F:\myCloud\ZigbeeTest\Projects\zs #
#                          tack\Samples\SampleApp\CC2530DB\..\..\..\..\..\COM #
#                          PONENTS\MAC\LOW_LEVEL\srf04\ -I                    #
#                          F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_L #
#                          EVEL\srf04\SINGLE_CHIP\ -Ohz --require_prototypes  #
#    List file          =  F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\QuadRotorOnboardPro\List\SampleApp. #
#                          lst                                                #
#    Object file        =  F:\myCloud\ZigbeeTest\Projects\zstack\Samples\Samp #
#                          leApp\CC2530DB\QuadRotorOnboardPro\Obj\SampleApp.r #
#                          51                                                 #
#                                                                             #
#                                                                             #
###############################################################################

F:\myCloud\ZigbeeTest\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          /**************************************************************************************************
      2            Filename:       SampleApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Sample Application (no Profile).
      7          
      8          
      9            Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          
     41          
     42          /*********************************************************************
     43           * INCLUDES
     44           */
     45          #include "OSAL.h"
     46          #include "ZGlobals.h"
     47          #include "AF.h"
     48          #include "aps_groups.h"
     49          #include "ZDApp.h"
     50          
     51          #include "SampleApp.h"
     52          #include "SampleAppHw.h"
     53          
     54          #include "OnBoard.h"
     55          
     56          /* HAL */
     57          #include "hal_lcd.h"
     58          #include "hal_led.h"
     59          #include "hal_key.h"
     60          #include "MT_UART.h"
     61          #include "MT_APP.h"
     62          #include "MT.h"
     63          
     64          /*********************************************************************
     65           * MACROS
     66           */
     67          
     68          /*********************************************************************
     69           * CONSTANTS
     70           */
     71          
     72          /*********************************************************************
     73           * TYPEDEFS
     74           */
     75          
     76          /*********************************************************************
     77           * GLOBAL VARIABLES
     78           */
     79          
     80          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
     81          const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0300         DW 3
     82          {
     83            SAMPLEAPP_PERIODIC_CLUSTERID,
     84            CALBRATION_N_CLUSTERID,
     85            LZQR_GROUP_CLUSTERID   //id for localization of quadrotor group 
     86          };
     87          

   \                                 In  segment XDATA_ROM_C, align 1
     88          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   14           DB 20
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   03           DB 3
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   03           DB 3
   \   00000A   ....         DW SampleApp_ClusterList
     89          {
     90            SAMPLEAPP_ENDPOINT,              //  int Endpoint;
     91            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
     92            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
     93            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
     94            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
     95            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     96            (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
     97            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
     98            (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
     99          };
    100          
    101          // This is the Endpoint/Interface description.  It is defined here, but
    102          // filled-in in SampleApp_Init().  Another way to go would be to fill
    103          // in the structure here and make it a "const" (in code space).  The
    104          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    105          endPointDesc_t SampleApp_epDesc;
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    106          endPointDesc_t SampleApp_test_epDesc;   //not jet in use
   \                     SampleApp_test_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    107          /*********************************************************************
    108           * EXTERNAL VARIABLES
    109           */
    110          
    111          /*********************************************************************
    112           * EXTERNAL FUNCTIONS
    113           */
    114          
    115          
    116          /*********************************************************************
    117           * LOCAL VARIABLES
    118           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    119          uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    120                                    // This variable will be received when
    121                                    // SampleApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    122          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    123          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    124          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    125          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    126          afAddrType_t SampleApp_Router_Periodic_DstAddr;       // address for router
   \                     SampleApp_Router_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    127          afAddrType_t SampleApp_Tester_DstAddr;                // address for tester
   \                     SampleApp_Tester_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    128          afAddrType_t SampleApp_Quadrotor_Location_DstAddr;    // address for quadrotor/end device
   \                     SampleApp_Quadrotor_Location_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    129          
    130          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    131          aps_Group_t SampleApp_Group_1;                        // group 1 for calibration of parameter n (quadrotor, router, coord)
   \                     SampleApp_Group_1:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    132          aps_Group_t SampleApp_Group_2;                        // group 2 for communication between quadrotors (quadrotor, coord)
   \                     SampleApp_Group_2:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z
    133          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    134          uint8 SampleAppPeriodicCounter = 0;
   \                     SampleAppPeriodicCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    135          uint8 SampleAppFlashCounter = 0;
   \                     SampleAppFlashCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    136          
    137          //user setting for quadrotor
    138          
    139          //buf for storing rssi values from 4 anchors

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    140          int8 perRssiBuf1[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 1
   \                     perRssiBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          int8 perRssiBuf2[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 2
   \                     perRssiBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    142          int8 perRssiBuf3[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 3
   \                     perRssiBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    143          int8 perRssiBuf4[RSSI_AVG_WINDOW_SIZE]={0};     // array for storing the rssi reading from router 4
   \                     perRssiBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    144          
    145          //buf for n-value

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    146          float pernBuf1[8]={0};  // array for storing the n-value of router 1
   \                     pernBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    147          float pernBuf2[8]={0};  // array for storing the n-value of router 2
   \                     pernBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    148          float pernBuf3[8]={0};  // array for storing the n-value of router 3
   \                     pernBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          float pernBuf4[8]={0};  // array for storing the n-value of router 4
   \                     pernBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    150          
    151          //buf for A calibration

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    152          float peraBuf1[8]={0};  // array for storing the n-value of router 1
   \                     peraBuf1:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    153          float peraBuf2[8]={0};  // array for storing the n-value of router 2
   \                     peraBuf2:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    154          float peraBuf3[8]={0};  // array for storing the n-value of router 3
   \                     peraBuf3:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    155          float peraBuf4[8]={0};  // array for storing the n-value of router 4
   \                     peraBuf4:
   \   000000                DS 32
   \   000020                REQUIRE __INIT_XDATA_Z
    156          
    157          //temp rssivalue

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    158          int8 rssivalue;         // temporary rssi value
   \                     rssivalue:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    159          
    160          // index for loop innenhalb the window

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    161          int8 i1=0;             
   \                     i1:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    162          int8 i2=0;
   \                     i2:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    163          int8 i3=0;
   \                     i3:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    164          int8 i4=0;
   \                     i4:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    165          
    166          // index for moving filter

   \                                 In  segment XDATA_I, align 1, keep-with-next
    167          int imof1[2]={0,1};
   \                     imof1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    168          int imof2[2]={0,1};
   \                     imof2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    169          int imof3[2]={0,1};
   \                     imof3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    170          int imof4[2]={0,1};
   \                     imof4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for imof4>`
   \   000004                REQUIRE __INIT_XDATA_I
    171          
    172          // index for moving filter of n value

   \                                 In  segment XDATA_I, align 1, keep-with-next
    173          int nindex1[2]={0,1};
   \                     nindex1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    174          int nindex2[2]={0,1};
   \                     nindex2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    175          int nindex3[2]={0,1};
   \                     nindex3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    176          int nindex4[2]={0,1};
   \                     nindex4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for nindex4>`
   \   000004                REQUIRE __INIT_XDATA_I
    177          
    178          // index for moving filter of a value

   \                                 In  segment XDATA_I, align 1, keep-with-next
    179          int aindex1[2]={0,1};
   \                     aindex1:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex1>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    180          int aindex2[2]={0,1};
   \                     aindex2:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex2>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    181          int aindex3[2]={0,1};
   \                     aindex3:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex3>`
   \   000004                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    182          int aindex4[2]={0,1};
   \                     aindex4:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aindex4>`
   \   000004                REQUIRE __INIT_XDATA_I
    183          
    184          // sum/average Rssi value

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    185          float sumRssi1=0;
   \                     sumRssi1:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    186          float sumRssi2=0;
   \                     sumRssi2:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    187          float sumRssi3=0;
   \                     sumRssi3:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    188          float sumRssi4=0;
   \                     sumRssi4:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    189          
    190          //localization parameter
    191          //float distance[4]={0,0,0,0};

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    192          float RssiValue[4]={0,0,0,0};                   // array for storing rssi values
   \                     RssiValue:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    193          float nValue[4]={2.0f,2.0f,2.0f,2.0f};       // initialized n parameter   --3.59f,3.94f,2.63f,5.6f 
   \                     nValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for nValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    194          float AValue[4]={51.34f,52.91f,50.28f,51.67f};     // initialized A parameter      ??47.52f,46.53,43.56,43.56  48.28f,52.11f,53.83f,52.27f
   \                     AValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    195          float AnchorX[4]={4.0f, 0.0f, 0.0f, 4.0f};      // router position in x direction in m
   \                     AnchorX:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorX>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    196          float AnchorY[4]={4.0f, 4.0f, 0.0f, 0.0f};      // router position in y direction in m
   \                     AnchorY:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorY>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    197          float AnchorZ[4]={0.7f, 0.7f, 0.7f, 0.7f};      // router position in z direction in m
   \                     AnchorZ:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for AnchorZ>`
   \   000010                REQUIRE __INIT_XDATA_I
    198          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    199          float RefAValue[4]={48.0f,54.0f,68.0f,48.6f};  // reference A values for self calibration
   \                     RefAValue:
   \   000000                DS 16
   \   000010                REQUIRE `?<Initializer for RefAValue>`
   \   000010                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    200          float OffsetAValue[4]={0.0f, 0.0f, 0.0f, 0.0f};   // offset compared with reference A values
   \                     OffsetAValue:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z
    201          
    202          //altitude information

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    203          float locationX[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in x direction
   \                     locationX:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    204          float locationY[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in y direction
   \                     locationY:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    205          float locationZ[4]={0.0f, 0.0f, 0.0f, 0.0f};    // quadrotor position in z direction
   \                     locationZ:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z
    206          
    207          //LParameter tempParameter;                       // structure parameter, which is not in used
    208          
    209          // device id

   \                                 In  segment XDATA_I, align 1, keep-with-next
    210          int DeviceID=2;                                 // device id to identify the device
   \                     DeviceID:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for DeviceID>`
   \   000002                REQUIRE __INIT_XDATA_I
    211                                                          // for coordinator meanless; for router is the anchor's id, except id 6,
    212                                                          // which is preparing for tester; for quadrotor, it is the id.
    213          /*********************************************************************
    214           * LOCAL FUNCTIONS
    215           */
    216          // button setting for tester
    217          void SampleApp_HandleKeys( uint8 shift, uint8 keys );
    218          //deal with message(Co)
    219          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    220          //deal with message(Ed)
    221          void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pckt );
    222          //deal with message(Ro)
    223          void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pckt );
    224          //tester reading messages from broadcast
    225          void SampleApp_Tester_calibrationMSGCB(afIncomingMSGPacket_t *pckt );
    226          //router send period message
    227          void SampleApp_Router_SendPeriodicMessage( int index );
    228          //quadrotor send their location in the group
    229          void SampleApp_Quadrotor_SendLocation( int index );
    230          //router calibration n
    231          void SampleApp_Router_calibrationNMessage(int index, float nvalue);
    232          //router calibration A
    233          void SampleApp_Router_calibrationAMessage( int index , float avalue );
    234          //tester calibration A
    235          void SampleApp_Tester_calibrationAMessage( int index , float A );
    236          void SampleApp_Tester_calibration_differentAMessage(int index );
    237          void SampleApp_Tester_calibrationOffsetAMessage(int index, float A);
    238          
    239          //void SampleApp_SendFlashMessage( uint16 flashTime );
    240          //void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg);
    241          
    242          //float gaussianfilter(int8* rssi, int length);
    243          //float averagefilter(int8* rssi, int length);
    244          //float calibrationN(int localID, int index, float rssivalue_f, float AnchorX[4], float AnchorY[4], float AnchorZ[4], float A[4]);
    245          /*********************************************************************
    246           * NETWORK LAYER CALLBACKS
    247           */
    248          
    249          /*********************************************************************
    250           * PUBLIC FUNCTIONS
    251           */
    252          
    253          /*********************************************************************
    254           * @fn      SampleApp_Init
    255           *
    256           * @brief   Initialization function for the Generic App Task.
    257           *          This is called during initialization and should contain
    258           *          any application specific initialization (ie. hardware
    259           *          initialization/setup, table initialization, power up
    260           *          notificaiton ... ).
    261           *
    262           * @param   task_id - the ID assigned by OSAL.  This ID should be
    263           *                    used to send messages and set timers.
    264           *
    265           * @return  none
    266           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    267          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    268          { 
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    269            SampleApp_TaskID = task_id;
   \   000007   90....       MOV     DPTR,#SampleApp_TaskID
   \   00000A   F0           MOVX    @DPTR,A
    270            SampleApp_NwkState = DEV_INIT;
   \   00000B   90....       MOV     DPTR,#SampleApp_NwkState
   \   00000E   7401         MOV     A,#0x1
   \   000010   F0           MOVX    @DPTR,A
    271            SampleApp_TransID = 0;
   \   000011   90....       MOV     DPTR,#SampleApp_TransID
   \   000014   E4           CLR     A
   \   000015   F0           MOVX    @DPTR,A
    272            
    273            MT_UartInit();                  //initial uart
   \   000016                ; Setup parameters for call to function MT_UartInit
   \   000016   12....       LCALL   ??MT_UartInit?relay
    274            MT_UartRegisterTaskID(task_id); //register uart task id
   \   000019                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   000019   EE           MOV     A,R6
   \   00001A   F9           MOV     R1,A
   \   00001B   12....       LCALL   ??MT_UartRegisterTaskID?relay
    275            HalUARTWrite(0,"UartInit OK\n", sizeof("UartInit OK\n"));// initial uart finish
   \   00001E                ; Setup parameters for call to function HalUARTWrite
   \   00001E   7C0D         MOV     R4,#0xd
   \   000020   7D00         MOV     R5,#0x0
   \   000022   7A..         MOV     R2,#`?<Constant "UartInit OK\\n">` & 0xff
   \   000024   7B..         MOV     R3,#(`?<Constant "UartInit OK\\n">` >> 8) & 0xff
   \   000026   7900         MOV     R1,#0x0
   \   000028   12....       LCALL   ??HalUARTWrite?relay
    276            
    277            // Device hardware initialization can be added here or in main() (Zmain.c).
    278            // If the hardware is application specific - add it here.
    279            // If the hardware is other parts of the device add it in main().
    280          
    281           #if defined ( BUILD_ALL_DEVICES )
    282            // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
    283            // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
    284            // together - if they are - we will start up a coordinator. Otherwise,
    285            // the device will start as a router.
    286            if ( readCoordinatorJumper() )
    287              zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
    288            else
    289              zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
    290          #endif // BUILD_ALL_DEVICES
    291          
    292          #if defined ( HOLD_AUTO_START )
    293            // HOLD_AUTO_START is a compile option that will surpress ZDApp
    294            //  from starting the device and wait for the application to
    295            //  start the device.
    296            ZDOInitDevice(0);
    297          #endif
    298          
    299            // Setup for the periodic message's destination address
    300            // Router broadcast to everyone
    301          
    302          
    303            // Setup for the flash command's destination address - Group 1
    304          //  SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
    305          //  SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
    306          //  SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
    307          
    308            // Fill out the endpoint description.
    309            SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
   \   00002B   90....       MOV     DPTR,#SampleApp_epDesc
   \   00002E   7414         MOV     A,#0x14
   \   000030   F0           MOVX    @DPTR,A
    310            SampleApp_epDesc.task_id = &SampleApp_TaskID;
   \   000031   A3           INC     DPTR
   \   000032   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   000034   F0           MOVX    @DPTR,A
   \   000035   A3           INC     DPTR
   \   000036   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   000038   F0           MOVX    @DPTR,A
    311            SampleApp_epDesc.simpleDesc
    312                      = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
   \   000039   A3           INC     DPTR
   \   00003A   74..         MOV     A,#SampleApp_SimpleDesc & 0xff
   \   00003C   F0           MOVX    @DPTR,A
   \   00003D   A3           INC     DPTR
   \   00003E   74..         MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
   \   000040   12....       LCALL   ??Subroutine38_0 & 0xFFFF
    313            SampleApp_epDesc.latencyReq = noLatencyReqs;
    314          
    315            // Register the endpoint description with the AF
    316            afRegister( &SampleApp_epDesc );
   \                     ??CrossCallReturnLabel_69:
   \   000043                ; Setup parameters for call to function afRegister
   \   000043   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   000045   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   000047   12....       LCALL   ??afRegister?relay
    317          
    318            // Register for all key events - This app will handle all key events
    319            RegisterForKeys( SampleApp_TaskID );
   \   00004A                ; Setup parameters for call to function RegisterForKeys
   \   00004A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00004D   E0           MOVX    A,@DPTR
   \   00004E   F9           MOV     R1,A
   \   00004F   12....       LCALL   ??RegisterForKeys?relay
    320          
    321            // By default, all devices start out in Group 1
    322            SampleApp_Group_1.ID = SAMPLEAPP_CalN_GROUP; //0x0001
   \   000052   90....       MOV     DPTR,#SampleApp_Group_1
   \   000055   12....       LCALL   ?Subroutine24 & 0xFFFF
    323            //SampleApp_Group.name[0]=0; or just as bellow
    324            osal_memcpy( SampleApp_Group_1.name, "Group 1", 7 );
   \                     ??CrossCallReturnLabel_72:
   \   000058                ; Setup parameters for call to function osal_memcpy
   \   000058   75....       MOV     ?V0 + 0,#`?<Constant "Group 1">` & 0xff
   \   00005B   75....       MOV     ?V0 + 1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   00005E   F5..         MOV     ?V0 + 2,A
   \   000060   78..         MOV     R0,#?V0 + 0
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000065   7C07         MOV     R4,#0x7
   \   000067   7D00         MOV     R5,#0x0
   \   000069   7A..         MOV     R2,#(SampleApp_Group_1 + 2) & 0xff
   \   00006B   7B..         MOV     R3,#((SampleApp_Group_1 + 2) >> 8) & 0xff
   \   00006D   12....       LCALL   ??osal_memcpy?relay
   \   000070   7403         MOV     A,#0x3
   \   000072   12....       LCALL   ?DEALLOC_XSTACK8
    325            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_1 );
   \   000075                ; Setup parameters for call to function aps_AddGroup
   \   000075   7A..         MOV     R2,#SampleApp_Group_1 & 0xff
   \   000077   7B..         MOV     R3,#(SampleApp_Group_1 >> 8) & 0xff
   \   000079   7914         MOV     R1,#0x14
   \   00007B   12....       LCALL   ??aps_AddGroup?relay
    326            
    327             // Only end devices and coordinator can joint this Group 2
    328            SampleApp_Group_2.ID = SAMPLEAPP_QUADROTOR_GROUP; //0x0002
   \   00007E   90....       MOV     DPTR,#SampleApp_Group_2
   \   000081   7402         MOV     A,#0x2
   \   000083   12....       LCALL   ??Subroutine38_0 & 0xFFFF
    329            //SampleApp_Group.name[0]=0; or just as bellow
    330            osal_memcpy( SampleApp_Group_2.name, "Group 2", 7 );
   \                     ??CrossCallReturnLabel_70:
   \   000086                ; Setup parameters for call to function osal_memcpy
   \   000086   75....       MOV     ?V0 + 0,#`?<Constant "Group 2">` & 0xff
   \   000089   75....       MOV     ?V0 + 1,#(`?<Constant "Group 2">` >> 8) & 0xff
   \   00008C   78..         MOV     R0,#?V0 + 0
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000091   7C07         MOV     R4,#0x7
   \   000093   7D00         MOV     R5,#0x0
   \   000095   7A..         MOV     R2,#(SampleApp_Group_2 + 2) & 0xff
   \   000097   7B..         MOV     R3,#((SampleApp_Group_2 + 2) >> 8) & 0xff
   \   000099   12....       LCALL   ??osal_memcpy?relay
   \   00009C   7403         MOV     A,#0x3
   \   00009E   12....       LCALL   ?DEALLOC_XSTACK8
    331            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group_2 );
   \   0000A1                ; Setup parameters for call to function aps_AddGroup
   \   0000A1   7A..         MOV     R2,#SampleApp_Group_2 & 0xff
   \   0000A3   7B..         MOV     R3,#(SampleApp_Group_2 >> 8) & 0xff
   \   0000A5   7914         MOV     R1,#0x14
   \   0000A7   12....       LCALL   ??aps_AddGroup?relay
    332          
    333          
    334           
    335          
    336          #if defined ( LCD_SUPPORTED )
    337            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
   \   0000AA                ; Setup parameters for call to function HalLcdWriteString
   \   0000AA   7901         MOV     R1,#0x1
   \   0000AC   7A..         MOV     R2,#`?<Constant "SampleApp">` & 0xff
   \   0000AE   7B..         MOV     R3,#(`?<Constant "SampleApp">` >> 8) & 0xff
   \   0000B0   12....       LCALL   ??HalLcdWriteString?relay
    338          #endif
    339            
    340            
    341          }
   \   0000B3   7F03         MOV     R7,#0x3
   \   0000B5   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   7401         MOV     A,#0x1
   \   000002                REQUIRE ??Subroutine38_0
   \   000002                ; // Fall through to label ??Subroutine38_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine38_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   E4           CLR     A
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET
    342          
    343          /*********************************************************************
    344           * @fn      SampleApp_ProcessEvent
    345           *
    346           * @brief   Generic Application Task event processor.  This function
    347           *          is called to process all events for the task.  Events
    348           *          include timers, messages and any other user defined events.
    349           *
    350           * @param   task_id  - The OSAL assigned task ID.
    351           * @param   events - events to process.  This is a bit map and can
    352           *                   contain more than one event.
    353           *
    354           * @return  none
    355           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    356          uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     SampleApp_ProcessEvent:
    357          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    358            afIncomingMSGPacket_t *MSGpkt;
    359            (void)task_id;  // Intentionally unreferenced parameter
    360          
    361            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   7003         JNZ     $+5
   \   00000D   02....       LJMP    ??SampleApp_ProcessEvent_0 & 0xFFFF
    362            {
    363              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   000010                ; Setup parameters for call to function osal_msg_receive
   \   000010   8028         SJMP    ??SampleApp_ProcessEvent_1
    364              while ( MSGpkt )
    365              {
    366                switch ( MSGpkt->hdr.event )
    367                {        
    368                  // Received when a key is pressed
    369                  case KEY_CHANGE:
    370                    SampleApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    371                    break;
    372          
    373                  // Received when a messages is received (OTA) for this endpoint
    374                  case AF_INCOMING_MSG_CMD:
    375                            if ( (SampleApp_NwkState == DEV_ZB_COORD)  // coordinator deals with incoming messages
    376                                )
    377                            {
    378                             SampleApp_MessageMSGCB( MSGpkt );
    379                            }
    380                            else if((SampleApp_NwkState == DEV_END_DEVICE)) // end device deals with incoming messages
    381                            {
    382                             
    383                              SampleApp_QuadrotorMSGCB(MSGpkt);
    384                             
    385                            }
    386                             else if(SampleApp_NwkState == DEV_ROUTER)      // router deals with incoming messages
    387                            {
    388                               if(DeviceID!=6&&DeviceID!=8)
    389                              SampleApp_AnchorMSGCB(MSGpkt);
    390                               else
    391                               SampleApp_Tester_calibrationMSGCB(MSGpkt);   // sepcial router device
    392                            }
    393          //                  else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID==6))
    394          //                  {
    395          //                    SampleApp_Tester_calibrationMSGCB(MSGpkt);
    396          //                  }
    397                              
    398                    break;
    399          
    400                  case ZDO_STATE_CHANGE:
    401                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
    402                    if ( //(SampleApp_NwkState == DEV_ZB_COORD) ||
    403                           (SampleApp_NwkState == DEV_ROUTER)&&(DeviceID!=6)&&(DeviceID!=8)
    404                       //|| (SampleApp_NwkState == DEV_END_DEVICE)
    405                            
    406                        )
    407                    {
    408                      // Start sending the periodic message in a regular interval.
    409                      osal_start_timerEx( SampleApp_TaskID,
    410                                        SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    411                                        SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT );
    412                         
    413                    }
    414                    else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==8))    // for special router
    415                    {
    416                      osal_start_timerEx( SampleApp_TaskID,
    417                                        SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    418                                        SAMPLEAPP_SEND_PERIODIC_TESTER );
    419                    }
    420                    else if((SampleApp_NwkState == DEV_ROUTER)&&(DeviceID==6))    // for special fixed router
    421                    {
    422                      osal_start_timerEx( SampleApp_TaskID,
    423                                        SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    424                                        SAMPLEAPP_SEND_PERIODIC_TESTER );
    425                    }
    426                    else if((SampleApp_NwkState == DEV_END_DEVICE)&&(DeviceID!=6))  // for end devices
   \                     ??SampleApp_ProcessEvent_2:
   \   000012   E0           MOVX    A,@DPTR
   \   000013   6406         XRL     A,#0x6
   \   000015   701C         JNZ     ??SampleApp_ProcessEvent_3
   \   000017   90....       MOV     DPTR,#DeviceID
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   6406         XRL     A,#0x6
   \   00001D   7002         JNZ     ??SampleApp_ProcessEvent_4
   \   00001F   A3           INC     DPTR
   \   000020   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_4:
   \   000021   6010         JZ      ??SampleApp_ProcessEvent_3
    427                    {
    428                        //Start sending quadrotor location after calculation
    429                         osal_start_timerEx( SampleApp_TaskID,
    430                                        SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
    431                                        SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT );
   \   000023                ; Setup parameters for call to function osal_start_timerEx
   \   000023   7C2C         MOV     R4,#0x2c
   \   000025   7D01         MOV     R5,#0x1
   \   000027   7A02         MOV     R2,#0x2
   \                     ??SampleApp_ProcessEvent_5:
   \   000029   7B00         MOV     R3,#0x0
   \   00002B   90....       MOV     DPTR,#SampleApp_TaskID
   \   00002E   E0           MOVX    A,@DPTR
   \   00002F   F9           MOV     R1,A
   \   000030   12....       LCALL   ??osal_start_timerEx?relay
    432                            
    433                    }
    434                    else
    435                    {
    436                      // Device is no longer in the network
    437                    }
    438                    break;
    439          
    440                  default:
    441                    break;
    442                }
    443          
    444                // Release the memory
    445                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??SampleApp_ProcessEvent_3:
   \   000033                ; Setup parameters for call to function osal_msg_deallocate
   \   000033   AA..         MOV     R2,?V0 + 0
   \   000035   AB..         MOV     R3,?V0 + 1
   \   000037   12....       LCALL   ??osal_msg_deallocate?relay
    446          
    447                // Next - if one is available
    448                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00003A                ; Setup parameters for call to function osal_msg_receive
   \                     ??SampleApp_ProcessEvent_1:
   \   00003A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   F9           MOV     R1,A
   \   00003F   12....       LCALL   ??osal_msg_receive?relay
   \   000042   8A..         MOV     ?V0 + 0,R2
   \   000044   8B..         MOV     ?V0 + 1,R3
   \   000046   E5..         MOV     A,?V0 + 0
   \   000048   45..         ORL     A,?V0 + 1
   \   00004A   7003         JNZ     $+5
   \   00004C   02....       LJMP    ??SampleApp_ProcessEvent_6 & 0xFFFF
   \   00004F   85..82       MOV     DPL,?V0 + 0
   \   000052   85..83       MOV     DPH,?V0 + 1
   \   000055   E0           MOVX    A,@DPTR
   \   000056   24E6         ADD     A,#-0x1a
   \   000058   601E         JZ      ??SampleApp_ProcessEvent_7
   \   00005A   245A         ADD     A,#0x5a
   \   00005C   6006         JZ      ??SampleApp_ProcessEvent_8
   \   00005E   24EF         ADD     A,#-0x11
   \   000060   6066         JZ      ??SampleApp_ProcessEvent_9
   \   000062   80CF         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_8:
   \   000064                ; Setup parameters for call to function SampleApp_HandleKeys
   \   000064   A3           INC     DPTR
   \   000065   A3           INC     DPTR
   \   000066   A3           INC     DPTR
   \   000067   E0           MOVX    A,@DPTR
   \   000068   FA           MOV     R2,A
   \   000069   85..82       MOV     DPL,?V0 + 0
   \   00006C   85..83       MOV     DPH,?V0 + 1
   \   00006F   A3           INC     DPTR
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   F9           MOV     R1,A
   \   000073   12....       LCALL   ??SampleApp_HandleKeys?relay
   \   000076   80BB         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_7:
   \   000078   90....       MOV     DPTR,#SampleApp_NwkState
   \   00007B   E0           MOVX    A,@DPTR
   \   00007C   6409         XRL     A,#0x9
   \   00007E   7009         JNZ     ??SampleApp_ProcessEvent_10
   \   000080                ; Setup parameters for call to function SampleApp_MessageMSGCB
   \   000080   AA..         MOV     R2,?V0 + 0
   \   000082   AB..         MOV     R3,?V0 + 1
   \   000084   12....       LCALL   ??SampleApp_MessageMSGCB?relay
   \   000087   80AA         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_10:
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   6406         XRL     A,#0x6
   \   00008C   7009         JNZ     ??SampleApp_ProcessEvent_11
   \   00008E                ; Setup parameters for call to function SampleApp_QuadrotorMSGCB
   \   00008E   AA..         MOV     R2,?V0 + 0
   \   000090   AB..         MOV     R3,?V0 + 1
   \   000092   12....       LCALL   ??SampleApp_QuadrotorMSGCB?relay
   \   000095   809C         SJMP    ??SampleApp_ProcessEvent_3
   \                     ??SampleApp_ProcessEvent_11:
   \   000097   E0           MOVX    A,@DPTR
   \   000098   6407         XRL     A,#0x7
   \   00009A   7097         JNZ     ??SampleApp_ProcessEvent_3
   \   00009C   90....       MOV     DPTR,#DeviceID
   \   00009F   E0           MOVX    A,@DPTR
   \   0000A0   6406         XRL     A,#0x6
   \   0000A2   7002         JNZ     ??SampleApp_ProcessEvent_12
   \   0000A4   A3           INC     DPTR
   \   0000A5   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_12:
   \   0000A6   6016         JZ      ??SampleApp_ProcessEvent_13
   \   0000A8   90....       MOV     DPTR,#DeviceID
   \   0000AB   E0           MOVX    A,@DPTR
   \   0000AC   6408         XRL     A,#0x8
   \   0000AE   7002         JNZ     ??SampleApp_ProcessEvent_14
   \   0000B0   A3           INC     DPTR
   \   0000B1   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_14:
   \   0000B2   600A         JZ      ??SampleApp_ProcessEvent_13
   \   0000B4                ; Setup parameters for call to function SampleApp_AnchorMSGCB
   \   0000B4   AA..         MOV     R2,?V0 + 0
   \   0000B6   AB..         MOV     R3,?V0 + 1
   \   0000B8   12....       LCALL   ??SampleApp_AnchorMSGCB?relay
   \   0000BB   02....       LJMP    ??SampleApp_ProcessEvent_3 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_13:
   \   0000BE                ; Setup parameters for call to function SampleApp_Tester_calibrationMSGCB
   \   0000BE   AA..         MOV     R2,?V0 + 0
   \   0000C0   AB..         MOV     R3,?V0 + 1
   \   0000C2   12....       LCALL   ??SampleApp_Tester_calibrationMSGCB?relay
   \   0000C5   02....       LJMP    ??SampleApp_ProcessEvent_3 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_9:
   \   0000C8   A3           INC     DPTR
   \   0000C9   E0           MOVX    A,@DPTR
   \   0000CA   90....       MOV     DPTR,#SampleApp_NwkState
   \   0000CD   F0           MOVX    @DPTR,A
   \   0000CE   6407         XRL     A,#0x7
   \   0000D0   6003         JZ      $+5
   \   0000D2   02....       LJMP    ??SampleApp_ProcessEvent_2 & 0xFFFF
   \   0000D5   90....       MOV     DPTR,#DeviceID
   \   0000D8   E0           MOVX    A,@DPTR
   \   0000D9   6406         XRL     A,#0x6
   \   0000DB   7002         JNZ     ??SampleApp_ProcessEvent_15
   \   0000DD   A3           INC     DPTR
   \   0000DE   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_15:
   \   0000DF   6015         JZ      ??SampleApp_ProcessEvent_16
   \   0000E1   90....       MOV     DPTR,#DeviceID
   \   0000E4   E0           MOVX    A,@DPTR
   \   0000E5   6408         XRL     A,#0x8
   \   0000E7   7002         JNZ     ??SampleApp_ProcessEvent_17
   \   0000E9   A3           INC     DPTR
   \   0000EA   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_17:
   \   0000EB   6009         JZ      ??SampleApp_ProcessEvent_16
   \   0000ED                ; Setup parameters for call to function osal_start_timerEx
   \   0000ED   7C1E         MOV     R4,#0x1e
   \   0000EF   7D00         MOV     R5,#0x0
   \   0000F1   7A01         MOV     R2,#0x1
   \   0000F3   02....       LJMP    ??SampleApp_ProcessEvent_5 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_16:
   \   0000F6                ; Setup parameters for call to function osal_start_timerEx
   \   0000F6   7C64         MOV     R4,#0x64
   \   0000F8   7D00         MOV     R5,#0x0
   \   0000FA   7A03         MOV     R2,#0x3
   \   0000FC   02....       LJMP    ??SampleApp_ProcessEvent_5 & 0xFFFF
    449              }
    450          
    451              // return unprocessed events
    452              return (events ^ SYS_EVENT_MSG);
   \                     ??SampleApp_ProcessEvent_6:
   \   0000FF   EE           MOV     A,R6
   \   000100   FA           MOV     R2,A
   \   000101   EF           MOV     A,R7
   \   000102   6480         XRL     A,#0x80
   \   000104   804B         SJMP    ??SampleApp_ProcessEvent_18
    453            }
    454          
    455            // Send a message out - This event is generated by a timer
    456            //  (setup in SampleApp_Init()).
    457            // anchor sends period message to help ed to localise itself 
    458            if ( (events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT)&&(DeviceID!=6)&&(DeviceID!=8) )
   \                     ??SampleApp_ProcessEvent_0:
   \   000106   EE           MOV     A,R6
   \   000107   5403         ANL     A,#0x3
   \   000109   F8           MOV     R0,A
   \   00010A   EE           MOV     A,R6
   \   00010B   6403         XRL     A,#0x3
   \   00010D   F5..         MOV     ?V0 + 0,A
   \   00010F   EF           MOV     A,R7
   \   000110   F5..         MOV     ?V0 + 1,A
   \   000112   EE           MOV     A,R6
   \   000113   A2E0         MOV     C,0xE0 /* A   */.0
   \   000115   503D         JNC     ??SampleApp_ProcessEvent_19
   \   000117   90....       MOV     DPTR,#DeviceID
   \   00011A   E0           MOVX    A,@DPTR
   \   00011B   6406         XRL     A,#0x6
   \   00011D   7002         JNZ     ??SampleApp_ProcessEvent_20
   \   00011F   A3           INC     DPTR
   \   000120   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_20:
   \   000121   607F         JZ      ??SampleApp_ProcessEvent_21
   \   000123   90....       MOV     DPTR,#DeviceID
   \   000126   E0           MOVX    A,@DPTR
   \   000127   6408         XRL     A,#0x8
   \   000129   7002         JNZ     ??SampleApp_ProcessEvent_22
   \   00012B   A3           INC     DPTR
   \   00012C   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_22:
   \   00012D   6025         JZ      ??SampleApp_ProcessEvent_19
    459            {
    460              // Send the periodic message
    461              SampleApp_Router_SendPeriodicMessage(DeviceID);
   \   00012F                ; Setup parameters for call to function SampleApp_Router_SendPeriodicMessage
   \   00012F   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   000132   12....       LCALL   ??SampleApp_Router_SendPeriodicMessage?relay
    462          
    463              // Setup to send message again in normal period (+ a little jitter)
    464              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT,
    465                  (SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT + (osal_rand() & 0x0003)) );
   \   000135                ; Setup parameters for call to function osal_rand
   \   000135   12....       LCALL   ??osal_rand?relay
   \   000138                ; Setup parameters for call to function osal_start_timerEx
   \   000138   EA           MOV     A,R2
   \   000139   5403         ANL     A,#0x3
   \   00013B   241E         ADD     A,#0x1e
   \   00013D   FC           MOV     R4,A
   \   00013E   7D00         MOV     R5,#0x0
   \   000140   7A01         MOV     R2,#0x1
   \   000142   7B00         MOV     R3,#0x0
   \   000144   90....       MOV     DPTR,#SampleApp_TaskID
   \   000147   E0           MOVX    A,@DPTR
   \   000148   F9           MOV     R1,A
   \   000149   12....       LCALL   ??osal_start_timerEx?relay
    466          
    467              // return unprocessed events
    468              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \   00014C   EE           MOV     A,R6
   \   00014D   6401         XRL     A,#0x1
   \                     ??SampleApp_ProcessEvent_23:
   \   00014F   FA           MOV     R2,A
   \   000150   EF           MOV     A,R7
   \                     ??SampleApp_ProcessEvent_18:
   \   000151   FB           MOV     R3,A
   \   000152   8055         SJMP    ??SampleApp_ProcessEvent_24
    469            }
    470            
    471            // special anchor with id = 8
    472              if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==8) )
   \                     ??SampleApp_ProcessEvent_19:
   \   000154   E8           MOV     A,R0
   \   000155   7003         JNZ     $+5
   \   000157   02....       LJMP    ??SampleApp_ProcessEvent_25 & 0xFFFF
   \   00015A   90....       MOV     DPTR,#DeviceID
   \   00015D   E0           MOVX    A,@DPTR
   \   00015E   6408         XRL     A,#0x8
   \   000160   7002         JNZ     ??SampleApp_ProcessEvent_26
   \   000162   A3           INC     DPTR
   \   000163   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_26:
   \   000164   7048         JNZ     ??SampleApp_ProcessEvent_27
    473            {
    474              static int index;
    475              if (index<5)
   \   000166   90....       MOV     DPTR,#??index
   \   000169   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   00016C   90....       MOV     DPTR,#??index
   \   00016F   500E         JNC     ??SampleApp_ProcessEvent_28
    476              // Send the periodic message
    477              {
    478                SampleApp_Tester_calibration_differentAMessage(index);
   \   000171                ; Setup parameters for call to function SampleApp_Tester_calibration_differentAMessage
   \   000171   12....       LCALL   ??Subroutine28_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   000174   12....       LCALL   ??SampleApp_Tester_calibration_differentAMessag
    479                index++;  // move to next devices
   \   000177   90....       MOV     DPTR,#??index
   \   00017A   12....       LCALL   ?Subroutine15 & 0xFFFF
    480              }
   \                     ??CrossCallReturnLabel_20:
   \   00017D   8005         SJMP    ??SampleApp_ProcessEvent_29
    481              else
    482              {index=1;}
   \                     ??SampleApp_ProcessEvent_28:
   \   00017F   7401         MOV     A,#0x1
   \   000181   F0           MOVX    @DPTR,A
   \   000182   A3           INC     DPTR
   \   000183   E4           CLR     A
   \                     ??SampleApp_ProcessEvent_29:
   \   000184   F0           MOVX    @DPTR,A
    483              // Setup to send message again in normal period (+ a little jitter)
    484              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    485                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
   \   000185                ; Setup parameters for call to function osal_rand
   \   000185   12....       LCALL   ??osal_rand?relay
   \   000188                ; Setup parameters for call to function osal_start_timerEx
   \   000188   EA           MOV     A,R2
   \   000189   5402         ANL     A,#0x2
   \   00018B   242C         ADD     A,#0x2c
   \   00018D   FC           MOV     R4,A
   \   00018E   7D01         MOV     R5,#0x1
   \   000190   7A03         MOV     R2,#0x3
   \   000192   7B00         MOV     R3,#0x0
   \   000194   90....       MOV     DPTR,#SampleApp_TaskID
   \   000197   E0           MOVX    A,@DPTR
   \   000198   F9           MOV     R1,A
   \   000199   12....       LCALL   ??osal_start_timerEx?relay
    486          
    487              // return unprocessed events
    488              return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
   \   00019C   AA..         MOV     R2,?V0 + 0
   \   00019E   AB..         MOV     R3,?V0 + 1
   \   0001A0   8007         SJMP    ??SampleApp_ProcessEvent_24
    489            }
    490          
    491             // special anchor with id = 6
    492              if ( (events & SAMPLEAPP_SEND_PERIODIC_TESTER_EVT)&&(DeviceID==6) )
   \                     ??SampleApp_ProcessEvent_21:
   \   0001A2   E8           MOV     A,R0
   \   0001A3   7015         JNZ     ??SampleApp_ProcessEvent_30
    493            {
    494              static int index;
    495              if (index<5)
    496              // Send the periodic message
    497              {
    498               SampleApp_Tester_calibrationOffsetAMessage(index, OffsetAValue[index-1]);
    499                index++;  // move to next devices
    500              }
    501              else
    502              {
    503                index=1;
    504              }
    505              // Setup to send message again in normal period (+ a little jitter)
    506              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_TESTER_EVT,
    507                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x0002)) );
    508          
    509              // return unprocessed events
    510              return (events ^ SAMPLEAPP_SEND_PERIODIC_TESTER_EVT);
    511            }
    512            
    513            
    514             // Send a location message out (ED)
    515              if ( (events & SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT)&&(DeviceID!=6) )
    516            {
    517              // Send the periodic message
    518              SampleApp_Quadrotor_SendLocation(DeviceID);
    519          
    520              // Setup to send message again in normal period (+ a little jitter)
    521              osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT,
    522                  (SAMPLEAPP_SEND_PERIODIC_LOCATION_TIMEOUT + (osal_rand() & 0x000E)) );
    523          
    524              // return unprocessed events
    525              return (events ^ SAMPLEAPP_SEND_PERIODIC_LOCATION_EVT);
    526            }
    527            
    528            
    529            
    530            // Discard unknown events
    531            return 0;
   \                     ??SampleApp_ProcessEvent_31:
   \   0001A5   7A00         MOV     R2,#0x0
   \   0001A7   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_24:
   \   0001A9   7F04         MOV     R7,#0x4
   \   0001AB   02....       LJMP    ?BANKED_LEAVE_XDATA
   \                     ??SampleApp_ProcessEvent_27:
   \   0001AE   90....       MOV     DPTR,#DeviceID
   \   0001B1   E0           MOVX    A,@DPTR
   \   0001B2   6406         XRL     A,#0x6
   \   0001B4   7002         JNZ     ??SampleApp_ProcessEvent_32
   \   0001B6   A3           INC     DPTR
   \   0001B7   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_32:
   \   0001B8   7045         JNZ     ??SampleApp_ProcessEvent_25
   \                     ??SampleApp_ProcessEvent_30:
   \   0001BA   90....       MOV     DPTR,#??index_1
   \   0001BD   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   0001C0   90....       MOV     DPTR,#??index_1
   \   0001C3   5033         JNC     ??SampleApp_ProcessEvent_33
   \   0001C5                ; Setup parameters for call to function SampleApp_Tester_calibrationOffsetAMessage
   \   0001C5   E0           MOVX    A,@DPTR
   \   0001C6   F5..         MOV     ?V0 + 2,A
   \   0001C8   A3           INC     DPTR
   \   0001C9   E0           MOVX    A,@DPTR
   \   0001CA   F5..         MOV     ?V0 + 3,A
   \   0001CC   7402         MOV     A,#0x2
   \   0001CE   78..         MOV     R0,#?V0 + 2
   \   0001D0   12....       LCALL   ?S_SHL
   \   0001D3   74..         MOV     A,#(OffsetAValue + 252) & 0xff
   \   0001D5   25..         ADD     A,?V0 + 2
   \   0001D7   F582         MOV     DPL,A
   \   0001D9   74..         MOV     A,#((OffsetAValue - 4) >> 8) & 0xff
   \   0001DB   35..         ADDC    A,?V0 + 3
   \   0001DD   F583         MOV     DPH,A
   \   0001DF   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001E2   90....       MOV     DPTR,#??index_1
   \   0001E5   12....       LCALL   ??Subroutine28_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   0001E8   12....       LCALL   ??SampleApp_Tester_calibrationOffsetAMessage?re
   \   0001EB   7404         MOV     A,#0x4
   \   0001ED   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001F0   90....       MOV     DPTR,#??index_1
   \   0001F3   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0001F6   808C         SJMP    ??SampleApp_ProcessEvent_29
   \                     ??SampleApp_ProcessEvent_33:
   \   0001F8   7401         MOV     A,#0x1
   \   0001FA   F0           MOVX    @DPTR,A
   \   0001FB   A3           INC     DPTR
   \   0001FC   E4           CLR     A
   \                     ??SampleApp_ProcessEvent_34:
   \   0001FD   8085         SJMP    ??SampleApp_ProcessEvent_29
   \   0001FF                ; Setup parameters for call to function osal_rand
   \                     ??SampleApp_ProcessEvent_25:
   \   0001FF   EE           MOV     A,R6
   \   000200   5402         ANL     A,#0x2
   \   000202   60A1         JZ      ??SampleApp_ProcessEvent_31
   \   000204   90....       MOV     DPTR,#DeviceID
   \   000207   E0           MOVX    A,@DPTR
   \   000208   6406         XRL     A,#0x6
   \   00020A   7002         JNZ     ??SampleApp_ProcessEvent_35
   \   00020C   A3           INC     DPTR
   \   00020D   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_35:
   \   00020E   6095         JZ      ??SampleApp_ProcessEvent_31
   \   000210                ; Setup parameters for call to function SampleApp_Quadrotor_SendLocation
   \   000210   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000213   12....       LCALL   ??SampleApp_Quadrotor_SendLocation?relay
   \   000216                ; Setup parameters for call to function osal_rand
   \   000216   12....       LCALL   ??osal_rand?relay
   \   000219                ; Setup parameters for call to function osal_start_timerEx
   \   000219   EA           MOV     A,R2
   \   00021A   540E         ANL     A,#0xe
   \   00021C   242C         ADD     A,#0x2c
   \   00021E   FC           MOV     R4,A
   \   00021F   7D01         MOV     R5,#0x1
   \   000221   7A02         MOV     R2,#0x2
   \   000223   7B00         MOV     R3,#0x0
   \   000225   90....       MOV     DPTR,#SampleApp_TaskID
   \   000228   E0           MOVX    A,@DPTR
   \   000229   F9           MOV     R1,A
   \   00022A   12....       LCALL   ??osal_start_timerEx?relay
   \   00022D   EE           MOV     A,R6
   \   00022E   6402         XRL     A,#0x2
   \   000230   02....       LJMP    ??SampleApp_ProcessEvent_23 & 0xFFFF
    532          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   C3           CLR     C
   \   000001   E0           MOVX    A,@DPTR
   \   000002   9405         SUBB    A,#0x5
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   9400         SUBB    A,#0x0
   \   000008   A2D2         MOV     C,0xD0 /* PSW */.2
   \   00000A   65D0         XRL     A,PSW
   \   00000C   33           RLC     A
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   2401         ADD     A,#0x1
   \   000003   F0           MOVX    @DPTR,A
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   3400         ADDC    A,#0x0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   90....       MOV     DPTR,#DeviceID
   \   000003                REQUIRE ??Subroutine28_0
   \   000003                ; // Fall through to label ??Subroutine28_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine28_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??index:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??index_1:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    533          
    534          /*********************************************************************
    535           * Event Generation Functions
    536           */
    537          /*********************************************************************
    538           * @fn      SampleApp_HandleKeys
    539           *
    540           * @brief   Handles all key events for this device.
    541           *
    542           * @param   shift - true if in shift/alt.
    543           * @param   keys - bit field for key events. Valid entries:
    544           *                 HAL_KEY_SW_2
    545           *                 HAL_KEY_SW_1
    546           *
    547           * @return  none
    548           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    549          void SampleApp_HandleKeys( uint8 shift, uint8 keys )
   \                     SampleApp_HandleKeys:
    550          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
    551            (void)shift;  // Intentionally unreferenced parameter
    552            
    553            if ( keys & HAL_KEY_SW_1 && (DeviceID==6))
   \   000006   A2E0         MOV     C,0xE0 /* A   */.0
   \   000008   5058         JNC     ??SampleApp_HandleKeys_0
   \   00000A   90....       MOV     DPTR,#DeviceID
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   6406         XRL     A,#0x6
   \   000010   7002         JNZ     ??SampleApp_HandleKeys_1
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \                     ??SampleApp_HandleKeys_1:
   \   000014   704C         JNZ     ??SampleApp_HandleKeys_0
    554            {
    555              /* This key sends the Flash Command is sent to Group 1.
    556               * This device will not receive the Flash Command from this
    557               * device (even if it belongs to group 1).
    558               */
    559              //SampleApp_SendFlashMessage( SAMPLEAPP_FLASH_DURATION );
    560               
    561               static int aindex;
    562               if(aindex!=4)
   \   000016   90....       MOV     DPTR,#??aindex
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   6404         XRL     A,#0x4
   \   00001C   7002         JNZ     ??SampleApp_HandleKeys_2
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \                     ??SampleApp_HandleKeys_2:
   \   000020   90....       MOV     DPTR,#??aindex
   \   000023   6039         JZ      ??SampleApp_HandleKeys_3
    563               {
    564                  SampleApp_Tester_calibrationAMessage( aindex+1 , RssiValue[aindex] );
   \   000025                ; Setup parameters for call to function SampleApp_Tester_calibrationAMessage
   \   000025   E0           MOVX    A,@DPTR
   \   000026   F5..         MOV     ?V0 + 0,A
   \   000028   A3           INC     DPTR
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   F5..         MOV     ?V0 + 1,A
   \   00002C   7402         MOV     A,#0x2
   \   00002E   78..         MOV     R0,#?V0 + 0
   \   000030   12....       LCALL   ?S_SHL
   \   000033   74..         MOV     A,#RssiValue & 0xff
   \   000035   25..         ADD     A,?V0 + 0
   \   000037   F582         MOV     DPL,A
   \   000039   74..         MOV     A,#(RssiValue >> 8) & 0xff
   \   00003B   35..         ADDC    A,?V0 + 1
   \   00003D   F583         MOV     DPH,A
   \   00003F   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000042   90....       MOV     DPTR,#??aindex
   \   000045   E0           MOVX    A,@DPTR
   \   000046   2401         ADD     A,#0x1
   \   000048   FA           MOV     R2,A
   \   000049   A3           INC     DPTR
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   3400         ADDC    A,#0x0
   \   00004D   FB           MOV     R3,A
   \   00004E   12....       LCALL   ??SampleApp_Tester_calibrationAMessage?relay
   \   000051   7404         MOV     A,#0x4
   \   000053   12....       LCALL   ?DEALLOC_XSTACK8
    565                  aindex++;
   \   000056   90....       MOV     DPTR,#??aindex
   \   000059   12....       LCALL   ?Subroutine15 & 0xFFFF
    566               }
   \                     ??CrossCallReturnLabel_22:
   \   00005C   8003         SJMP    ??SampleApp_HandleKeys_4
    567               else
    568               {
    569                 aindex=0;
   \                     ??SampleApp_HandleKeys_3:
   \   00005E   E4           CLR     A
   \   00005F   F0           MOVX    @DPTR,A
   \   000060   A3           INC     DPTR
   \                     ??SampleApp_HandleKeys_4:
   \   000061   F0           MOVX    @DPTR,A
    570               }
    571            }
    572          
    573            if ( keys & HAL_KEY_SW_2 )
    574            {
    575              /* The Flashr Command is sent to Group 1.
    576               * This key toggles this device in and out of group 1.
    577               * If this device doesn't belong to group 1, this application
    578               * will not receive the Flash command sent to group 1.
    579               */
    580              
    581          //    aps_Group_t *grp;
    582          //    grp = aps_FindGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    583          //    if ( grp )
    584          //    {
    585          //      // Remove from the group
    586          //      aps_RemoveGroup( SAMPLEAPP_ENDPOINT, SAMPLEAPP_FLASH_GROUP );
    587          //    }
    588          //    else
    589          //    {
    590          //      // Add to the flash group
    591          //      aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
    592          //    }
    593            }
    594          }
   \                     ??SampleApp_HandleKeys_0:
   \   000062                REQUIRE ?Subroutine0
   \   000062                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??aindex:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    595          
    596          /*********************************************************************
    597           * LOCAL FUNCTIONS
    598           */
    599          
    600          /*********************************************************************
    601           * @fn      SampleApp_MessageMSGCB
    602           *
    603           * @brief   Data message processor callback.  This function processes
    604           *          any incoming data - probably from other devices.  So, based
    605           *          on cluster ID, perform the intended action.
    606           *
    607           * @param   none
    608           *
    609           * @return  none
    610           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    611          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt ) //½ÓÊÕÊý¾Ý
   \                     SampleApp_MessageMSGCB:
    612          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
    613            //uint16 flashTime;
    614              float avalue=0.0f;
   \   000005   75..00       MOV     ?V0 + 0,#0x0
   \   000008   75..00       MOV     ?V0 + 1,#0x0
   \   00000B   75..00       MOV     ?V0 + 2,#0x0
   \   00000E   75..00       MOV     ?V0 + 3,#0x0
    615            switch ( pkt->clusterId )
   \   000011   8A82         MOV     DPL,R2
   \   000013   8B83         MOV     DPH,R3
   \   000015   A3           INC     DPTR
   \   000016   A3           INC     DPTR
   \   000017   A3           INC     DPTR
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F5..         MOV     ?V0 + 4,A
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F5..         MOV     ?V0 + 5,A
   \   000020   78..         MOV     R0,#?V0 + 4
   \   000022   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for SampleApp_MessageMSGCB>_0`:
   \   000025   0000         DW        0
   \   000027   0500         DW        5
   \   000029   0200         DW        2
   \   00002B   ....         DW        ??SampleApp_MessageMSGCB_0
   \   00002D   0300         DW        3
   \   00002F   ....         DW        ??SampleApp_MessageMSGCB_1
   \   000031   3200         DW        50
   \   000033   ....         DW        ??SampleApp_MessageMSGCB_2
   \   000035   3300         DW        51
   \   000037   ....         DW        ??SampleApp_MessageMSGCB_3
   \   000039   3400         DW        52
   \   00003B   ....         DW        ??SampleApp_MessageMSGCB_4
   \   00003D   ....         DW        ??SampleApp_MessageMSGCB_5
    616            {
    617              case SAMPLEAPP_PERIODIC_CLUSTERID:
    618             //  printRSSIandLQI(pkt,0);
    619              // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    620                break;
    621          //    case SAMPLEAPP_PERIODIC_CLUSTERID:
    622          //      { // unsigned char* rssivalue;
    623          //        //  uint8 rssiE=25;
    624          //         // int abc=3;
    625          //         // rssivalue=&rssiE;
    626          //       // int8 rssivalue;
    627          //        rssivalue=0xff-pkt->rssi;
    628          //        unsigned char rssi_buf[3];
    629          //        rssi_buf[0]='-';
    630          //        rssi_buf[1]=rssivalue/10+0x30;
    631          //        rssi_buf[2]=rssivalue%10+0x30;
    632          //     // HalUARTWrite(0, "Rx:", 3);      
    633          //      HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    634          //  
    635          //                
    636          //    //  HalUARTWrite(0, "\n", 1); 
    637          //      HalUARTWrite(0, "RSSI:", 5);  
    638          //      HalUARTWrite(0,rssi_buf,3);
    639          ////     HalUARTWrite(0, "\r\n", 2); 
    640          //////     
    641          ////     uint8 lqivalue;
    642          ////     lqivalue=pkt->LinkQuality;
    643          ////     unsigned char lqi_buf[3];
    644          ////      lqi_buf[0]=lqivalue/100+0x30;
    645          ////        lqi_buf[1]=(lqivalue%100)/10+0x30;
    646          ////        lqi_buf[2]=lqivalue%10+0x30;
    647          ////      HalUARTWrite(0, "LQI:", 4);  
    648          ////      HalUARTWrite(0,lqi_buf,3);
    649          ////     HalUARTWrite(0, "\n", 1);         //»Ø³µ»»ÐÐ
    650          //      break;
    651          //      }
    652              
    653              
    654          
    655              case LZQR_GROUP_CLUSTERID: 
    656                {
    657                 HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    658                  
    659                  break;
    660                }
    661              case CALBRATION_N_CLUSTERID:
    662                {
    663                  
    664                  byte alphaindex;
    665                  alphaindex=*(pkt->cmd.Data);
   \                     ??SampleApp_MessageMSGCB_0:
   \   00003F   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000042   E8           MOV     A,R0
   \   000043   FC           MOV     R4,A
   \   000044   E9           MOV     A,R1
   \   000045   FD           MOV     R5,A
   \   000046   8C82         MOV     DPL,R4
   \   000048   8D83         MOV     DPH,R5
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   F8           MOV     R0,A
    666                  if(alphaindex=='A')
   \   00004C   7441         MOV     A,#0x41
   \   00004E   68           XRL     A,R0
   \   00004F   6003         JZ      $+5
   \   000051   02....       LJMP    ??SampleApp_MessageMSGCB_6 & 0xFFFF
    667                   {  
    668           //             HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength);
    669                        byte index;
    670                        index=*(pkt->cmd.Data+1);
    671                        avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   000054   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   000057   12....       LCALL   ?L_TO_FLT
   \   00005A   90....       MOV     DPTR,#__Constant_41200000
   \   00005D   78..         MOV     R0,#?V0 + 4
   \   00005F   12....       LCALL   ?L_MOV_X
   \   000062   78..         MOV     R0,#?V0 + 0
   \   000064   79..         MOV     R1,#?V0 + 4
   \   000066   12....       LCALL   ?FLT_MUL
   \   000069   8C82         MOV     DPL,R4
   \   00006B   8D83         MOV     DPH,R5
   \   00006D   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   000070   12....       LCALL   ?L_TO_FLT
   \   000073   78..         MOV     R0,#?V0 + 0
   \   000075   79..         MOV     R1,#?V0 + 4
   \   000077   12....       LCALL   ?FLT_ADD
   \   00007A   8C82         MOV     DPL,R4
   \   00007C   8D83         MOV     DPH,R5
   \   00007E   12....       LCALL   ??Subroutine30_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   000081   12....       LCALL   ?L_TO_FLT
   \   000084   90....       MOV     DPTR,#__Constant_3dcccccd
   \   000087   78..         MOV     R0,#?V0 + 8
   \   000089   12....       LCALL   ?L_MOV_X
   \   00008C   78..         MOV     R0,#?V0 + 4
   \   00008E   79..         MOV     R1,#?V0 + 8
   \   000090   12....       LCALL   ?FLT_MUL
   \   000093   78..         MOV     R0,#?V0 + 0
   \   000095   79..         MOV     R1,#?V0 + 4
   \   000097   12....       LCALL   ?FLT_ADD
    672                        if(avalue>0)   
   \   00009A   90....       MOV     DPTR,#__Constant_1
   \   00009D   78..         MOV     R0,#?V0 + 4
   \   00009F   12....       LCALL   ?L_MOV_X
   \   0000A2   78..         MOV     R0,#?V0 + 0
   \   0000A4   79..         MOV     R1,#?V0 + 4
   \   0000A6   12....       LCALL   ?FLT_GE
   \   0000A9   5044         JNC     ??SampleApp_MessageMSGCB_5
    673                        {
    674                            switch (index)
   \   0000AB   8C82         MOV     DPL,R4
   \   0000AD   8D83         MOV     DPH,R5
   \   0000AF   A3           INC     DPTR
   \   0000B0   E0           MOVX    A,@DPTR
   \   0000B1   6431         XRL     A,#0x31
   \   0000B3   7008         JNZ     ??SampleApp_MessageMSGCB_2
    675                                 case '1':
    676                                    {
    677                                            AValue[0]=avalue;
   \   0000B5   90....       MOV     DPTR,#AValue
   \   0000B8   78..         MOV     R0,#?V0 + 0
   \   0000BA   12....       LCALL   ?L_MOV_TO_X
    678                                            break;
    679                                     }
    680                                 case '2':
    681                                    {
    682                                            AValue[1]=avalue;
   \                     ??SampleApp_MessageMSGCB_2:
   \   0000BD   90....       MOV     DPTR,#AValue + 4
   \   0000C0   78..         MOV     R0,#?V0 + 0
   \   0000C2   12....       LCALL   ?L_MOV_TO_X
    683                                            break;
   \   0000C5   8028         SJMP    ??SampleApp_MessageMSGCB_5
    684                                     }
    685                                 case '3':
    686                                    {
    687                                            AValue[2]=avalue;
   \                     ??SampleApp_MessageMSGCB_3:
   \   0000C7   90....       MOV     DPTR,#AValue + 8
   \   0000CA   8003         SJMP    ??SampleApp_MessageMSGCB_7
    688                                            break;
    689                                     }
    690                                 case '4':
    691                                    {
    692                                            AValue[3]=avalue;
   \                     ??SampleApp_MessageMSGCB_4:
   \   0000CC   90....       MOV     DPTR,#AValue + 12
   \                     ??SampleApp_MessageMSGCB_7:
   \   0000CF   E4           CLR     A
   \   0000D0   F0           MOVX    @DPTR,A
   \   0000D1   A3           INC     DPTR
   \   0000D2   F0           MOVX    @DPTR,A
   \   0000D3   A3           INC     DPTR
   \   0000D4   F0           MOVX    @DPTR,A
   \   0000D5   A3           INC     DPTR
   \   0000D6   F0           MOVX    @DPTR,A
    693                                            break;
   \   0000D7   8016         SJMP    ??SampleApp_MessageMSGCB_5
    694                                     }
    695                      
    696                            break;
    697                        }
    698                     }
    699                  else if(alphaindex=='T')  // test signal from test anchor
   \                     ??SampleApp_MessageMSGCB_6:
   \   0000D9   7454         MOV     A,#0x54
   \   0000DB   68           XRL     A,R0
   \   0000DC   7011         JNZ     ??SampleApp_MessageMSGCB_5
    700                   {
    701                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \                     ??SampleApp_MessageMSGCB_1:
   \   0000DE                ; Setup parameters for call to function HalUARTWrite
   \   0000DE   12....       LCALL   ?Subroutine21 & 0xFFFF
    702                   }
    703          //        else if(alphaindex=='O')  // test signal from test anchor
    704          //         {
    705          //          HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
    706          //         }
    707                }
    708          
    709            }
   \                     ??CrossCallReturnLabel_29:
   \   0000E1   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   0000E4   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   0000E7   12....       LCALL   ??Subroutine28_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0000EA   7900         MOV     R1,#0x0
   \   0000EC   12....       LCALL   ??HalUARTWrite?relay
    710          }
   \                     ??SampleApp_MessageMSGCB_5:
   \   0000EF   02....       LJMP    ??Subroutine37_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   24D0         ADD     A,#-0x30
   \   000006   F5..         MOV     ?V0 + 0,A
   \   000008   E4           CLR     A
   \   000009   34FF         ADDC    A,#-0x1
   \   00000B   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   F5..         MOV     ?V0 + 1,A
   \   000002                REQUIRE ??Subroutine29_0
   \   000002                ; // Fall through to label ??Subroutine29_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine29_0:
   \   000000   33           RLC     A
   \   000001   95E0         SUBB    A,0xE0 /* A   */
   \   000003   F5..         MOV     ?V0 + 2,A
   \   000005   F5..         MOV     ?V0 + 3,A
   \   000007   78..         MOV     R0,#?V0 + 0
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine30_0:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine31_0
   \   000001                ; // Fall through to label ??Subroutine31_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine31_0:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine32_0
   \   000001                ; // Fall through to label ??Subroutine32_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine32_0:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   24D0         ADD     A,#-0x30
   \   000007   F5..         MOV     ?V0 + 4,A
   \   000009   E4           CLR     A
   \   00000A   34FF         ADDC    A,#-0x1
   \   00000C   F5..         MOV     ?V0 + 5,A
   \   00000E   33           RLC     A
   \   00000F   95E0         SUBB    A,0xE0 /* A   */
   \   000011   F5..         MOV     ?V0 + 6,A
   \   000013   F5..         MOV     ?V0 + 7,A
   \   000015   78..         MOV     R0,#?V0 + 4
   \   000017   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   EA           MOV     A,R2
   \   000001   241F         ADD     A,#0x1f
   \   000003   F582         MOV     DPL,A
   \   000005   EB           MOV     A,R3
   \   000006   3400         ADDC    A,#0x0
   \   000008   F583         MOV     DPH,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F8           MOV     R0,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F9           MOV     R1,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   EA           MOV     A,R2
   \   000001   2421         ADD     A,#0x21
   \   000003   F582         MOV     DPL,A
   \   000005   EB           MOV     A,R3
   \   000006   3400         ADDC    A,#0x0
   \   000008   F583         MOV     DPH,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine33_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FC           MOV     R4,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FD           MOV     R5,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine37_0:
   \   000000   7F0C         MOV     R7,#0xc
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    711          
    712          /*********************************************************************
    713           * @fn      SampleApp_QuadrotorMSGCB
    714           *
    715           * @brief   Data message processor callback.  This function processes
    716           *          any incoming data - probably from other devices.  So, based
    717           *          on cluster ID, perform the intended action.
    718           *
    719           * @param   none
    720           *
    721           * @return  none
    722           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    723          void SampleApp_QuadrotorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_QuadrotorMSGCB:
    724          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 0
    725            float avalue=0.0f;
    726            float offseta=0.0f;
    727            switch ( pkt->clusterId )
   \   000005   EA           MOV     A,R2
   \   000006   2421         ADD     A,#0x21
   \   000008   FE           MOV     R6,A
   \   000009   EB           MOV     A,R3
   \   00000A   3400         ADDC    A,#0x0
   \   00000C   FF           MOV     R7,A
   \   00000D   EA           MOV     A,R2
   \   00000E   241F         ADD     A,#0x1f
   \   000010   F5..         MOV     ?V0 + 0,A
   \   000012   EB           MOV     A,R3
   \   000013   3400         ADDC    A,#0x0
   \   000015   F5..         MOV     ?V0 + 1,A
   \   000017   8A82         MOV     DPL,R2
   \   000019   8B83         MOV     DPH,R3
   \   00001B   A3           INC     DPTR
   \   00001C   A3           INC     DPTR
   \   00001D   A3           INC     DPTR
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   F5..         MOV     ?V0 + 2,A
   \   000022   A3           INC     DPTR
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F5..         MOV     ?V0 + 3,A
   \   000026   78..         MOV     R0,#?V0 + 2
   \   000028   12....       LCALL   ?US_SWITCH_SPARSE
   \                     `?<Jumptable for SampleApp_QuadrotorMSGCB>_0`:
   \   00002B   0000         DW        0
   \   00002D   0500         DW        5
   \   00002F   0100         DW        1
   \   000031   ....         DW        ??SampleApp_QuadrotorMSGCB_0
   \   000033   0200         DW        2
   \   000035   ....         DW        ??SampleApp_QuadrotorMSGCB_1
   \   000037   0300         DW        3
   \   000039   ....         DW        ??SampleApp_QuadrotorMSGCB_2
   \   00003B   3300         DW        51
   \   00003D   ....         DW        ??SampleApp_QuadrotorMSGCB_3
   \   00003F   3400         DW        52
   \   000041   ....         DW        ??SampleApp_QuadrotorMSGCB_4
   \   000043   ....         DW        ??SampleApp_QuadrotorMSGCB_5
    728            {
    729               
    730              case SAMPLEAPP_PERIODIC_CLUSTERID:
    731                { 
    732                  
    733                  byte index;
    734                  index=*(pkt->cmd.Data+1);
   \                     ??SampleApp_QuadrotorMSGCB_0:
   \   000045   8E82         MOV     DPL,R6
   \   000047   8F83         MOV     DPH,R7
   \   000049   12....       LCALL   ??Subroutine34_0 & 0xFFFF
    735                  rssivalue=(0xff-pkt->rssi);
    736                 // printRSSIandLQI(pkt, 0);
    737                  switch (index)
   \                     ??CrossCallReturnLabel_63:
   \   00004C   600C         JZ      ??SampleApp_QuadrotorMSGCB_6
   \   00004E   14           DEC     A
   \   00004F   6029         JZ      ??SampleApp_QuadrotorMSGCB_7
   \   000051   14           DEC     A
   \   000052   6046         JZ      ??SampleApp_QuadrotorMSGCB_8
   \   000054   14           DEC     A
   \   000055   6063         JZ      ??SampleApp_QuadrotorMSGCB_9
   \   000057   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    738                  {
    739                      case '1':
    740                        { 
    741                          //moving average filter
    742                          moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[0]);
   \                     ??SampleApp_QuadrotorMSGCB_6:
   \   00005A                ; Setup parameters for call to function moving_average
   \   00005A   75....       MOV     ?V0 + 0,#RssiValue & 0xff
   \   00005D   75....       MOV     ?V0 + 1,#(RssiValue >> 8) & 0xff
   \   000060   78..         MOV     R0,#?V0 + 0
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000065   75....       MOV     ?V0 + 0,#imof1 & 0xff
   \   000068   75....       MOV     ?V0 + 1,#(imof1 >> 8) & 0xff
   \   00006B   78..         MOV     R0,#?V0 + 0
   \   00006D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000070   7C1F         MOV     R4,#0x1f
   \   000072   7D00         MOV     R5,#0x0
   \   000074   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   000076   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   000078   805E         SJMP    ??SampleApp_QuadrotorMSGCB_10
    743                        }
    744                      
    745                            break;
    746                      case '2':
    747                        {
    748                          //moving average filter
    749                          moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[1]);
   \                     ??SampleApp_QuadrotorMSGCB_7:
   \   00007A                ; Setup parameters for call to function moving_average
   \   00007A   75....       MOV     ?V0 + 0,#(RssiValue + 4) & 0xff
   \   00007D   75....       MOV     ?V0 + 1,#((RssiValue + 4) >> 8) & 0xff
   \   000080   78..         MOV     R0,#?V0 + 0
   \   000082   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000085   75....       MOV     ?V0 + 0,#imof2 & 0xff
   \   000088   75....       MOV     ?V0 + 1,#(imof2 >> 8) & 0xff
   \   00008B   78..         MOV     R0,#?V0 + 0
   \   00008D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000090   7C1F         MOV     R4,#0x1f
   \   000092   7D00         MOV     R5,#0x0
   \   000094   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   000096   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   000098   803E         SJMP    ??SampleApp_QuadrotorMSGCB_10
    750                        }
    751                            break;
    752                      case '3':
    753                        {
    754                          //moving average filter
    755                          moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[2]);
   \                     ??SampleApp_QuadrotorMSGCB_8:
   \   00009A                ; Setup parameters for call to function moving_average
   \   00009A   75....       MOV     ?V0 + 0,#(RssiValue + 8) & 0xff
   \   00009D   75....       MOV     ?V0 + 1,#((RssiValue + 8) >> 8) & 0xff
   \   0000A0   78..         MOV     R0,#?V0 + 0
   \   0000A2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A5   75....       MOV     ?V0 + 0,#imof3 & 0xff
   \   0000A8   75....       MOV     ?V0 + 1,#(imof3 >> 8) & 0xff
   \   0000AB   78..         MOV     R0,#?V0 + 0
   \   0000AD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B0   7C1F         MOV     R4,#0x1f
   \   0000B2   7D00         MOV     R5,#0x0
   \   0000B4   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   0000B6   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   0000B8   801E         SJMP    ??SampleApp_QuadrotorMSGCB_10
    756                        }
    757                            break;
    758                      case '4':
    759                        {
    760                          //moving average filter
    761                           moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[3]);
   \                     ??SampleApp_QuadrotorMSGCB_9:
   \   0000BA                ; Setup parameters for call to function moving_average
   \   0000BA   75....       MOV     ?V0 + 0,#(RssiValue + 12) & 0xff
   \   0000BD   75....       MOV     ?V0 + 1,#((RssiValue + 12) >> 8) & 0xff
   \   0000C0   78..         MOV     R0,#?V0 + 0
   \   0000C2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C5   75....       MOV     ?V0 + 0,#imof4 & 0xff
   \   0000C8   75....       MOV     ?V0 + 1,#(imof4 >> 8) & 0xff
   \   0000CB   78..         MOV     R0,#?V0 + 0
   \   0000CD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D0   7C1F         MOV     R4,#0x1f
   \   0000D2   7D00         MOV     R5,#0x0
   \   0000D4   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   0000D6   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \                     ??SampleApp_QuadrotorMSGCB_10:
   \   0000D8   90....       MOV     DPTR,#rssivalue
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   F9           MOV     R1,A
   \   0000DD   12....       LCALL   ??moving_average?relay
   \   0000E0   7404         MOV     A,#0x4
   \   0000E2   12....       LCALL   ?DEALLOC_XSTACK8
    762                        }
    763                            break;    
   \   0000E5   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    764                      default:
    765                      
    766                             break;
    767                   }
    768                  break;
    769                }
    770          
    771              case LZQR_GROUP_CLUSTERID: // position of other quadrotors
    772                    {
    773                      HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
   \                     ??SampleApp_QuadrotorMSGCB_2:
   \   0000E8                ; Setup parameters for call to function HalUARTWrite
   \   0000E8   12....       LCALL   ?Subroutine17 & 0xFFFF
    774                     // break;
    775                    }
   \                     ??CrossCallReturnLabel_58:
   \   0000EB   8E82         MOV     DPL,R6
   \   0000ED   8F83         MOV     DPH,R7
   \   0000EF   12....       LCALL   ??Subroutine28_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   0000F2   7900         MOV     R1,#0x0
   \   0000F4   12....       LCALL   ??HalUARTWrite?relay
    776              
    777          
    778               case CALBRATION_N_CLUSTERID:
    779              {
    780                  
    781                  byte alphaindex;
    782                  alphaindex=*(pkt->cmd.Data);
   \                     ??SampleApp_QuadrotorMSGCB_1:
   \   0000F7   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   F8           MOV     R0,A
    783                  if(alphaindex=='A')
   \   0000FC   7441         MOV     A,#0x41
   \   0000FE   68           XRL     A,R0
   \   0000FF   6003         JZ      $+5
   \   000101   02....       LJMP    ??SampleApp_QuadrotorMSGCB_11 & 0xFFFF
    784                   {  
    785                        byte index;
    786                        index=*(pkt->cmd.Data+1);
    787                        avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   000104   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000107   12....       LCALL   ?L_TO_FLT
   \   00010A   90....       MOV     DPTR,#__Constant_41200000
   \   00010D   78..         MOV     R0,#?V0 + 4
   \   00010F   12....       LCALL   ?L_MOV_X
   \   000112   78..         MOV     R0,#?V0 + 0
   \   000114   79..         MOV     R1,#?V0 + 4
   \   000116   12....       LCALL   ?FLT_MUL
   \   000119   8A82         MOV     DPL,R2
   \   00011B   8B83         MOV     DPH,R3
   \   00011D   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   000120   12....       LCALL   ?L_TO_FLT
   \   000123   78..         MOV     R0,#?V0 + 0
   \   000125   79..         MOV     R1,#?V0 + 4
   \   000127   12....       LCALL   ?FLT_ADD
   \   00012A   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00012D   12....       LCALL   ?L_TO_FLT
   \   000130   90....       MOV     DPTR,#__Constant_3dcccccd
   \   000133   78..         MOV     R0,#?V0 + 8
   \   000135   12....       LCALL   ?L_MOV_X
   \   000138   78..         MOV     R0,#?V0 + 4
   \   00013A   79..         MOV     R1,#?V0 + 8
   \   00013C   12....       LCALL   ?FLT_MUL
   \   00013F   78..         MOV     R0,#?V0 + 0
   \   000141   79..         MOV     R1,#?V0 + 4
   \   000143   12....       LCALL   ?FLT_ADD
    788                        if(avalue>0)   
   \   000146   90....       MOV     DPTR,#__Constant_1
   \   000149   78..         MOV     R0,#?V0 + 4
   \   00014B   12....       LCALL   ?L_MOV_X
   \   00014E   78..         MOV     R0,#?V0 + 0
   \   000150   79..         MOV     R1,#?V0 + 4
   \   000152   12....       LCALL   ?FLT_GE
   \   000155   4003         JC      $+5
   \   000157   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    789                        {
    790                            switch (index)
   \   00015A   8A82         MOV     DPL,R2
   \   00015C   8B83         MOV     DPH,R3
   \   00015E   A3           INC     DPTR
   \   00015F   E0           MOVX    A,@DPTR
   \   000160   6431         XRL     A,#0x31
   \   000162   6003         JZ      $+5
   \   000164   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    791                                 case '1':
    792                                    {
    793                                            moving_average_f(avalue, peraBuf1, 8-1, aindex1, &AValue[0]);
   \   000167                ; Setup parameters for call to function moving_average_f
   \   000167   75....       MOV     ?V0 + 4,#AValue & 0xff
   \   00016A   75....       MOV     ?V0 + 5,#(AValue >> 8) & 0xff
   \   00016D   78..         MOV     R0,#?V0 + 4
   \   00016F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000172   75....       MOV     ?V0 + 4,#aindex1 & 0xff
   \   000175   75....       MOV     ?V0 + 5,#(aindex1 >> 8) & 0xff
   \   000178   78..         MOV     R0,#?V0 + 4
   \   00017A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00017D   75..07       MOV     ?V0 + 4,#0x7
   \   000180   75..00       MOV     ?V0 + 5,#0x0
   \   000183   78..         MOV     R0,#?V0 + 4
   \   000185   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000188   75....       MOV     ?V0 + 4,#peraBuf1 & 0xff
   \   00018B   75....       MOV     ?V0 + 5,#(peraBuf1 >> 8) & 0xff
   \   00018E   02....       LJMP    ??SampleApp_QuadrotorMSGCB_12 & 0xFFFF
    794                                           // AValue[0]=avalue;
    795                                            break;
    796                                     }
    797                                 case '2':
    798                                    {
    799                                            //AValue[1]=avalue;
    800                                            break;
    801                                     }
    802                                 case '3':
    803                                    {
    804                                            AValue[2]=avalue;
   \                     ??SampleApp_QuadrotorMSGCB_3:
   \   000191   90....       MOV     DPTR,#AValue + 8
   \   000194   8003         SJMP    ??SampleApp_QuadrotorMSGCB_13
    805                                            break;
    806                                     }
    807                                 case '4':
    808                                    {
    809                                            AValue[3]=avalue;
   \                     ??SampleApp_QuadrotorMSGCB_4:
   \   000196   90....       MOV     DPTR,#AValue + 12
   \                     ??SampleApp_QuadrotorMSGCB_13:
   \   000199   E4           CLR     A
   \   00019A   F0           MOVX    @DPTR,A
   \   00019B   A3           INC     DPTR
   \   00019C   F0           MOVX    @DPTR,A
   \   00019D   A3           INC     DPTR
   \   00019E   F0           MOVX    @DPTR,A
   \   00019F   A3           INC     DPTR
   \   0001A0   F0           MOVX    @DPTR,A
    810                                            break;
   \   0001A1   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    811                                     }
    812                      
    813                            break;
    814                        }
    815                   } 
    816                  else if(alphaindex=='N')
   \                     ??SampleApp_QuadrotorMSGCB_11:
   \   0001A4   744E         MOV     A,#0x4e
   \   0001A6   68           XRL     A,R0
   \   0001A7   6003         JZ      $+5
   \   0001A9   02....       LJMP    ??SampleApp_QuadrotorMSGCB_14 & 0xFFFF
    817                       {
    818                                HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \   0001AC                ; Setup parameters for call to function HalUARTWrite
   \   0001AC   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   0001AF   7900         MOV     R1,#0x0
   \   0001B1   12....       LCALL   ??HalUARTWrite?relay
    819                                byte index;
    820                                index=*(pkt->cmd.Data+1);
    821          
    822                                float nvalue;
    823                        //        float tempn=0.0f;
    824                                
    825                                if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
   \   0001B4   8E82         MOV     DPL,R6
   \   0001B6   8F83         MOV     DPH,R7
   \   0001B8   E0           MOVX    A,@DPTR
   \   0001B9   F8           MOV     R0,A
   \   0001BA   A3           INC     DPTR
   \   0001BB   E0           MOVX    A,@DPTR
   \   0001BC   F9           MOV     R1,A
   \   0001BD   E8           MOV     A,R0
   \   0001BE   FA           MOV     R2,A
   \   0001BF   E9           MOV     A,R1
   \   0001C0   FB           MOV     R3,A
   \   0001C1   8A82         MOV     DPL,R2
   \   0001C3   8B83         MOV     DPH,R3
   \   0001C5   A3           INC     DPTR
   \   0001C6   A3           INC     DPTR
   \   0001C7   A3           INC     DPTR
   \   0001C8   E0           MOVX    A,@DPTR
   \   0001C9   24D0         ADD     A,#-0x30
   \   0001CB   F8           MOV     R0,A
   \   0001CC   E4           CLR     A
   \   0001CD   34FF         ADDC    A,#-0x1
   \   0001CF   F9           MOV     R1,A
   \   0001D0   C3           CLR     C
   \   0001D1   E8           MOV     A,R0
   \   0001D2   940A         SUBB    A,#0xa
   \   0001D4   E9           MOV     A,R1
   \   0001D5   9400         SUBB    A,#0x0
   \   0001D7   4003         JC      $+5
   \   0001D9   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    826                                {  nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \   0001DC   88..         MOV     ?V0 + 0,R0
   \   0001DE   E9           MOV     A,R1
   \   0001DF   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0001E2   12....       LCALL   ?L_TO_FLT
   \   0001E5   8A82         MOV     DPL,R2
   \   0001E7   8B83         MOV     DPH,R3
   \   0001E9   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   0001EC   12....       LCALL   ?L_TO_FLT
   \   0001EF   90....       MOV     DPTR,#__Constant_3dcccccd
   \   0001F2   78..         MOV     R0,#?V0 + 8
   \   0001F4   12....       LCALL   ?L_MOV_X
   \   0001F7   78..         MOV     R0,#?V0 + 4
   \   0001F9   79..         MOV     R1,#?V0 + 8
   \   0001FB   12....       LCALL   ?FLT_MUL
   \   0001FE   78..         MOV     R0,#?V0 + 0
   \   000200   79..         MOV     R1,#?V0 + 4
   \   000202   12....       LCALL   ?FLT_ADD
   \   000205   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000208   12....       LCALL   ?L_TO_FLT
   \   00020B   90....       MOV     DPTR,#__Constant_3c23d70a
   \   00020E   78..         MOV     R0,#?V0 + 8
   \   000210   12....       LCALL   ?L_MOV_X
   \   000213   78..         MOV     R0,#?V0 + 4
   \   000215   79..         MOV     R1,#?V0 + 8
   \   000217   12....       LCALL   ?FLT_MUL
   \   00021A   78..         MOV     R0,#?V0 + 0
   \   00021C   79..         MOV     R1,#?V0 + 4
   \   00021E   12....       LCALL   ?FLT_ADD
    827                                    
    828                                     switch (index)
   \   000221   8A82         MOV     DPL,R2
   \   000223   8B83         MOV     DPH,R3
   \   000225   A3           INC     DPTR
   \   000226   E0           MOVX    A,@DPTR
   \   000227   24CF         ADD     A,#-0x31
   \   000229   600C         JZ      ??SampleApp_QuadrotorMSGCB_15
   \   00022B   14           DEC     A
   \   00022C   6032         JZ      ??SampleApp_QuadrotorMSGCB_16
   \   00022E   14           DEC     A
   \   00022F   6058         JZ      ??SampleApp_QuadrotorMSGCB_17
   \   000231   14           DEC     A
   \   000232   607E         JZ      ??SampleApp_QuadrotorMSGCB_18
   \   000234   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    829                                     {  
    830                                          case '1':
    831                                           {
    832                                               moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
   \                     ??SampleApp_QuadrotorMSGCB_15:
   \   000237                ; Setup parameters for call to function moving_average_f
   \   000237   75....       MOV     ?V0 + 4,#nValue & 0xff
   \   00023A   75....       MOV     ?V0 + 5,#(nValue >> 8) & 0xff
   \   00023D   78..         MOV     R0,#?V0 + 4
   \   00023F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000242   75....       MOV     ?V0 + 4,#nindex1 & 0xff
   \   000245   75....       MOV     ?V0 + 5,#(nindex1 >> 8) & 0xff
   \   000248   78..         MOV     R0,#?V0 + 4
   \   00024A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00024D   75..07       MOV     ?V0 + 4,#0x7
   \   000250   75..00       MOV     ?V0 + 5,#0x0
   \   000253   78..         MOV     R0,#?V0 + 4
   \   000255   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000258   75....       MOV     ?V0 + 4,#pernBuf1 & 0xff
   \   00025B   75....       MOV     ?V0 + 5,#(pernBuf1 >> 8) & 0xff
   \   00025E   8079         SJMP    ??SampleApp_QuadrotorMSGCB_12
    833                                             
    834                                            
    835                                             break;
    836                                           }
    837                                          case '2':
    838                                           {
    839          
    840                                                moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
   \                     ??SampleApp_QuadrotorMSGCB_16:
   \   000260                ; Setup parameters for call to function moving_average_f
   \   000260   75....       MOV     ?V0 + 4,#(nValue + 4) & 0xff
   \   000263   75....       MOV     ?V0 + 5,#((nValue + 4) >> 8) & 0xff
   \   000266   78..         MOV     R0,#?V0 + 4
   \   000268   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00026B   75....       MOV     ?V0 + 4,#nindex2 & 0xff
   \   00026E   75....       MOV     ?V0 + 5,#(nindex2 >> 8) & 0xff
   \   000271   78..         MOV     R0,#?V0 + 4
   \   000273   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000276   75..07       MOV     ?V0 + 4,#0x7
   \   000279   75..00       MOV     ?V0 + 5,#0x0
   \   00027C   78..         MOV     R0,#?V0 + 4
   \   00027E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000281   75....       MOV     ?V0 + 4,#pernBuf2 & 0xff
   \   000284   75....       MOV     ?V0 + 5,#(pernBuf2 >> 8) & 0xff
   \   000287   8050         SJMP    ??SampleApp_QuadrotorMSGCB_12
    841                                             break;
    842                                           }
    843                                           case '3':
    844                                           {
    845                                             moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
   \                     ??SampleApp_QuadrotorMSGCB_17:
   \   000289                ; Setup parameters for call to function moving_average_f
   \   000289   75....       MOV     ?V0 + 4,#(nValue + 8) & 0xff
   \   00028C   75....       MOV     ?V0 + 5,#((nValue + 8) >> 8) & 0xff
   \   00028F   78..         MOV     R0,#?V0 + 4
   \   000291   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000294   75....       MOV     ?V0 + 4,#nindex3 & 0xff
   \   000297   75....       MOV     ?V0 + 5,#(nindex3 >> 8) & 0xff
   \   00029A   78..         MOV     R0,#?V0 + 4
   \   00029C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00029F   75..07       MOV     ?V0 + 4,#0x7
   \   0002A2   75..00       MOV     ?V0 + 5,#0x0
   \   0002A5   78..         MOV     R0,#?V0 + 4
   \   0002A7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002AA   75....       MOV     ?V0 + 4,#pernBuf3 & 0xff
   \   0002AD   75....       MOV     ?V0 + 5,#(pernBuf3 >> 8) & 0xff
   \   0002B0   8027         SJMP    ??SampleApp_QuadrotorMSGCB_12
    846                                             break;
    847                                           }
    848                                           case '4':
    849                                           {
    850                                              moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
   \                     ??SampleApp_QuadrotorMSGCB_18:
   \   0002B2                ; Setup parameters for call to function moving_average_f
   \   0002B2   75....       MOV     ?V0 + 4,#(nValue + 12) & 0xff
   \   0002B5   75....       MOV     ?V0 + 5,#((nValue + 12) >> 8) & 0xff
   \   0002B8   78..         MOV     R0,#?V0 + 4
   \   0002BA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002BD   75....       MOV     ?V0 + 4,#nindex4 & 0xff
   \   0002C0   75....       MOV     ?V0 + 5,#(nindex4 >> 8) & 0xff
   \   0002C3   78..         MOV     R0,#?V0 + 4
   \   0002C5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002C8   75..07       MOV     ?V0 + 4,#0x7
   \   0002CB   75..00       MOV     ?V0 + 5,#0x0
   \   0002CE   78..         MOV     R0,#?V0 + 4
   \   0002D0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002D3   75....       MOV     ?V0 + 4,#pernBuf4 & 0xff
   \   0002D6   75....       MOV     ?V0 + 5,#(pernBuf4 >> 8) & 0xff
   \                     ??SampleApp_QuadrotorMSGCB_12:
   \   0002D9   78..         MOV     R0,#?V0 + 4
   \   0002DB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002DE   AA..         MOV     R2,?V0 + 0
   \   0002E0   AB..         MOV     R3,?V0 + 1
   \   0002E2   AC..         MOV     R4,?V0 + 2
   \   0002E4   AD..         MOV     R5,?V0 + 3
   \   0002E6   12....       LCALL   ??moving_average_f?relay
   \   0002E9   7408         MOV     A,#0x8
   \   0002EB   12....       LCALL   ?DEALLOC_XSTACK8
    851                                             break;
   \   0002EE   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    852                                                   }
    853                                          break;
    854                                      }
    855                                    }
    856                               }
    857                  else if (alphaindex=='O')
   \                     ??SampleApp_QuadrotorMSGCB_14:
   \   0002F1   744F         MOV     A,#0x4f
   \   0002F3   68           XRL     A,R0
   \   0002F4   6003         JZ      $+5
   \   0002F6   02....       LJMP    ??SampleApp_QuadrotorMSGCB_5 & 0xFFFF
    858                  {
    859                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
   \   0002F9                ; Setup parameters for call to function HalUARTWrite
   \   0002F9   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   0002FC   7900         MOV     R1,#0x0
   \   0002FE   12....       LCALL   ??HalUARTWrite?relay
    860                     byte oindex;
    861                     float plus;
    862                        oindex=*(pkt->cmd.Data+1);
   \   000301   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000304   A3           INC     DPTR
   \   000305   E0           MOVX    A,@DPTR
   \   000306   FC           MOV     R4,A
    863                        if (*(pkt->cmd.Data+2)=='+')
   \   000307   8A82         MOV     DPL,R2
   \   000309   8B83         MOV     DPH,R3
   \   00030B   A3           INC     DPTR
   \   00030C   A3           INC     DPTR
   \   00030D   E0           MOVX    A,@DPTR
   \   00030E   642B         XRL     A,#0x2b
   \   000310   75..00       MOV     ?V0 + 4,#0x0
   \   000313   75..00       MOV     ?V0 + 5,#0x0
   \   000316   75..80       MOV     ?V0 + 6,#-0x80
   \   000319   7005         JNZ     ??SampleApp_QuadrotorMSGCB_19
    864                        {
    865                           plus=1;
   \   00031B   75..3F       MOV     ?V0 + 7,#0x3f
   \   00031E   8003         SJMP    ??SampleApp_QuadrotorMSGCB_20
    866                        }
    867                        else
    868                        {
    869                          plus=-1;
   \                     ??SampleApp_QuadrotorMSGCB_19:
   \   000320   75..BF       MOV     ?V0 + 7,#-0x41
    870                        }
    871                        offseta=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   \                     ??SampleApp_QuadrotorMSGCB_20:
   \   000323   8A82         MOV     DPL,R2
   \   000325   8B83         MOV     DPH,R3
   \   000327   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   00032A   12....       LCALL   ?L_TO_FLT
   \   00032D   90....       MOV     DPTR,#__Constant_41200000
   \   000330   78..         MOV     R0,#?V0 + 8
   \   000332   12....       LCALL   ?L_MOV_X
   \   000335   78..         MOV     R0,#?V0 + 0
   \   000337   79..         MOV     R1,#?V0 + 8
   \   000339   12....       LCALL   ?FLT_MUL
   \   00033C   8A82         MOV     DPL,R2
   \   00033E   8B83         MOV     DPH,R3
   \   000340   A3           INC     DPTR
   \   000341   A3           INC     DPTR
   \   000342   A3           INC     DPTR
   \   000343   A3           INC     DPTR
   \   000344   E0           MOVX    A,@DPTR
   \   000345   24D0         ADD     A,#-0x30
   \   000347   F5..         MOV     ?V0 + 8,A
   \   000349   E4           CLR     A
   \   00034A   34FF         ADDC    A,#-0x1
   \   00034C   F5..         MOV     ?V0 + 9,A
   \   00034E   33           RLC     A
   \   00034F   95E0         SUBB    A,0xE0 /* A   */
   \   000351   F5..         MOV     ?V0 + 10,A
   \   000353   F5..         MOV     ?V0 + 11,A
   \   000355   78..         MOV     R0,#?V0 + 8
   \   000357   12....       LCALL   ?L_TO_FLT
   \   00035A   78..         MOV     R0,#?V0 + 0
   \   00035C   79..         MOV     R1,#?V0 + 8
   \   00035E   12....       LCALL   ?FLT_ADD
   \   000361   8A82         MOV     DPL,R2
   \   000363   8B83         MOV     DPH,R3
   \   000365   A3           INC     DPTR
   \   000366   A3           INC     DPTR
   \   000367   A3           INC     DPTR
   \   000368   A3           INC     DPTR
   \   000369   A3           INC     DPTR
   \   00036A   A3           INC     DPTR
   \   00036B   E0           MOVX    A,@DPTR
   \   00036C   24D0         ADD     A,#-0x30
   \   00036E   F5..         MOV     ?V0 + 12,A
   \   000370   E4           CLR     A
   \   000371   34FF         ADDC    A,#-0x1
   \   000373   F5..         MOV     ?V0 + 13,A
   \   000375   33           RLC     A
   \   000376   95E0         SUBB    A,0xE0 /* A   */
   \   000378   F5..         MOV     ?V0 + 14,A
   \   00037A   F5..         MOV     ?V0 + 15,A
   \   00037C   78..         MOV     R0,#?V0 + 12
   \   00037E   12....       LCALL   ?L_TO_FLT
   \   000381   90....       MOV     DPTR,#__Constant_3dcccccd
   \   000384   78..         MOV     R0,#?V0 + 8
   \   000386   12....       LCALL   ?L_MOV_X
   \   000389   78..         MOV     R0,#?V0 + 12
   \   00038B   79..         MOV     R1,#?V0 + 8
   \   00038D   12....       LCALL   ?FLT_MUL
   \   000390   78..         MOV     R0,#?V0 + 0
   \   000392   79..         MOV     R1,#?V0 + 12
   \   000394   12....       LCALL   ?FLT_ADD
    872                      
    873                            if (oindex=='1')
   \   000397   7431         MOV     A,#0x31
   \   000399   6C           XRL     A,R4
   \   00039A   700C         JNZ     ??SampleApp_QuadrotorMSGCB_21
    874                                    {
    875                                            OffsetAValue[0]=plus*offseta;
   \   00039C   78..         MOV     R0,#?V0 + 4
   \   00039E   79..         MOV     R1,#?V0 + 0
   \   0003A0   12....       LCALL   ?FLT_MUL
   \   0003A3   90....       MOV     DPTR,#OffsetAValue
   \   0003A6   8031         SJMP    ??SampleApp_QuadrotorMSGCB_22
    876                                           
    877                                     }
    878                             else if (oindex=='2')
   \                     ??SampleApp_QuadrotorMSGCB_21:
   \   0003A8   7432         MOV     A,#0x32
   \   0003AA   6C           XRL     A,R4
   \   0003AB   700C         JNZ     ??SampleApp_QuadrotorMSGCB_23
    879                                    {
    880                                            OffsetAValue[1]=plus*offseta;
   \   0003AD   78..         MOV     R0,#?V0 + 4
   \   0003AF   79..         MOV     R1,#?V0 + 0
   \   0003B1   12....       LCALL   ?FLT_MUL
   \   0003B4   90....       MOV     DPTR,#OffsetAValue + 4
   \   0003B7   8020         SJMP    ??SampleApp_QuadrotorMSGCB_22
    881                                           
    882                                     }
    883                             else  if (oindex=='3')
   \                     ??SampleApp_QuadrotorMSGCB_23:
   \   0003B9   7433         MOV     A,#0x33
   \   0003BB   6C           XRL     A,R4
   \   0003BC   700C         JNZ     ??SampleApp_QuadrotorMSGCB_24
    884                                    {
    885                                            OffsetAValue[2]=plus*offseta;
   \   0003BE   78..         MOV     R0,#?V0 + 4
   \   0003C0   79..         MOV     R1,#?V0 + 0
   \   0003C2   12....       LCALL   ?FLT_MUL
   \   0003C5   90....       MOV     DPTR,#OffsetAValue + 8
   \   0003C8   800F         SJMP    ??SampleApp_QuadrotorMSGCB_22
    886                                           
    887                                     }
    888                              else if (oindex=='4')
   \                     ??SampleApp_QuadrotorMSGCB_24:
   \   0003CA   7434         MOV     A,#0x34
   \   0003CC   6C           XRL     A,R4
   \   0003CD   700F         JNZ     ??SampleApp_QuadrotorMSGCB_5
    889                                    {
    890                                            OffsetAValue[3]=plus*offseta;
   \   0003CF   78..         MOV     R0,#?V0 + 4
   \   0003D1   79..         MOV     R1,#?V0 + 0
   \   0003D3   12....       LCALL   ?FLT_MUL
   \   0003D6   90....       MOV     DPTR,#OffsetAValue + 12
   \                     ??SampleApp_QuadrotorMSGCB_22:
   \   0003D9   78..         MOV     R0,#?V0 + 4
   \   0003DB   12....       LCALL   ?L_MOV_TO_X
    891                                           
    892                                     }
    893                      
    894                        
    895                  }
    896               }
    897                
    898           
    899           
    900            }
    901          
    902          }
   \                     ??SampleApp_QuadrotorMSGCB_5:
   \   0003DE   7F10         MOV     R7,#0x10
   \   0003E0   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004   E0           MOVX    A,@DPTR
   \   000005   FA           MOV     R2,A
   \   000006   A3           INC     DPTR
   \   000007   E0           MOVX    A,@DPTR
   \   000008   FB           MOV     R3,A
   \   000009   8A82         MOV     DPL,R2
   \   00000B   8B83         MOV     DPH,R3
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004                REQUIRE ??Subroutine30_0
   \   000004                ; // Fall through to label ??Subroutine30_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   85..82       MOV     DPL,?V0 + 0
   \   000003   85..83       MOV     DPH,?V0 + 1
   \   000006                REQUIRE ??Subroutine33_0
   \   000006                ; // Fall through to label ??Subroutine33_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine34_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F583         MOV     DPH,A
   \   000006   8882         MOV     DPL,R0
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   F9           MOV     R1,A
   \   00000B   EA           MOV     A,R2
   \   00000C   2418         ADD     A,#0x18
   \   00000E   F582         MOV     DPL,A
   \   000010   EB           MOV     A,R3
   \   000011   3400         ADDC    A,#0x0
   \   000013   F583         MOV     DPH,A
   \   000015   E0           MOVX    A,@DPTR
   \   000016   F8           MOV     R0,A
   \   000017   74FF         MOV     A,#-0x1
   \   000019   C3           CLR     C
   \   00001A   98           SUBB    A,R0
   \   00001B   90....       MOV     DPTR,#rssivalue
   \   00001E   F0           MOVX    @DPTR,A
   \   00001F   E9           MOV     A,R1
   \   000020   24CF         ADD     A,#-0x31
   \   000022   22           RET
    903          
    904          /*********************************************************************
    905           * @fn      SampleApp_Tester_calibrationMSGCB
    906           *
    907           * @brief   Data message processor callback.  This function processes
    908           *          any incoming data - probably from other devices.  So, based
    909           *          on cluster ID, perform the intended action.
    910           *
    911           * @param   none
    912           *
    913           * @return  none
    914           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    915          void SampleApp_Tester_calibrationMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_Tester_calibrationMSGCB:
    916          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
    917          
    918            switch ( pkt->clusterId )
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   F5..         MOV     ?V0 + 0,A
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   F5..         MOV     ?V0 + 1,A
   \   000014   78..         MOV     R0,#?V0 + 0
   \   000016   12....       LCALL   ?US_SWITCH_DENSE
   \                     `?<Jumptable for SampleApp_Tester_calibrationMS_0`:
   \   000019   0100         DW        1
   \   00001B   01           DB        1
   \   00001C   ....         DW        ??SampleApp_Tester_calibrationMSGCB_0
   \   00001E   ....         DW        ??SampleApp_Tester_calibrationMSGCB_1
   \   000020   ....         DW        ??SampleApp_Tester_calibrationMSGCB_2
    919            {
    920              case SAMPLEAPP_PERIODIC_CLUSTERID:
    921                { 
    922                  //printRSSIandLQI(pkt,0);
    923                 //  int8 rssivalue;
    924                //  HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); //Êä³ö½ÓÊÕµ½µÄÊý¾Ý
    925                  byte index;
    926                  index=*(pkt->cmd.Data+1);
   \                     ??SampleApp_Tester_calibrationMSGCB_1:
   \   000022   12....       LCALL   ?Subroutine13 & 0xFFFF
    927                  rssivalue=(0xff-pkt->rssi);
    928                  
    929                  switch (index)
   \                     ??CrossCallReturnLabel_61:
   \   000025   6012         JZ      ??SampleApp_Tester_calibrationMSGCB_3
   \   000027   14           DEC     A
   \   000028   6066         JZ      ??SampleApp_Tester_calibrationMSGCB_4
   \   00002A   14           DEC     A
   \   00002B   7003         JNZ     $+5
   \   00002D   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_5 & 0xFFFF
   \   000030   14           DEC     A
   \   000031   7003         JNZ     $+5
   \   000033   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_6 & 0xFFFF
   \   000036   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    930                  {
    931                      case '1':
    932                        {
    933          
    934                          moving_average(rssivalue, perRssiBuf1, 11, imof1, &RssiValue[0]);
   \                     ??SampleApp_Tester_calibrationMSGCB_3:
   \   000039                ; Setup parameters for call to function moving_average
   \   000039   75....       MOV     ?V0 + 0,#RssiValue & 0xff
   \   00003C   75....       MOV     ?V0 + 1,#(RssiValue >> 8) & 0xff
   \   00003F   78..         MOV     R0,#?V0 + 0
   \   000041   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000044   75....       MOV     ?V0 + 0,#imof1 & 0xff
   \   000047   75....       MOV     ?V0 + 1,#(imof1 >> 8) & 0xff
   \   00004A   78..         MOV     R0,#?V0 + 0
   \   00004C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004F   7C0B         MOV     R4,#0xb
   \   000051   7D00         MOV     R5,#0x0
   \   000053   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   000055   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   000057   90....       MOV     DPTR,#rssivalue
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   F9           MOV     R1,A
   \   00005C   12....       LCALL   ??moving_average?relay
   \   00005F   7404         MOV     A,#0x4
   \   000061   12....       LCALL   ?DEALLOC_XSTACK8
    935                          if (DeviceID==6)
   \   000064   90....       MOV     DPTR,#DeviceID
   \   000067   E0           MOVX    A,@DPTR
   \   000068   6406         XRL     A,#0x6
   \   00006A   7002         JNZ     ??SampleApp_Tester_calibrationMSGCB_7
   \   00006C   A3           INC     DPTR
   \   00006D   E0           MOVX    A,@DPTR
   \                     ??SampleApp_Tester_calibrationMSGCB_7:
   \   00006E   6003         JZ      $+5
   \   000070   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    936                          {       
    937                            OffsetAValue[0]=RssiValue[0]-RefAValue[0];
   \   000073   90....       MOV     DPTR,#RssiValue
   \   000076   78..         MOV     R0,#?V0 + 0
   \   000078   12....       LCALL   ?L_MOV_X
   \   00007B   90....       MOV     DPTR,#RefAValue
   \   00007E   78..         MOV     R0,#?V0 + 4
   \   000080   12....       LCALL   ?L_MOV_X
   \   000083   78..         MOV     R0,#?V0 + 0
   \   000085   79..         MOV     R1,#?V0 + 4
   \   000087   12....       LCALL   ?FLT_SUB
   \   00008A   90....       MOV     DPTR,#OffsetAValue
   \   00008D   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_8 & 0xFFFF
    938                          }
    939                        }
    940                      
    941                            break;
    942                      case '2':
    943                        {
    944                           moving_average(rssivalue, perRssiBuf2, 11, imof2, &RssiValue[1]);
   \                     ??SampleApp_Tester_calibrationMSGCB_4:
   \   000090                ; Setup parameters for call to function moving_average
   \   000090   75....       MOV     ?V0 + 0,#(RssiValue + 4) & 0xff
   \   000093   75....       MOV     ?V0 + 1,#((RssiValue + 4) >> 8) & 0xff
   \   000096   78..         MOV     R0,#?V0 + 0
   \   000098   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009B   75....       MOV     ?V0 + 0,#imof2 & 0xff
   \   00009E   75....       MOV     ?V0 + 1,#(imof2 >> 8) & 0xff
   \   0000A1   78..         MOV     R0,#?V0 + 0
   \   0000A3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A6   7C0B         MOV     R4,#0xb
   \   0000A8   7D00         MOV     R5,#0x0
   \   0000AA   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   0000AC   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   0000AE   90....       MOV     DPTR,#rssivalue
   \   0000B1   E0           MOVX    A,@DPTR
   \   0000B2   F9           MOV     R1,A
   \   0000B3   12....       LCALL   ??moving_average?relay
   \   0000B6   7404         MOV     A,#0x4
   \   0000B8   12....       LCALL   ?DEALLOC_XSTACK8
    945                           if (DeviceID==6)
   \   0000BB   90....       MOV     DPTR,#DeviceID
   \   0000BE   E0           MOVX    A,@DPTR
   \   0000BF   6406         XRL     A,#0x6
   \   0000C1   7002         JNZ     ??SampleApp_Tester_calibrationMSGCB_9
   \   0000C3   A3           INC     DPTR
   \   0000C4   E0           MOVX    A,@DPTR
   \                     ??SampleApp_Tester_calibrationMSGCB_9:
   \   0000C5   6003         JZ      $+5
   \   0000C7   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    946                          {       
    947                            OffsetAValue[1]=RssiValue[1]-RefAValue[1];
   \   0000CA   90....       MOV     DPTR,#RssiValue + 4
   \   0000CD   78..         MOV     R0,#?V0 + 0
   \   0000CF   12....       LCALL   ?L_MOV_X
   \   0000D2   90....       MOV     DPTR,#RefAValue + 4
   \   0000D5   78..         MOV     R0,#?V0 + 4
   \   0000D7   12....       LCALL   ?L_MOV_X
   \   0000DA   78..         MOV     R0,#?V0 + 0
   \   0000DC   79..         MOV     R1,#?V0 + 4
   \   0000DE   12....       LCALL   ?FLT_SUB
   \   0000E1   90....       MOV     DPTR,#OffsetAValue + 4
   \   0000E4   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_8 & 0xFFFF
    948                          }
    949                        }
    950                            break;
    951                      case '3':
    952                        {
    953                           moving_average(rssivalue, perRssiBuf3, 11, imof3, &RssiValue[2]);
   \                     ??SampleApp_Tester_calibrationMSGCB_5:
   \   0000E7                ; Setup parameters for call to function moving_average
   \   0000E7   75....       MOV     ?V0 + 0,#(RssiValue + 8) & 0xff
   \   0000EA   75....       MOV     ?V0 + 1,#((RssiValue + 8) >> 8) & 0xff
   \   0000ED   78..         MOV     R0,#?V0 + 0
   \   0000EF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F2   75....       MOV     ?V0 + 0,#imof3 & 0xff
   \   0000F5   75....       MOV     ?V0 + 1,#(imof3 >> 8) & 0xff
   \   0000F8   78..         MOV     R0,#?V0 + 0
   \   0000FA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FD   7C0B         MOV     R4,#0xb
   \   0000FF   7D00         MOV     R5,#0x0
   \   000101   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   000103   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   000105   90....       MOV     DPTR,#rssivalue
   \   000108   E0           MOVX    A,@DPTR
   \   000109   F9           MOV     R1,A
   \   00010A   12....       LCALL   ??moving_average?relay
   \   00010D   7404         MOV     A,#0x4
   \   00010F   12....       LCALL   ?DEALLOC_XSTACK8
    954                           if (DeviceID==6)
   \   000112   90....       MOV     DPTR,#DeviceID
   \   000115   E0           MOVX    A,@DPTR
   \   000116   6406         XRL     A,#0x6
   \   000118   7002         JNZ     ??SampleApp_Tester_calibrationMSGCB_10
   \   00011A   A3           INC     DPTR
   \   00011B   E0           MOVX    A,@DPTR
   \                     ??SampleApp_Tester_calibrationMSGCB_10:
   \   00011C   6003         JZ      $+5
   \   00011E   02....       LJMP    ??SampleApp_Tester_calibrationMSGCB_0 & 0xFFFF
    955                          {       
    956                            OffsetAValue[2]=RssiValue[2]-RefAValue[2];
   \   000121   90....       MOV     DPTR,#RssiValue + 8
   \   000124   78..         MOV     R0,#?V0 + 0
   \   000126   12....       LCALL   ?L_MOV_X
   \   000129   90....       MOV     DPTR,#RefAValue + 8
   \   00012C   78..         MOV     R0,#?V0 + 4
   \   00012E   12....       LCALL   ?L_MOV_X
   \   000131   78..         MOV     R0,#?V0 + 0
   \   000133   79..         MOV     R1,#?V0 + 4
   \   000135   12....       LCALL   ?FLT_SUB
   \   000138   90....       MOV     DPTR,#OffsetAValue + 8
   \   00013B   8051         SJMP    ??SampleApp_Tester_calibrationMSGCB_8
    957                          }
    958                        }
    959                            break;
    960                      case '4':
    961                        {
    962                           moving_average(rssivalue, perRssiBuf4, 11, imof4, &RssiValue[3]);
   \                     ??SampleApp_Tester_calibrationMSGCB_6:
   \   00013D                ; Setup parameters for call to function moving_average
   \   00013D   75....       MOV     ?V0 + 0,#(RssiValue + 12) & 0xff
   \   000140   75....       MOV     ?V0 + 1,#((RssiValue + 12) >> 8) & 0xff
   \   000143   78..         MOV     R0,#?V0 + 0
   \   000145   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000148   75....       MOV     ?V0 + 0,#imof4 & 0xff
   \   00014B   75....       MOV     ?V0 + 1,#(imof4 >> 8) & 0xff
   \   00014E   78..         MOV     R0,#?V0 + 0
   \   000150   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000153   7C0B         MOV     R4,#0xb
   \   000155   7D00         MOV     R5,#0x0
   \   000157   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   000159   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \   00015B   90....       MOV     DPTR,#rssivalue
   \   00015E   E0           MOVX    A,@DPTR
   \   00015F   F9           MOV     R1,A
   \   000160   12....       LCALL   ??moving_average?relay
   \   000163   7404         MOV     A,#0x4
   \   000165   12....       LCALL   ?DEALLOC_XSTACK8
    963                           if (DeviceID==6)
   \   000168   90....       MOV     DPTR,#DeviceID
   \   00016B   E0           MOVX    A,@DPTR
   \   00016C   6406         XRL     A,#0x6
   \   00016E   7002         JNZ     ??SampleApp_Tester_calibrationMSGCB_11
   \   000170   A3           INC     DPTR
   \   000171   E0           MOVX    A,@DPTR
   \                     ??SampleApp_Tester_calibrationMSGCB_11:
   \   000172   703C         JNZ     ??SampleApp_Tester_calibrationMSGCB_0
    964                          {       
    965                            OffsetAValue[3]=RssiValue[3]-RefAValue[3];
   \   000174   90....       MOV     DPTR,#RssiValue + 12
   \   000177   78..         MOV     R0,#?V0 + 0
   \   000179   12....       LCALL   ?L_MOV_X
   \   00017C   90....       MOV     DPTR,#RefAValue + 12
   \   00017F   78..         MOV     R0,#?V0 + 4
   \   000181   12....       LCALL   ?L_MOV_X
   \   000184   78..         MOV     R0,#?V0 + 0
   \   000186   79..         MOV     R1,#?V0 + 4
   \   000188   12....       LCALL   ?FLT_SUB
   \   00018B   90....       MOV     DPTR,#OffsetAValue + 12
   \                     ??SampleApp_Tester_calibrationMSGCB_8:
   \   00018E   78..         MOV     R0,#?V0 + 0
   \   000190   12....       LCALL   ?L_MOV_TO_X
   \   000193   801B         SJMP    ??SampleApp_Tester_calibrationMSGCB_0
    966                          }
    967                        }
    968                            break;    
    969                      default:
    970                      
    971                             break;
    972                   }
    973                  break;
    974                }
    975                 case CALBRATION_N_CLUSTERID:
    976                   {
    977                    // HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
    978                     byte alphaindex;
    979                  alphaindex=*(pkt->cmd.Data);
    980                    if(alphaindex=='O')  // test signal from test anchor
   \                     ??SampleApp_Tester_calibrationMSGCB_2:
   \   000195   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000198   8882         MOV     DPL,R0
   \   00019A   8983         MOV     DPH,R1
   \   00019C   E0           MOVX    A,@DPTR
   \   00019D   644F         XRL     A,#0x4f
   \   00019F   700F         JNZ     ??SampleApp_Tester_calibrationMSGCB_0
    981                   {
    982                    HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); 
   \   0001A1                ; Setup parameters for call to function HalUARTWrite
   \   0001A1   12....       LCALL   ?Subroutine21 & 0xFFFF
    983                   }
    984                   }
    985               
    986             
    987            }
   \                     ??CrossCallReturnLabel_30:
   \   0001A4   12....       LCALL   ??Subroutine33_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   0001A7   E8           MOV     A,R0
   \   0001A8   FA           MOV     R2,A
   \   0001A9   E9           MOV     A,R1
   \   0001AA   FB           MOV     R3,A
   \   0001AB   7900         MOV     R1,#0x0
   \   0001AD   12....       LCALL   ??HalUARTWrite?relay
    988          
    989          }
   \                     ??SampleApp_Tester_calibrationMSGCB_0:
   \   0001B0                REQUIRE ?Subroutine2
   \   0001B0                ; // Fall through to label ?Subroutine2

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F08         MOV     R7,#0x8
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000003                REQUIRE ??Subroutine34_0
   \   000003                ; // Fall through to label ??Subroutine34_0
    990          
    991          
    992          /*********************************************************************
    993           * @fn      SampleApp_AnchorMSGCB
    994           *
    995           * @brief   Data message processor callback.  This function processes
    996           *          any incoming data - probably from other devices.  So, based
    997           *          on cluster ID, perform the intended action.
    998           *
    999           * @param   none
   1000           *
   1001           * @return  none
   1002           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1003          void SampleApp_AnchorMSGCB( afIncomingMSGPacket_t *pkt ) //receive data for ed
   \                     SampleApp_AnchorMSGCB:
   1004          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   1005           // float avalue=0.0f;
   1006            int switchindex;
   1007            switch ( pkt->clusterId )
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   6401         XRL     A,#0x1
   \   000010   7002         JNZ     ??SampleApp_AnchorMSGCB_0
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \                     ??SampleApp_AnchorMSGCB_0:
   \   000014   6003         JZ      $+5
   \   000016   02....       LJMP    ??SampleApp_AnchorMSGCB_1 & 0xFFFF
   1008            {
   1009              case SAMPLEAPP_PERIODIC_CLUSTERID:
   1010                { 
   1011                  
   1012                  
   1013                 
   1014                  
   1015                  byte index;
   1016                  index=*(pkt->cmd.Data+1);
   \   000019   12....       LCALL   ?Subroutine13 & 0xFFFF
   1017                  rssivalue=(0xff-pkt->rssi);
   1018                  
   1019                  switch (index)
   \                     ??CrossCallReturnLabel_62:
   \   00001C   600F         JZ      ??SampleApp_AnchorMSGCB_2
   \   00001E   14           DEC     A
   \   00001F   6043         JZ      ??SampleApp_AnchorMSGCB_3
   \   000021   14           DEC     A
   \   000022   606F         JZ      ??SampleApp_AnchorMSGCB_4
   \   000024   14           DEC     A
   \   000025   7003         JNZ     $+5
   \   000027   02....       LJMP    ??SampleApp_AnchorMSGCB_5 & 0xFFFF
   \   00002A   02....       LJMP    ??SampleApp_AnchorMSGCB_1 & 0xFFFF
   1020                  {
   1021                      case '1':
   1022                        {
   1023                          printRSSIandLQI(pkt,1);
   \                     ??SampleApp_AnchorMSGCB_2:
   \   00002D                ; Setup parameters for call to function printRSSIandLQI
   \   00002D   7C01         MOV     R4,#0x1
   \   00002F   7D00         MOV     R5,#0x0
   \   000031   12....       LCALL   ??printRSSIandLQI?relay
   1024                          //moving average filter
   1025                          switchindex=1;
   1026                          if(DeviceID!=switchindex)
   \   000034   90....       MOV     DPTR,#DeviceID
   \   000037   E0           MOVX    A,@DPTR
   \   000038   6401         XRL     A,#0x1
   \   00003A   7002         JNZ     ??SampleApp_AnchorMSGCB_6
   \   00003C   A3           INC     DPTR
   \   00003D   E0           MOVX    A,@DPTR
   \                     ??SampleApp_AnchorMSGCB_6:
   \   00003E   7003         JNZ     $+5
   \   000040   02....       LJMP    ??SampleApp_AnchorMSGCB_1 & 0xFFFF
   1027                            {moving_average(rssivalue, perRssiBuf1, RSSI_AVG_WINDOW_SIZE-1, imof1, &RssiValue[switchindex-1]);
   \   000043                ; Setup parameters for call to function moving_average
   \   000043   75....       MOV     ?V0 + 0,#RssiValue & 0xff
   \   000046   75....       MOV     ?V0 + 1,#(RssiValue >> 8) & 0xff
   \   000049   78..         MOV     R0,#?V0 + 0
   \   00004B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004E   75....       MOV     ?V0 + 0,#imof1 & 0xff
   \   000051   75....       MOV     ?V0 + 1,#(imof1 >> 8) & 0xff
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000059   7C1F         MOV     R4,#0x1f
   \   00005B   7D00         MOV     R5,#0x0
   \   00005D   7A..         MOV     R2,#perRssiBuf1 & 0xff
   \   00005F   7B..         MOV     R3,#(perRssiBuf1 >> 8) & 0xff
   \   000061   02....       LJMP    ??SampleApp_AnchorMSGCB_7 & 0xFFFF
   1028                              // anchor to calibrate n
   1029          //                    if( (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,nValue,
   1030          //                                                        AnchorX,AnchorY,AnchorZ,AValue))<10)  //usually n is smaller than 10
   1031          //                       {SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1032                              // anchor to calibrate A
   1033            //                  if(AValue[switchindex-1]=calibrationA(DeviceID,switchindex,RssiValue,nValue,
   1034            //                                                        AnchorX,AnchorY,AnchorZ,AValue))
   1035            //                  {
   1036            //                      SampleApp_Router_calibrationAMessage(switchindex,AValue[switchindex-1];
   1037            //                  }
   1038                          }
   1039                        }
   1040                      
   1041                            break;
   1042                      case '2':
   1043                        {
   1044                          //moving average filter
   1045                          switchindex=2;
   1046                          if(DeviceID!=switchindex)
   \                     ??SampleApp_AnchorMSGCB_3:
   \   000064   90....       MOV     DPTR,#DeviceID
   \   000067   E0           MOVX    A,@DPTR
   \   000068   6402         XRL     A,#0x2
   \   00006A   7002         JNZ     ??SampleApp_AnchorMSGCB_8
   \   00006C   A3           INC     DPTR
   \   00006D   E0           MOVX    A,@DPTR
   \                     ??SampleApp_AnchorMSGCB_8:
   \   00006E   7003         JNZ     $+5
   \   000070   02....       LJMP    ??SampleApp_AnchorMSGCB_1 & 0xFFFF
   1047                          {
   1048                          moving_average(rssivalue, perRssiBuf2, RSSI_AVG_WINDOW_SIZE-1, imof2, &RssiValue[switchindex-1]);
   \   000073                ; Setup parameters for call to function moving_average
   \   000073   75....       MOV     ?V0 + 0,#(RssiValue + 4) & 0xff
   \   000076   75....       MOV     ?V0 + 1,#((RssiValue + 4) >> 8) & 0xff
   \   000079   78..         MOV     R0,#?V0 + 0
   \   00007B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007E   75....       MOV     ?V0 + 0,#imof2 & 0xff
   \   000081   75....       MOV     ?V0 + 1,#(imof2 >> 8) & 0xff
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000089   7C1F         MOV     R4,#0x1f
   \   00008B   7D00         MOV     R5,#0x0
   \   00008D   7A..         MOV     R2,#perRssiBuf2 & 0xff
   \   00008F   7B..         MOV     R3,#(perRssiBuf2 >> 8) & 0xff
   \   000091   8056         SJMP    ??SampleApp_AnchorMSGCB_7
   1049          //                    if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1050          //                                                             nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1051          //                   { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1052          //                    }
   1053                        }
   1054                            break;
   1055                      case '3':
   1056                        {
   1057                           //moving average filter
   1058                          switchindex=3;
   1059                          if(DeviceID!=switchindex)
   \                     ??SampleApp_AnchorMSGCB_4:
   \   000093   90....       MOV     DPTR,#DeviceID
   \   000096   E0           MOVX    A,@DPTR
   \   000097   6403         XRL     A,#0x3
   \   000099   7002         JNZ     ??SampleApp_AnchorMSGCB_9
   \   00009B   A3           INC     DPTR
   \   00009C   E0           MOVX    A,@DPTR
   \                     ??SampleApp_AnchorMSGCB_9:
   \   00009D   6057         JZ      ??SampleApp_AnchorMSGCB_1
   1060                          {
   1061                          moving_average(rssivalue, perRssiBuf3, RSSI_AVG_WINDOW_SIZE-1, imof3, &RssiValue[switchindex-1]);
   \   00009F                ; Setup parameters for call to function moving_average
   \   00009F   75....       MOV     ?V0 + 0,#(RssiValue + 8) & 0xff
   \   0000A2   75....       MOV     ?V0 + 1,#((RssiValue + 8) >> 8) & 0xff
   \   0000A5   78..         MOV     R0,#?V0 + 0
   \   0000A7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AA   75....       MOV     ?V0 + 0,#imof3 & 0xff
   \   0000AD   75....       MOV     ?V0 + 1,#(imof3 >> 8) & 0xff
   \   0000B0   78..         MOV     R0,#?V0 + 0
   \   0000B2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B5   7C1F         MOV     R4,#0x1f
   \   0000B7   7D00         MOV     R5,#0x0
   \   0000B9   7A..         MOV     R2,#perRssiBuf3 & 0xff
   \   0000BB   7B..         MOV     R3,#(perRssiBuf3 >> 8) & 0xff
   \   0000BD   802A         SJMP    ??SampleApp_AnchorMSGCB_7
   1062          //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1063          //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1064          //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1065                          }
   1066                        }
   1067                            break;
   1068                      case '4':
   1069                        {
   1070                           //moving average filter
   1071                          switchindex=4;
   1072                          if(DeviceID!=switchindex)
   \                     ??SampleApp_AnchorMSGCB_5:
   \   0000BF   90....       MOV     DPTR,#DeviceID
   \   0000C2   E0           MOVX    A,@DPTR
   \   0000C3   6404         XRL     A,#0x4
   \   0000C5   7002         JNZ     ??SampleApp_AnchorMSGCB_10
   \   0000C7   A3           INC     DPTR
   \   0000C8   E0           MOVX    A,@DPTR
   \                     ??SampleApp_AnchorMSGCB_10:
   \   0000C9   602B         JZ      ??SampleApp_AnchorMSGCB_1
   1073                          {
   1074                          moving_average(rssivalue, perRssiBuf4, RSSI_AVG_WINDOW_SIZE-1, imof4, &RssiValue[switchindex-1]);
   \   0000CB                ; Setup parameters for call to function moving_average
   \   0000CB   75....       MOV     ?V0 + 0,#(RssiValue + 12) & 0xff
   \   0000CE   75....       MOV     ?V0 + 1,#((RssiValue + 12) >> 8) & 0xff
   \   0000D1   78..         MOV     R0,#?V0 + 0
   \   0000D3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D6   75....       MOV     ?V0 + 0,#imof4 & 0xff
   \   0000D9   75....       MOV     ?V0 + 1,#(imof4 >> 8) & 0xff
   \   0000DC   78..         MOV     R0,#?V0 + 0
   \   0000DE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E1   7C1F         MOV     R4,#0x1f
   \   0000E3   7D00         MOV     R5,#0x0
   \   0000E5   7A..         MOV     R2,#perRssiBuf4 & 0xff
   \   0000E7   7B..         MOV     R3,#(perRssiBuf4 >> 8) & 0xff
   \                     ??SampleApp_AnchorMSGCB_7:
   \   0000E9   90....       MOV     DPTR,#rssivalue
   \   0000EC   E0           MOVX    A,@DPTR
   \   0000ED   F9           MOV     R1,A
   \   0000EE   12....       LCALL   ??moving_average?relay
   \   0000F1   7404         MOV     A,#0x4
   \   0000F3   12....       LCALL   ?DEALLOC_XSTACK8
   1075          //                      if(  (nValue[switchindex-1]=calibrationN(DeviceID,switchindex,RssiValue,
   1076          //                                                               nValue,AnchorX,AnchorY,AnchorZ,AValue))<10)
   1077          //                     { SampleApp_Router_calibrationNMessage(switchindex,nValue[switchindex-1]);}
   1078                          }
   1079                        }
   1080                            break;    
   1081                      default:
   1082                      
   1083                             break;
   1084                   }
   1085                  break;
   1086                }
   1087          
   1088                     case CALBRATION_N_CLUSTERID:
   1089                {
   1090                  //HalUARTWrite(0, pkt->cmd.Data, pkt->cmd.DataLength); // display the messages
   1091          //        byte alphaindex;
   1092          //        alphaindex=*(pkt->cmd.Data);
   1093          //        if(alphaindex=='A')    
   1094          //         {  
   1095          //              byte index;
   1096          //              index=*(pkt->cmd.Data+1);
   1097          //              
   1098          //              avalue=10.0f*(float)((int)(*(pkt->cmd.Data+3))-48)+(float)((int)(*(pkt->cmd.Data+4))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+6))-48);
   1099          //              if(avalue>0)   
   1100          //              {
   1101          //                  switch (index)
   1102          //                       case '1':
   1103          //                          {
   1104          //                                  AValue[0]=avalue;
   1105          //                                  break;
   1106          //                           }
   1107          //                       case '2':
   1108          //                          {
   1109          //                                  AValue[1]=avalue;
   1110          //                                  break;
   1111          //                           }
   1112          //                       case '3':
   1113          //                          {
   1114          //                                  AValue[2]=avalue;
   1115          //                                  break;
   1116          //                           }
   1117          //                       case '4':
   1118          //                          {
   1119          //                                  AValue[3]=avalue;
   1120          //                                  break;
   1121          //                           }
   1122          //            
   1123          //                  break;
   1124          //              }
   1125          //         } 
   1126          //               else if(alphaindex=='N')
   1127          //             {
   1128          //                      byte index;
   1129          //                      index=*(pkt->cmd.Data+1);
   1130          //                      float nvalue;
   1131          ////                      float tempn=0.0f;
   1132          //                      
   1133          //                      if(((int)(*(pkt->cmd.Data+3))-48)>=0&&((int)(*(pkt->cmd.Data+3))-48)<=9)
   1134          //                      {  
   1135          //                        
   1136          //                        nvalue=(float)((int)(*(pkt->cmd.Data+3))-48)+0.1f*(float)((int)(*(pkt->cmd.Data+5))-48)+0.01f*(float)((int)(*(pkt->cmd.Data+6))-48);
   1137          //                          
   1138          //                           switch (index)
   1139          //                           {  
   1140          //                                case '1':
   1141          //                                 {
   1142          //                                     moving_average_f(nvalue, pernBuf1, 7, nindex1, &nValue[0]);
   1143          //                                   break;
   1144          //                                 }
   1145          //                                case '2':
   1146          //                                 {
   1147          //                                      moving_average_f(nvalue, pernBuf2, 7, nindex2, &nValue[1]);
   1148          //                                   break;
   1149          //                                 }
   1150          //                                 case '3':
   1151          //                                 {
   1152          //                                      moving_average_f(nvalue, pernBuf3, 7, nindex3, &nValue[2]);
   1153          //                                   break;
   1154          //                                 }
   1155          //                                 case '4':
   1156          //                                 {
   1157          //                                      moving_average_f(nvalue, pernBuf4, 7, nindex4, &nValue[3]);
   1158          //                                   break;
   1159          //                                         }
   1160          //                                break;
   1161          //                            }
   1162          //                          }
   1163                         }
   1164                  break;
   1165                   }
   1166            }
   1167          
   1168          }
   \                     ??SampleApp_AnchorMSGCB_1:
   \   0000F6   02....       LJMP    ?Subroutine0 & 0xFFFF
   1169          /*********************************************************************
   1170           * @fn      SampleApp_SendPeriodicMessage
   1171           *
   1172           * @brief   Send the periodic message.
   1173           *
   1174           * @param   none
   1175           *
   1176           * @return  none
   1177           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1178          void SampleApp_Router_SendPeriodicMessage( int index )
   \                     SampleApp_Router_SendPeriodicMessage:
   1179          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1180              
   1181            // Router broadcast to everyone
   1182            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   \   00000A   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
   \   00000D   740F         MOV     A,#0xf
   \   00000F   12....       LCALL   ?Subroutine25 & 0xFFFF
   1183            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1184            SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   \                     ??CrossCallReturnLabel_36:
   \   000012   74FF         MOV     A,#-0x1
   \   000014   F0           MOVX    @DPTR,A
   \   000015   A3           INC     DPTR
   \   000016   12....       LCALL   ?Subroutine23 & 0xFFFF
   1185            
   1186            uint8 data[2]="A";
   \                     ??CrossCallReturnLabel_33:
   \   000019   AC82         MOV     R4,DPL
   \   00001B   AD83         MOV     R5,DPH
   \   00001D   7583..       MOV     DPH,#(`?<Constant "A">` >> 8) & 0xff
   \   000020   7582..       MOV     DPL,#`?<Constant "A">` & 0xff
   \   000023   7402         MOV     A,#0x2
   \   000025   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1187            data[1]=0x30+index;
   \   000028   EA           MOV     A,R2
   \   000029   2430         ADD     A,#0x30
   \   00002B   C0E0         PUSH    A
   \   00002D   7401         MOV     A,#0x1
   \   00002F   12....       LCALL   ?XSTACK_DISP0_8
   \   000032   D0E0         POP     A
   \   000034   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   1188            if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1189                                 SAMPLEAPP_PERIODIC_CLUSTERID,
   1190                                 osal_strlen("A1"),
   1191                                 data,
   1192                                 &SampleApp_TransID,
   1193                                 AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1194                                 1//AF_DEFAULT_RADIUS 
   1195                                  ) == afStatus_SUCCESS )
   \                     ??CrossCallReturnLabel_66:
   \   000037   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00003A   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   00003D   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000040   78..         MOV     R0,#?V0 + 0
   \   000042   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000045   7403         MOV     A,#0x3
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   8582..       MOV     ?V0 + 0,DPL
   \   00004D   8583..       MOV     ?V0 + 1,DPH
   \   000050   78..         MOV     R0,#?V0 + 0
   \   000052   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000055                ; Setup parameters for call to function osal_strlen
   \   000055   7A..         MOV     R2,#`?<Constant "A1">` & 0xff
   \   000057   7B..         MOV     R3,#(`?<Constant "A1">` >> 8) & 0xff
   \   000059   12....       LCALL   ??osal_strlen?relay
   \   00005C   8A..         MOV     ?V0 + 0,R2
   \   00005E   8B..         MOV     ?V0 + 1,R3
   \   000060   78..         MOV     R0,#?V0 + 0
   \   000062   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000065   75..01       MOV     ?V0 + 0,#0x1
   \   000068   75..00       MOV     ?V0 + 1,#0x0
   \   00006B   78..         MOV     R0,#?V0 + 0
   \   00006D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000070   7980         MOV     R1,#-0x80
   \   000072   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000074   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000076   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   000078   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   00007A   12....       LCALL   ??AF_DataRequest?relay
   \   00007D   7409         MOV     A,#0x9
   \   00007F   12....       LCALL   ?DEALLOC_XSTACK8
   1196            {
   1197            }
   1198            else
   1199            {
   1200              // Error occurred in request to send.
   1201            }
   1202          }
   \   000082   7402         MOV     A,#0x2
   \   000084   12....       LCALL   ?DEALLOC_XSTACK8
   \   000087   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   7414         MOV     A,#0x14
   \   000004   F0           MOVX    @DPTR,A
   \   000005   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine35_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001                ; Setup parameters for call to function AF_DataRequest
   \   000001   75..01       MOV     ?V0 + 0,#0x1
   \   000004   78..         MOV     R0,#?V0 + 0
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET
   1203          
   1204          /*********************************************************************
   1205           * @fn      SampleApp_Router_calibrationNMessage
   1206           *
   1207           * @brief   Send the periodic message.
   1208           *
   1209           * @param   none
   1210           *
   1211           * @return  none
   1212           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1213          void SampleApp_Router_calibrationNMessage( int index , float nvalue )
   \                     SampleApp_Router_calibrationNMessage:
   1214          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1215              
   1216            // Router broadcast to everyone
   1217          //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1218          //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1219          //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   1220            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000A   12....       LCALL   ?Subroutine10 & 0xFFFF
   1221            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1222            SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \                     ??CrossCallReturnLabel_13:
   \   00000D   7418         MOV     A,#0x18
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   78..         MOV     R0,#?V0 + 4
   \   000014   12....       LCALL   ?L_MOV_X
   1223           
   1224          
   1225           
   1226            float tempn=nvalue;  
   1227            if(nvalue>0)
   \   000017   90....       MOV     DPTR,#__Constant_1
   \   00001A   78..         MOV     R0,#?V0 + 0
   \   00001C   12....       LCALL   ?L_MOV_X
   \   00001F   78..         MOV     R0,#?V0 + 4
   \   000021   79..         MOV     R1,#?V0 + 0
   \   000023   12....       LCALL   ?FLT_GE
   \   000026   4003         JC      $+5
   \   000028   02....       LJMP    ??SampleApp_Router_calibrationNMessage_0 & 0xFFFF
   1228            {
   1229                    uint8 data[8]="N";
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   AC82         MOV     R4,DPL
   \   000033   AD83         MOV     R5,DPH
   \   000035   7583..       MOV     DPH,#(`?<Constant "N">` >> 8) & 0xff
   \   000038   7582..       MOV     DPL,#`?<Constant "N">` & 0xff
   \   00003B   7408         MOV     A,#0x8
   \   00003D   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1230                    data[1]=0x30+index;
   \   000040   EA           MOV     A,R2
   \   000041   2430         ADD     A,#0x30
   \   000043   C0E0         PUSH    A
   \   000045   7401         MOV     A,#0x1
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   D0E0         POP     A
   \   00004C   F0           MOVX    @DPTR,A
   1231          
   1232                    data[2]=':';
   \   00004D   7402         MOV     A,#0x2
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   743A         MOV     A,#0x3a
   \   000054   12....       LCALL   ?Subroutine4 & 0xFFFF
   1233                    
   1234                    uint8 number8;
   1235                    number8=(uint8)tempn;
   \                     ??CrossCallReturnLabel_0:
   \   000057   12....       LCALL   ?FLT_TO_L
   1236                    data[3]=number8+'0';
   \   00005A   7430         MOV     A,#0x30
   \   00005C   25..         ADD     A,?V0 + 0
   \   00005E   C0E0         PUSH    A
   \   000060   7403         MOV     A,#0x3
   \   000062   12....       LCALL   ?XSTACK_DISP0_8
   \   000065   D0E0         POP     A
   \   000067   F0           MOVX    @DPTR,A
   1237                    data[4]='.';
   \   000068   7404         MOV     A,#0x4
   \   00006A   12....       LCALL   ?XSTACK_DISP0_8
   \   00006D   12....       LCALL   ?Subroutine6 & 0xFFFF
   1238                    tempn=10*(tempn-(float)number8);
   \                     ??CrossCallReturnLabel_75:
   \   000070   12....       LCALL   ?UL_TO_FLT
   \   000073   78..         MOV     R0,#?V0 + 4
   \   000075   79..         MOV     R1,#?V0 + 0
   \   000077   12....       LCALL   ?FLT_SUB
   \   00007A   90....       MOV     DPTR,#__Constant_41200000
   \   00007D   78..         MOV     R0,#?V0 + 0
   \   00007F   12....       LCALL   ?L_MOV_X
   \   000082   78..         MOV     R0,#?V0 + 4
   \   000084   79..         MOV     R1,#?V0 + 0
   \   000086   12....       LCALL   ?FLT_MUL
   1239                    number8=(uint8)tempn;
   \   000089   85....       MOV     ?V0 + 0,?V0 + 4
   \   00008C   85....       MOV     ?V0 + 1,?V0 + 5
   \   00008F   85....       MOV     ?V0 + 2,?V0 + 6
   \   000092   85....       MOV     ?V0 + 3,?V0 + 7
   \   000095   78..         MOV     R0,#?V0 + 0
   \   000097   12....       LCALL   ?FLT_TO_L
   1240                    data[5]=number8+'0';
   \   00009A   7430         MOV     A,#0x30
   \   00009C   25..         ADD     A,?V0 + 0
   \   00009E   C0E0         PUSH    A
   \   0000A0   7405         MOV     A,#0x5
   \   0000A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A5   D0E0         POP     A
   \   0000A7   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   1241                    tempn=10*(tempn-(float)number8);
   1242                    number8=(uint8)tempn;
   1243                    data[6]=number8+'0';
   \                     ??CrossCallReturnLabel_77:
   \   0000AA   12....       LCALL   ?UL_TO_FLT
   \   0000AD   78..         MOV     R0,#?V0 + 4
   \   0000AF   79..         MOV     R1,#?V0 + 0
   \   0000B1   12....       LCALL   ?FLT_SUB
   \   0000B4   90....       MOV     DPTR,#__Constant_41200000
   \   0000B7   78..         MOV     R0,#?V0 + 0
   \   0000B9   12....       LCALL   ?L_MOV_X
   \   0000BC   78..         MOV     R0,#?V0 + 4
   \   0000BE   79..         MOV     R1,#?V0 + 0
   \   0000C0   12....       LCALL   ?FLT_MUL
   \   0000C3   78..         MOV     R0,#?V0 + 4
   \   0000C5   12....       LCALL   ?FLT_TO_L
   \   0000C8   E5..         MOV     A,?V0 + 4
   \   0000CA   2430         ADD     A,#0x30
   \   0000CC   C0E0         PUSH    A
   \   0000CE   7406         MOV     A,#0x6
   \   0000D0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D3   D0E0         POP     A
   \   0000D5   F0           MOVX    @DPTR,A
   1244                    data[7]='\n';
   \   0000D6   7407         MOV     A,#0x7
   \   0000D8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DB   12....       LCALL   ?Subroutine9 & 0xFFFF
   1245                                
   1246                    
   1247                    if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1248                                         CALBRATION_N_CLUSTERID,
   1249                                         8,//osal_strlen("A1")+1,
   1250                                         data,
   1251                                         &SampleApp_TransID,
   1252                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1253                                         1//AF_DEFAULT_RADIUS 
   1254                                          ) == afStatus_SUCCESS )
   1255                    {
   1256                    }
   1257                    else
   1258                    {
   1259                      // Error occurred in request to send.
   1260                    }
   1261            }
   \                     ??CrossCallReturnLabel_64:
   \   0000DE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000E1   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   0000E4   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   0000E7   78..         MOV     R0,#?V0 + 0
   \   0000E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EC   7403         MOV     A,#0x3
   \   0000EE   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F1   8582..       MOV     ?V0 + 0,DPL
   \   0000F4   8583..       MOV     ?V0 + 1,DPH
   \   0000F7   78..         MOV     R0,#?V0 + 0
   \   0000F9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FC   75..08       MOV     ?V0 + 0,#0x8
   \   0000FF   75..00       MOV     ?V0 + 1,#0x0
   \   000102   78..         MOV     R0,#?V0 + 0
   \   000104   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000107   75..02       MOV     ?V0 + 0,#0x2
   \   00010A   78..         MOV     R0,#?V0 + 0
   \   00010C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00010F   7920         MOV     R1,#0x20
   \   000111   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000113   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   000115   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   000117   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   000119   12....       LCALL   ??AF_DataRequest?relay
   \   00011C   7409         MOV     A,#0x9
   \   00011E   12....       LCALL   ?DEALLOC_XSTACK8
   1262          }
   \                     ??SampleApp_Router_calibrationNMessage_0:
   \   000121   7408         MOV     A,#0x8
   \   000123   12....       LCALL   ?DEALLOC_XSTACK8
   \   000126   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   90....       MOV     DPTR,#SampleApp_Router_Periodic_DstAddr + 8
   \   000003   7401         MOV     A,#0x1
   \   000005   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000008   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   740A         MOV     A,#0xa
   \   000002                REQUIRE ??Subroutine35_0
   \   000002                ; // Fall through to label ??Subroutine35_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   000003   78..         MOV     R0,#?V0 + 0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85....       MOV     ?V0 + 0,?V0 + 4
   \   000004   85....       MOV     ?V0 + 1,?V0 + 5
   \   000007   85....       MOV     ?V0 + 2,?V0 + 6
   \   00000A   85....       MOV     ?V0 + 3,?V0 + 7
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   742E         MOV     A,#0x2e
   \   000002                REQUIRE ??Subroutine39_0
   \   000002                ; // Fall through to label ??Subroutine39_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine39_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   E4           CLR     A
   \   000002   F5..         MOV     ?V0 + 1,A
   \   000004   F5..         MOV     ?V0 + 2,A
   \   000006   F5..         MOV     ?V0 + 3,A
   \   000008   78..         MOV     R0,#?V0 + 0
   \   00000A   22           RET
   1263          
   1264          /*********************************************************************
   1265           * @fn      SampleApp_Router_calibrationAMessage
   1266           *
   1267           * @brief   Send the periodic message.
   1268           *
   1269           * @param   none
   1270           *
   1271           * @return  none
   1272           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1273          void SampleApp_Router_calibrationAMessage( int index , float avalue )
   \                     SampleApp_Router_calibrationAMessage:
   1274          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 7
   \   000005   74F9         MOV     A,#-0x7
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1275              
   1276            // Router broadcast to everyone
   1277          //  SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1278          //  SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1279          //  SampleApp_Router_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   1280            SampleApp_Router_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000A   12....       LCALL   ?Subroutine10 & 0xFFFF
   1281            SampleApp_Router_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1282            SampleApp_Router_Periodic_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \                     ??CrossCallReturnLabel_14:
   \   00000D   741B         MOV     A,#0x1b
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   78..         MOV     R0,#?V0 + 4
   \   000014   12....       LCALL   ?L_MOV_X
   1283           
   1284          
   1285           
   1286            float tempn=avalue;  
   1287            if(avalue>0)
   \   000017   90....       MOV     DPTR,#__Constant_1
   \   00001A   78..         MOV     R0,#?V0 + 0
   \   00001C   12....       LCALL   ?L_MOV_X
   \   00001F   78..         MOV     R0,#?V0 + 4
   \   000021   79..         MOV     R1,#?V0 + 0
   \   000023   12....       LCALL   ?FLT_GE
   \   000026   4003         JC      $+5
   \   000028   02....       LJMP    ??SampleApp_Router_calibrationAMessage_0 & 0xFFFF
   1288            {
   1289                    uint8 data[7]="A";
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   AC82         MOV     R4,DPL
   \   000033   AD83         MOV     R5,DPH
   \   000035   7583..       MOV     DPH,#(`?<Constant "A">_1` >> 8) & 0xff
   \   000038   7582..       MOV     DPL,#`?<Constant "A">_1` & 0xff
   \   00003B   7407         MOV     A,#0x7
   \   00003D   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1290                   data[1]=0x30+index;
   \   000040   EA           MOV     A,R2
   \   000041   2430         ADD     A,#0x30
   \   000043   C0E0         PUSH    A
   \   000045   7401         MOV     A,#0x1
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   D0E0         POP     A
   \   00004C   F0           MOVX    @DPTR,A
   1291          
   1292                    data[2]=':';
   \   00004D   7402         MOV     A,#0x2
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   12....       LCALL   ?Subroutine8 & 0xFFFF
   1293                    
   1294                    uint8 number8;
   1295                    number8=(uint8)(tempn/10);
   1296                    data[3]=number8+'0';
   \                     ??CrossCallReturnLabel_11:
   \   000055   12....       LCALL   ?L_MOV_X
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   79..         MOV     R1,#?V0 + 8
   \   00005C   12....       LCALL   ?FLT_DIV
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?FLT_TO_L
   \   000064   E5..         MOV     A,?V0 + 0
   \   000066   2430         ADD     A,#0x30
   \   000068   C0E0         PUSH    A
   \   00006A   7403         MOV     A,#0x3
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   D0E0         POP     A
   \   000071   12....       LCALL   ?Subroutine4 & 0xFFFF
   1297                    number8=(uint8)(((int)tempn)%10);
   1298                    data[4]=number8+'0';
   \                     ??CrossCallReturnLabel_1:
   \   000074   12....       LCALL   ?FLT_TO_L
   \   000077   AD..         MOV     R5,?V0 + 1
   \   000079   A8..         MOV     R0,?V0 + 0
   \   00007B   ED           MOV     A,R5
   \   00007C   F9           MOV     R1,A
   \   00007D   7A0A         MOV     R2,#0xa
   \   00007F   7B00         MOV     R3,#0x0
   \   000081   12....       LCALL   ?S_DIV_MOD
   \   000084   EA           MOV     A,R2
   \   000085   2430         ADD     A,#0x30
   \   000087   C0E0         PUSH    A
   \   000089   7404         MOV     A,#0x4
   \   00008B   12....       LCALL   ?XSTACK_DISP0_8
   \   00008E   D0E0         POP     A
   \   000090   F0           MOVX    @DPTR,A
   1299                    data[5]='.';
   \   000091   7405         MOV     A,#0x5
   \   000093   12....       LCALL   ?XSTACK_DISP0_8
   \   000096   12....       LCALL   ?Subroutine7 & 0xFFFF
   1300                    tempn=10*(tempn-(int)tempn);
   1301                    number8=(uint8)tempn;
   1302                    data[6]=number8+'0';
   1303                                
   1304                    
   1305                    if ( AF_DataRequest( &SampleApp_Router_Periodic_DstAddr, &SampleApp_epDesc,
   1306                                         CALBRATION_N_CLUSTERID,
   1307                                         7,//osal_strlen("A1")+1,
   1308                                         data,
   1309                                         &SampleApp_TransID,
   1310                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1311                                         1//AF_DEFAULT_RADIUS 
   1312                                          ) == afStatus_SUCCESS )
   1313                    {
   1314                    }
   1315                    else
   1316                    {
   1317                      // Error occurred in request to send.
   1318                    }
   1319            }
   \                     ??CrossCallReturnLabel_8:
   \   000099   12....       LCALL   ?L_TO_FLT
   \   00009C   78..         MOV     R0,#?V0 + 4
   \   00009E   79..         MOV     R1,#?V0 + 0
   \   0000A0   12....       LCALL   ?FLT_SUB
   \   0000A3   90....       MOV     DPTR,#__Constant_41200000
   \   0000A6   78..         MOV     R0,#?V0 + 0
   \   0000A8   12....       LCALL   ?L_MOV_X
   \   0000AB   78..         MOV     R0,#?V0 + 4
   \   0000AD   79..         MOV     R1,#?V0 + 0
   \   0000AF   12....       LCALL   ?FLT_MUL
   \   0000B2   78..         MOV     R0,#?V0 + 4
   \   0000B4   12....       LCALL   ?FLT_TO_L
   \   0000B7   E5..         MOV     A,?V0 + 4
   \   0000B9   2430         ADD     A,#0x30
   \   0000BB   C0E0         PUSH    A
   \   0000BD   7406         MOV     A,#0x6
   \   0000BF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C2   D0E0         POP     A
   \   0000C4   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CA   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   0000CD   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   0000D0   78..         MOV     R0,#?V0 + 0
   \   0000D2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D5   7403         MOV     A,#0x3
   \   0000D7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DA   8582..       MOV     ?V0 + 0,DPL
   \   0000DD   8583..       MOV     ?V0 + 1,DPH
   \   0000E0   78..         MOV     R0,#?V0 + 0
   \   0000E2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E5   75..07       MOV     ?V0 + 0,#0x7
   \   0000E8   75..00       MOV     ?V0 + 1,#0x0
   \   0000EB   78..         MOV     R0,#?V0 + 0
   \   0000ED   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F0   75..02       MOV     ?V0 + 0,#0x2
   \   0000F3   78..         MOV     R0,#?V0 + 0
   \   0000F5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F8   7920         MOV     R1,#0x20
   \   0000FA   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   0000FC   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   0000FE   7A..         MOV     R2,#SampleApp_Router_Periodic_DstAddr & 0xff
   \   000100   7B..         MOV     R3,#(SampleApp_Router_Periodic_DstAddr >> 8) & 0xff
   \   000102   12....       LCALL   ??AF_DataRequest?relay
   \   000105   7409         MOV     A,#0x9
   \   000107   12....       LCALL   ?DEALLOC_XSTACK8
   1320          }
   \                     ??SampleApp_Router_calibrationAMessage_0:
   \   00010A                REQUIRE ?Subroutine3
   \   00010A                ; // Fall through to label ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   7407         MOV     A,#0x7
   \   000002   02....       LJMP    ??Subroutine36_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   743A         MOV     A,#0x3a
   \   000002   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   000005   90....       MOV     DPTR,#__Constant_41200000
   \   000008   78..         MOV     R0,#?V0 + 8
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   742E         MOV     A,#0x2e
   \   000002   F0           MOVX    @DPTR,A
   \   000003   ED           MOV     A,R5
   \   000004   12....       LCALL   ??Subroutine29_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine36_0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine37_0
   \   000003                ; // Fall through to label ??Subroutine37_0
   1321          
   1322          
   1323          /*********************************************************************
   1324           * @fn      SampleApp_Tester_calibrationAMessage
   1325           *
   1326           * @brief   single tester to verify the parameter A -- out of stage
   1327           *
   1328           * @param   none
   1329           *
   1330           * @return  none
   1331           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1332          void SampleApp_Tester_calibrationAMessage( int index , float A )
   \                     SampleApp_Tester_calibrationAMessage:
   1333          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 7
   \   000005   74F9         MOV     A,#-0x7
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1334          //    SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   1335          //  SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1336          //  SampleApp_Tester_DstAddr.addr.shortAddr = 0xFFFF;
   1337              
   1338            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000A   12....       LCALL   ?Subroutine5 & 0xFFFF
   1339            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1340            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \                     ??CrossCallReturnLabel_5:
   \   00000D   741B         MOV     A,#0x1b
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   78..         MOV     R0,#?V0 + 4
   \   000014   12....       LCALL   ?L_MOV_X
   1341           
   1342          
   1343          
   1344            float tempn=A;  
   1345            if(A>=0)
   \   000017   90....       MOV     DPTR,#__Constant_0
   \   00001A   78..         MOV     R0,#?V0 + 0
   \   00001C   12....       LCALL   ?L_MOV_X
   \   00001F   78..         MOV     R0,#?V0 + 4
   \   000021   79..         MOV     R1,#?V0 + 0
   \   000023   12....       LCALL   ?FLT_GE
   \   000026   4003         JC      $+5
   \   000028   02....       LJMP    ??SampleApp_Tester_calibrationAMessage_0 & 0xFFFF
   1346            {
   1347                    uint8 data[7]="A";
   \   00002B   85..82       MOV     DPL,?XSP + 0
   \   00002E   85..83       MOV     DPH,?XSP + 1
   \   000031   AC82         MOV     R4,DPL
   \   000033   AD83         MOV     R5,DPH
   \   000035   7583..       MOV     DPH,#(`?<Constant "A">_2` >> 8) & 0xff
   \   000038   7582..       MOV     DPL,#`?<Constant "A">_2` & 0xff
   \   00003B   7407         MOV     A,#0x7
   \   00003D   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1348                    data[1]=0x30+index;
   \   000040   EA           MOV     A,R2
   \   000041   2430         ADD     A,#0x30
   \   000043   C0E0         PUSH    A
   \   000045   7401         MOV     A,#0x1
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   D0E0         POP     A
   \   00004C   F0           MOVX    @DPTR,A
   1349          
   1350                    data[2]=':';
   \   00004D   7402         MOV     A,#0x2
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   12....       LCALL   ?Subroutine8 & 0xFFFF
   1351                    
   1352                    uint8 number8;
   1353                    number8=(uint8)(tempn/10);
   1354                    data[3]=number8+'0';
   \                     ??CrossCallReturnLabel_12:
   \   000055   12....       LCALL   ?L_MOV_X
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   79..         MOV     R1,#?V0 + 8
   \   00005C   12....       LCALL   ?FLT_DIV
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?FLT_TO_L
   \   000064   E5..         MOV     A,?V0 + 0
   \   000066   2430         ADD     A,#0x30
   \   000068   C0E0         PUSH    A
   \   00006A   7403         MOV     A,#0x3
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   D0E0         POP     A
   \   000071   12....       LCALL   ?Subroutine4 & 0xFFFF
   1355                    number8=(uint8)(((int)tempn)%10);
   1356                    data[4]=number8+'0';
   \                     ??CrossCallReturnLabel_2:
   \   000074   12....       LCALL   ?FLT_TO_L
   \   000077   AD..         MOV     R5,?V0 + 1
   \   000079   A8..         MOV     R0,?V0 + 0
   \   00007B   ED           MOV     A,R5
   \   00007C   F9           MOV     R1,A
   \   00007D   7A0A         MOV     R2,#0xa
   \   00007F   7B00         MOV     R3,#0x0
   \   000081   12....       LCALL   ?S_DIV_MOD
   \   000084   EA           MOV     A,R2
   \   000085   2430         ADD     A,#0x30
   \   000087   C0E0         PUSH    A
   \   000089   7404         MOV     A,#0x4
   \   00008B   12....       LCALL   ?XSTACK_DISP0_8
   \   00008E   D0E0         POP     A
   \   000090   F0           MOVX    @DPTR,A
   1357                    data[5]='.';
   \   000091   7405         MOV     A,#0x5
   \   000093   12....       LCALL   ?XSTACK_DISP0_8
   \   000096   12....       LCALL   ?Subroutine7 & 0xFFFF
   1358                    tempn=10*(tempn-(int)tempn);
   1359                    number8=(uint8)tempn;
   1360                    data[6]=number8+'0';
   1361                         
   1362                    
   1363                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1364                                         CALBRATION_N_CLUSTERID,
   1365                                         7,//osal_strlen("A1")+1,
   1366                                         data,
   1367                                         &SampleApp_TransID,
   1368                                         AF_DISCV_ROUTE,//AF_DISCV_ROUTE,  
   1369                                         1//AF_DEFAULT_RADIUS 
   1370                                          ) == afStatus_SUCCESS )
   1371                    {
   1372                    }
   1373                    else
   1374                    {
   1375                      // Error occurred in request to send.
   1376                    }
   1377            }
   \                     ??CrossCallReturnLabel_9:
   \   000099   12....       LCALL   ?L_TO_FLT
   \   00009C   78..         MOV     R0,#?V0 + 4
   \   00009E   79..         MOV     R1,#?V0 + 0
   \   0000A0   12....       LCALL   ?FLT_SUB
   \   0000A3   90....       MOV     DPTR,#__Constant_41200000
   \   0000A6   78..         MOV     R0,#?V0 + 0
   \   0000A8   12....       LCALL   ?L_MOV_X
   \   0000AB   78..         MOV     R0,#?V0 + 4
   \   0000AD   79..         MOV     R1,#?V0 + 0
   \   0000AF   12....       LCALL   ?FLT_MUL
   \   0000B2   78..         MOV     R0,#?V0 + 4
   \   0000B4   12....       LCALL   ?FLT_TO_L
   \   0000B7   E5..         MOV     A,?V0 + 4
   \   0000B9   2430         ADD     A,#0x30
   \   0000BB   C0E0         PUSH    A
   \   0000BD   7406         MOV     A,#0x6
   \   0000BF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C2   D0E0         POP     A
   \   0000C4   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CA   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   0000CD   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   0000D0   78..         MOV     R0,#?V0 + 0
   \   0000D2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D5   7403         MOV     A,#0x3
   \   0000D7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DA   8582..       MOV     ?V0 + 0,DPL
   \   0000DD   8583..       MOV     ?V0 + 1,DPH
   \   0000E0   78..         MOV     R0,#?V0 + 0
   \   0000E2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E5   75..07       MOV     ?V0 + 0,#0x7
   \   0000E8   75..00       MOV     ?V0 + 1,#0x0
   \   0000EB   78..         MOV     R0,#?V0 + 0
   \   0000ED   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F0   75..02       MOV     ?V0 + 0,#0x2
   \   0000F3   78..         MOV     R0,#?V0 + 0
   \   0000F5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F8   7920         MOV     R1,#0x20
   \   0000FA   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   0000FC   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   0000FE   7A..         MOV     R2,#SampleApp_Tester_DstAddr & 0xff
   \   000100   7B..         MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
   \   000102   12....       LCALL   ??AF_DataRequest?relay
   \   000105   7409         MOV     A,#0x9
   \   000107   12....       LCALL   ?DEALLOC_XSTACK8
   1378          }
   \                     ??SampleApp_Tester_calibrationAMessage_0:
   \   00010A   02....       LJMP    ?Subroutine3 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   90....       MOV     DPTR,#SampleApp_Tester_DstAddr + 8
   \   000003   7401         MOV     A,#0x1
   \   000005   F0           MOVX    @DPTR,A
   \   000006   A3           INC     DPTR
   \   000007   7414         MOV     A,#0x14
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   90....       MOV     DPTR,#SampleApp_Tester_DstAddr
   \   00000D   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   000010   22           RET
   1379          
   1380          
   1381          /*********************************************************************
   1382           * @fn      SampleApp_Tester_calibration_differentAMessage
   1383           *
   1384           * @brief   Send the periodic message.
   1385           *
   1386           * @param   none
   1387           *
   1388           * @return  none
   1389           */
   1390          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   85....       MOV     ?V0 + 3,?V0 + 7
   \   000003   90....       MOV     DPTR,#__Constant_41200000
   \   000006   78..         MOV     R0,#?V0 + 8
   \   000008   12....       LCALL   ?L_MOV_X
   \   00000B   78..         MOV     R0,#?V0 + 0
   \   00000D   79..         MOV     R1,#?V0 + 8
   \   00000F   12....       LCALL   ?FLT_DIV
   \   000012   78..         MOV     R0,#?V0 + 0
   \   000014   12....       LCALL   ?FLT_TO_L
   \   000017   E5..         MOV     A,?V0 + 0
   \   000019   2430         ADD     A,#0x30
   \   00001B   C0E0         PUSH    A
   \   00001D   7403         MOV     A,#0x3
   \   00001F   12....       LCALL   ?XSTACK_DISP0_8
   \   000022   D0E0         POP     A
   \   000024   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000027   12....       LCALL   ?FLT_TO_L
   \   00002A   AD..         MOV     R5,?V0 + 1
   \   00002C   A8..         MOV     R0,?V0 + 0
   \   00002E   ED           MOV     A,R5
   \   00002F   F9           MOV     R1,A
   \   000030   7A0A         MOV     R2,#0xa
   \   000032   7B00         MOV     R3,#0x0
   \   000034   12....       LCALL   ?S_DIV_MOD
   \   000037   EA           MOV     A,R2
   \   000038   2430         ADD     A,#0x30
   \   00003A   C0E0         PUSH    A
   \   00003C   7404         MOV     A,#0x4
   \   00003E   12....       LCALL   ?XSTACK_DISP0_8
   \   000041   D0E0         POP     A
   \   000043   F0           MOVX    @DPTR,A
   \   000044   7405         MOV     A,#0x5
   \   000046   12....       LCALL   ?XSTACK_DISP0_8
   \   000049   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   00004C   12....       LCALL   ?L_TO_FLT
   \   00004F   78..         MOV     R0,#?V0 + 4
   \   000051   79..         MOV     R1,#?V0 + 0
   \   000053   12....       LCALL   ?FLT_SUB
   \   000056   90....       MOV     DPTR,#__Constant_41200000
   \   000059   78..         MOV     R0,#?V0 + 0
   \   00005B   12....       LCALL   ?L_MOV_X
   \   00005E   78..         MOV     R0,#?V0 + 4
   \   000060   79..         MOV     R1,#?V0 + 0
   \   000062   12....       LCALL   ?FLT_MUL
   \   000065   78..         MOV     R0,#?V0 + 4
   \   000067   12....       LCALL   ?FLT_TO_L
   \   00006A   E5..         MOV     A,?V0 + 4
   \   00006C   2430         ADD     A,#0x30
   \   00006E   C0E0         PUSH    A
   \   000070   7406         MOV     A,#0x6
   \   000072   12....       LCALL   ?XSTACK_DISP0_8
   \   000075   D0E0         POP     A
   \   000077   F0           MOVX    @DPTR,A
   \   000078   7407         MOV     A,#0x7
   \   00007A   12....       LCALL   ?XSTACK_DISP0_8
   \   00007D   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   000080   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000083   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   000086   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   000089   78..         MOV     R0,#?V0 + 0
   \   00008B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00008E   7403         MOV     A,#0x3
   \   000090   12....       LCALL   ?XSTACK_DISP0_8
   \   000093   8582..       MOV     ?V0 + 0,DPL
   \   000096   8583..       MOV     ?V0 + 1,DPH
   \   000099   78..         MOV     R0,#?V0 + 0
   \   00009B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009E   75..08       MOV     ?V0 + 0,#0x8
   \   0000A1   75..00       MOV     ?V0 + 1,#0x0
   \   0000A4   78..         MOV     R0,#?V0 + 0
   \   0000A6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A9   75..02       MOV     ?V0 + 0,#0x2
   \   0000AC   78..         MOV     R0,#?V0 + 0
   \   0000AE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B1   7980         MOV     R1,#-0x80
   \   0000B3   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   0000B5   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   0000B7   7A..         MOV     R2,#SampleApp_Tester_DstAddr & 0xff
   \   0000B9   7B..         MOV     R3,#(SampleApp_Tester_DstAddr >> 8) & 0xff
   \   0000BB   12....       LCALL   ??AF_DataRequest?relay
   \   0000BE   7409         MOV     A,#0x9
   \   0000C0   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000C3   7408         MOV     A,#0x8
   \   0000C5                REQUIRE ??Subroutine36_0
   \   0000C5                ; // Fall through to label ??Subroutine36_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1391          void SampleApp_Tester_calibration_differentAMessage( int index )
   \                     SampleApp_Tester_calibration_differentAMessage:
   1392          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1393              
   1394            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000A   12....       LCALL   ?Subroutine5 & 0xFFFF
   1395            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1396            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   1397            
   1398            {
   1399                    
   1400                    uint8 data[8]="T";
   \                     ??CrossCallReturnLabel_6:
   \   00000D   85..82       MOV     DPL,?XSP + 0
   \   000010   85..83       MOV     DPH,?XSP + 1
   \   000013   AC82         MOV     R4,DPL
   \   000015   AD83         MOV     R5,DPH
   \   000017   7583..       MOV     DPH,#(`?<Constant "T">` >> 8) & 0xff
   \   00001A   7582..       MOV     DPL,#`?<Constant "T">` & 0xff
   \   00001D   7408         MOV     A,#0x8
   \   00001F   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1401                    data[1]=0x30+index;
   \   000022   EA           MOV     A,R2
   \   000023   2430         ADD     A,#0x30
   \   000025   C0E0         PUSH    A
   \   000027   7401         MOV     A,#0x1
   \   000029   12....       LCALL   ?XSTACK_DISP0_8
   \   00002C   D0E0         POP     A
   \   00002E   F0           MOVX    @DPTR,A
   1402          
   1403                    data[2]=':';
   \   00002F   7402         MOV     A,#0x2
   \   000031   12....       LCALL   ?XSTACK_DISP0_8
   \   000034   743A         MOV     A,#0x3a
   \   000036   F0           MOVX    @DPTR,A
   1404                    float tempn=RssiValue[index-1];
   \   000037   8A..         MOV     ?V0 + 0,R2
   \   000039   8B..         MOV     ?V0 + 1,R3
   \   00003B   7402         MOV     A,#0x2
   \   00003D   78..         MOV     R0,#?V0 + 0
   \   00003F   12....       LCALL   ?S_SHL
   \   000042   74..         MOV     A,#(RssiValue + 252) & 0xff
   \   000044   25..         ADD     A,?V0 + 0
   \   000046   F582         MOV     DPL,A
   \   000048   74..         MOV     A,#((RssiValue - 4) >> 8) & 0xff
   \   00004A   35..         ADDC    A,?V0 + 1
   \   00004C   F583         MOV     DPH,A
   \   00004E   78..         MOV     R0,#?V0 + 4
   \   000050   12....       LCALL   ?L_MOV_X
   1405                    uint8 number8;
   1406                    number8=(uint8)(tempn/10);
   1407                    data[3]=number8+'0';
   \   000053   85....       MOV     ?V0 + 0,?V0 + 4
   \   000056   85....       MOV     ?V0 + 1,?V0 + 5
   \   000059   85....       MOV     ?V0 + 2,?V0 + 6
   \   00005C   02....       LJMP    ?Subroutine1 & 0xFFFF
   1408                    number8=(uint8)(((int)tempn)%10);
   1409                    data[4]=number8+'0';
   1410                    data[5]='.';
   1411                    tempn=10*(tempn-(int)tempn);
   1412                    number8=(uint8)tempn;
   1413                    data[6]=number8+'0';
   1414                    data[7]='\n'; 
   1415                
   1416                    
   1417                   // index++;
   1418                    
   1419                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1420                                         CALBRATION_N_CLUSTERID,
   1421                                         8,//osal_strlen("A1")+1,
   1422                                         data,
   1423                                         &SampleApp_TransID,
   1424                                         AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1425                                         1//AF_DEFAULT_RADIUS 
   1426                                          ) == afStatus_SUCCESS )
   1427                    {
   1428                    }
   1429                    else
   1430                    {
   1431                      // Error occurred in request to send.
   1432                    }
   1433            }
   1434          
   1435          }
   1436          
   1437          /*********************************************************************
   1438           * @fn      SampleApp_Tester_calibrationOffsetAMessage
   1439           *
   1440           * @brief   Send the periodic message.
   1441           *
   1442           * @param   none
   1443           *
   1444           * @return  none
   1445           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1446          void SampleApp_Tester_calibrationOffsetAMessage( int index , float A )
   \                     SampleApp_Tester_calibrationOffsetAMessage:
   1447          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1448              
   1449            SampleApp_Tester_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000A   12....       LCALL   ?Subroutine5 & 0xFFFF
   1450            SampleApp_Tester_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   1451            SampleApp_Tester_DstAddr.addr.shortAddr =  SAMPLEAPP_CalN_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \                     ??CrossCallReturnLabel_7:
   \   00000D   741C         MOV     A,#0x1c
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   78..         MOV     R0,#?V0 + 0
   \   000014   12....       LCALL   ?L_MOV_X
   1452           
   1453          
   1454          
   1455            float tempn=A;  
   \   000017   85....       MOV     ?V0 + 4,?V0 + 0
   \   00001A   85....       MOV     ?V0 + 5,?V0 + 1
   \   00001D   85....       MOV     ?V0 + 6,?V0 + 2
   \   000020   85....       MOV     ?V0 + 7,?V0 + 3
   1456            uint8 data[8]="O";
   \   000023   85..82       MOV     DPL,?XSP + 0
   \   000026   85..83       MOV     DPH,?XSP + 1
   \   000029   AC82         MOV     R4,DPL
   \   00002B   AD83         MOV     R5,DPH
   \   00002D   7583..       MOV     DPH,#(`?<Constant "O">` >> 8) & 0xff
   \   000030   7582..       MOV     DPL,#`?<Constant "O">` & 0xff
   \   000033   7408         MOV     A,#0x8
   \   000035   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1457            uint8 number8;
   1458            data[1]=0x30+index;
   \   000038   EA           MOV     A,R2
   \   000039   2430         ADD     A,#0x30
   \   00003B   C0E0         PUSH    A
   \   00003D   7401         MOV     A,#0x1
   \   00003F   12....       LCALL   ?XSTACK_DISP0_8
   \   000042   D0E0         POP     A
   \   000044   F0           MOVX    @DPTR,A
   1459            if(A>=0)
   \   000045   90....       MOV     DPTR,#__Constant_0
   \   000048   78..         MOV     R0,#?V0 + 8
   \   00004A   12....       LCALL   ?L_MOV_X
   \   00004D   78..         MOV     R0,#?V0 + 0
   \   00004F   79..         MOV     R1,#?V0 + 8
   \   000051   12....       LCALL   ?FLT_GE
   \   000054   5009         JNC     ??SampleApp_Tester_calibrationOffsetAMessage_0
   1460            {
   1461                    data[2]='+'; 
   \   000056   7402         MOV     A,#0x2
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   742B         MOV     A,#0x2b
   \   00005D   800D         SJMP    ??SampleApp_Tester_calibrationOffsetAMessage_1
   1462            } 
   1463            else
   1464            {
   1465                    tempn=-tempn;
   \                     ??SampleApp_Tester_calibrationOffsetAMessage_0:
   \   00005F   E5..         MOV     A,?V0 + 7
   \   000061   B2E7         CPL     0xE0 /* A   */.7
   \   000063   F5..         MOV     ?V0 + 7,A
   1466                    data[2]='-';
   \   000065   7402         MOV     A,#0x2
   \   000067   12....       LCALL   ?XSTACK_DISP0_8
   \   00006A   742D         MOV     A,#0x2d
   \                     ??SampleApp_Tester_calibrationOffsetAMessage_1:
   \   00006C   F0           MOVX    @DPTR,A
   1467                    
   1468            }
   1469            
   1470                    number8=(uint8)(tempn/10);
   1471                    data[3]=number8+'0';
   \   00006D   02....       LJMP    ?Subroutine1 & 0xFFFF
   1472                    number8=(uint8)(((int)tempn)%10);
   1473                    data[4]=number8+'0';
   1474                    data[5]='.';
   1475                    tempn=10*(tempn-(int)tempn);
   1476                    number8=(uint8)tempn;
   1477                    data[6]=number8+'0';
   1478                    data[7]='\n'; 
   1479                    
   1480                    if ( AF_DataRequest( &SampleApp_Tester_DstAddr, &SampleApp_epDesc,
   1481                                         CALBRATION_N_CLUSTERID,
   1482                                         8,//osal_strlen("A1")+1,
   1483                                         data,
   1484                                         &SampleApp_TransID,
   1485                                         AF_SKIP_ROUTING,//AF_DISCV_ROUTE,  
   1486                                         1//AF_DEFAULT_RADIUS 
   1487                                          ) == afStatus_SUCCESS )
   1488                    {
   1489                    }
   1490                    else
   1491                    {
   1492                      // Error occurred in request to send.
   1493                    }
   1494            
   1495          }
   1496          
   1497          
   1498          
   1499          /*********************************************************************
   1500           * @fn      SampleApp_Quadrotor_SendLocation
   1501           *
   1502           * @brief   Send the flash message to group 1.
   1503           *
   1504           * @param   flashTime - in milliseconds
   1505           *
   1506           * @return  none
   1507           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1508          void SampleApp_Quadrotor_SendLocation( int index )
   \                     SampleApp_Quadrotor_SendLocation:
   1509          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 26
   \   000005   74E6         MOV     A,#-0x1a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1510            
   1511            SampleApp_Quadrotor_Location_DstAddr.addrMode = (afAddrMode_t)AddrGroup;  //AddrGroup
   \   00000E   90....       MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr + 8
   \   000011   7401         MOV     A,#0x1
   \   000013   F0           MOVX    @DPTR,A
   1512            SampleApp_Quadrotor_Location_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000014   A3           INC     DPTR
   \   000015   7414         MOV     A,#0x14
   \   000017   F0           MOVX    @DPTR,A
   1513            SampleApp_Quadrotor_Location_DstAddr.addr.shortAddr = SAMPLEAPP_QUADROTOR_GROUP;    //SAMPLEAPP_QUADROTOR_GROUP
   \   000018   90....       MOV     DPTR,#SampleApp_Quadrotor_Location_DstAddr
   \   00001B   7402         MOV     A,#0x2
   \   00001D   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   1514            
   1515            float xposition;
   1516            float yposition;
   1517            float zposition;
   1518            
   1519            zposition=locationZ[index-1];
   \                     ??CrossCallReturnLabel_71:
   \   000020   8E..         MOV     ?V0 + 2,R6
   \   000022   8F..         MOV     ?V0 + 3,R7
   \   000024   7402         MOV     A,#0x2
   \   000026   78..         MOV     R0,#?V0 + 2
   \   000028   12....       LCALL   ?S_SHL
   \   00002B   85....       MOV     ?V0 + 0,?V0 + 2
   \   00002E   85....       MOV     ?V0 + 1,?V0 + 3
   \   000031   74..         MOV     A,#(locationZ + 252) & 0xff
   \   000033   25..         ADD     A,?V0 + 0
   \   000035   F582         MOV     DPL,A
   \   000037   74..         MOV     A,#((locationZ - 4) >> 8) & 0xff
   \   000039   35..         ADDC    A,?V0 + 1
   \   00003B   F583         MOV     DPH,A
   \   00003D   78..         MOV     R0,#?V0 + 4
   \   00003F   12....       LCALL   ?L_MOV_X
   1520            // using min-max algorithm
   1521            SampleApp_MinMax_localization(&xposition, &yposition, zposition, nValue,
   1522                                      RssiValue, AValue, AnchorX, AnchorY,OffsetAValue);
   \   000042                ; Setup parameters for call to function SampleApp_MinMax_localization
   \   000042   75....       MOV     ?V0 + 2,#OffsetAValue & 0xff
   \   000045   75....       MOV     ?V0 + 3,#(OffsetAValue >> 8) & 0xff
   \   000048   78..         MOV     R0,#?V0 + 2
   \   00004A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004D   75....       MOV     ?V0 + 2,#AnchorY & 0xff
   \   000050   75....       MOV     ?V0 + 3,#(AnchorY >> 8) & 0xff
   \   000053   78..         MOV     R0,#?V0 + 2
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000058   75....       MOV     ?V0 + 2,#AnchorX & 0xff
   \   00005B   75....       MOV     ?V0 + 3,#(AnchorX >> 8) & 0xff
   \   00005E   78..         MOV     R0,#?V0 + 2
   \   000060   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000063   75....       MOV     ?V0 + 2,#AValue & 0xff
   \   000066   75....       MOV     ?V0 + 3,#(AValue >> 8) & 0xff
   \   000069   78..         MOV     R0,#?V0 + 2
   \   00006B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006E   75....       MOV     ?V0 + 2,#RssiValue & 0xff
   \   000071   75....       MOV     ?V0 + 3,#(RssiValue >> 8) & 0xff
   \   000074   78..         MOV     R0,#?V0 + 2
   \   000076   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000079   75....       MOV     ?V0 + 2,#nValue & 0xff
   \   00007C   75....       MOV     ?V0 + 3,#(nValue >> 8) & 0xff
   \   00007F   78..         MOV     R0,#?V0 + 2
   \   000081   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000084   78..         MOV     R0,#?V0 + 4
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000089   7410         MOV     A,#0x10
   \   00008B   12....       LCALL   ?XSTACK_DISP0_8
   \   00008E   AC82         MOV     R4,DPL
   \   000090   AD83         MOV     R5,DPH
   \   000092   7414         MOV     A,#0x14
   \   000094   12....       LCALL   ?XSTACK_DISP0_8
   \   000097   AA82         MOV     R2,DPL
   \   000099   AB83         MOV     R3,DPH
   \   00009B   12....       LCALL   ??SampleApp_MinMax_localization?relay
   \   00009E   7410         MOV     A,#0x10
   \   0000A0   12....       LCALL   ?DEALLOC_XSTACK8
   1523          //  locationX[index-1]=0.5f*xposition;
   1524          //  locationY[index-1]=0.5f*yposition;
   1525            // using weighted centroid localization algorithm
   1526            //SampleApp_WCL_localization(&xposition, &yposition, nValue,RssiValue,AValue,AnchorX,AnchorY,OffsetAValue);
   1527            locationX[index-1]=xposition;
   \   0000A3   7404         MOV     A,#0x4
   \   0000A5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A8   12....       LCALL   ?XLOAD_R2345
   \   0000AB   74..         MOV     A,#(locationX + 252) & 0xff
   \   0000AD   25..         ADD     A,?V0 + 0
   \   0000AF   F582         MOV     DPL,A
   \   0000B1   74..         MOV     A,#((locationX - 4) >> 8) & 0xff
   \   0000B3   35..         ADDC    A,?V0 + 1
   \   0000B5   F583         MOV     DPH,A
   \   0000B7   12....       LCALL   ?XSTORE_R2345
   1528            locationY[index-1]=yposition;
   \   0000BA   85..82       MOV     DPL,?XSP + 0
   \   0000BD   85..83       MOV     DPH,?XSP + 1
   \   0000C0   12....       LCALL   ?XLOAD_R2345
   \   0000C3   74..         MOV     A,#(locationY + 252) & 0xff
   \   0000C5   25..         ADD     A,?V0 + 0
   \   0000C7   F582         MOV     DPL,A
   \   0000C9   74..         MOV     A,#((locationY - 4) >> 8) & 0xff
   \   0000CB   35..         ADDC    A,?V0 + 1
   \   0000CD   F583         MOV     DPH,A
   \   0000CF   12....       LCALL   ?XSTORE_R2345
   1529            
   1530            
   1531          
   1532            uint8 data[18]="Q";
   \   0000D2   7408         MOV     A,#0x8
   \   0000D4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D7   AC82         MOV     R4,DPL
   \   0000D9   AD83         MOV     R5,DPH
   \   0000DB   7583..       MOV     DPH,#(`?<Constant "Q">` >> 8) & 0xff
   \   0000DE   7582..       MOV     DPL,#`?<Constant "Q">` & 0xff
   \   0000E1   7412         MOV     A,#0x12
   \   0000E3   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1533            data[1]=0x30+index;
   \   0000E6   EE           MOV     A,R6
   \   0000E7   2430         ADD     A,#0x30
   \   0000E9   C0E0         PUSH    A
   \   0000EB   7409         MOV     A,#0x9
   \   0000ED   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F0   D0E0         POP     A
   \   0000F2   F0           MOVX    @DPTR,A
   1534            data[2]='[';
   \   0000F3   740A         MOV     A,#0xa
   \   0000F5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F8   745B         MOV     A,#0x5b
   \   0000FA   F0           MOVX    @DPTR,A
   1535            data[17]=']';
   \   0000FB   7419         MOV     A,#0x19
   \   0000FD   12....       LCALL   ?XSTACK_DISP0_8
   \   000100   745D         MOV     A,#0x5d
   \   000102   F0           MOVX    @DPTR,A
   1536            uint8 number8;
   1537            number8=(uint8)xposition;
   \   000103   7404         MOV     A,#0x4
   \   000105   12....       LCALL   ?XSTACK_DISP0_8
   \   000108   78..         MOV     R0,#?V0 + 0
   \   00010A   12....       LCALL   ?L_MOV_X
   \   00010D   78..         MOV     R0,#?V0 + 0
   \   00010F   12....       LCALL   ?FLT_TO_L
   1538            data[3]=number8+'0';
   \   000112   7430         MOV     A,#0x30
   \   000114   25..         ADD     A,?V0 + 0
   \   000116   C0E0         PUSH    A
   \   000118   740B         MOV     A,#0xb
   \   00011A   12....       LCALL   ?XSTACK_DISP0_8
   \   00011D   D0E0         POP     A
   \   00011F   F0           MOVX    @DPTR,A
   1539            data[4]='.';
   \   000120   740C         MOV     A,#0xc
   \   000122   12....       LCALL   ?XSTACK_DISP0_8
   \   000125   742E         MOV     A,#0x2e
   \   000127   F0           MOVX    @DPTR,A
   1540            xposition=10*(xposition-(float)number8);
   \   000128   7404         MOV     A,#0x4
   \   00012A   12....       LCALL   ?XSTACK_DISP0_8
   \   00012D   78..         MOV     R0,#?V0 + 8
   \   00012F   12....       LCALL   ?L_MOV_X
   \   000132   E4           CLR     A
   \   000133   F5..         MOV     ?V0 + 1,A
   \   000135   F5..         MOV     ?V0 + 2,A
   \   000137   F5..         MOV     ?V0 + 3,A
   \   000139   78..         MOV     R0,#?V0 + 0
   \   00013B   12....       LCALL   ?UL_TO_FLT
   \   00013E   78..         MOV     R0,#?V0 + 8
   \   000140   79..         MOV     R1,#?V0 + 0
   \   000142   12....       LCALL   ?FLT_SUB
   \   000145   90....       MOV     DPTR,#__Constant_41200000
   \   000148   78..         MOV     R0,#?V0 + 0
   \   00014A   12....       LCALL   ?L_MOV_X
   \   00014D   78..         MOV     R0,#?V0 + 8
   \   00014F   79..         MOV     R1,#?V0 + 0
   \   000151   12....       LCALL   ?FLT_MUL
   \   000154   7404         MOV     A,#0x4
   \   000156   12....       LCALL   ?XSTACK_DISP0_8
   \   000159   78..         MOV     R0,#?V0 + 8
   \   00015B   12....       LCALL   ?L_MOV_TO_X
   1541            number8=(uint8)xposition;
   \   00015E   7404         MOV     A,#0x4
   \   000160   12....       LCALL   ?XSTACK_DISP0_8
   \   000163   78..         MOV     R0,#?V0 + 0
   \   000165   12....       LCALL   ?L_MOV_X
   \   000168   78..         MOV     R0,#?V0 + 0
   \   00016A   12....       LCALL   ?FLT_TO_L
   1542            data[5]=number8+'0';
   \   00016D   7430         MOV     A,#0x30
   \   00016F   25..         ADD     A,?V0 + 0
   \   000171   C0E0         PUSH    A
   \   000173   740D         MOV     A,#0xd
   \   000175   12....       LCALL   ?XSTACK_DISP0_8
   \   000178   D0E0         POP     A
   \   00017A   F0           MOVX    @DPTR,A
   1543            xposition=10*(xposition-(float)number8);
   \   00017B   7404         MOV     A,#0x4
   \   00017D   12....       LCALL   ?XSTACK_DISP0_8
   \   000180   78..         MOV     R0,#?V0 + 8
   \   000182   12....       LCALL   ?L_MOV_X
   \   000185   E4           CLR     A
   \   000186   F5..         MOV     ?V0 + 1,A
   \   000188   F5..         MOV     ?V0 + 2,A
   \   00018A   F5..         MOV     ?V0 + 3,A
   \   00018C   78..         MOV     R0,#?V0 + 0
   \   00018E   12....       LCALL   ?UL_TO_FLT
   \   000191   78..         MOV     R0,#?V0 + 8
   \   000193   79..         MOV     R1,#?V0 + 0
   \   000195   12....       LCALL   ?FLT_SUB
   \   000198   90....       MOV     DPTR,#__Constant_41200000
   \   00019B   78..         MOV     R0,#?V0 + 0
   \   00019D   12....       LCALL   ?L_MOV_X
   \   0001A0   78..         MOV     R0,#?V0 + 8
   \   0001A2   79..         MOV     R1,#?V0 + 0
   \   0001A4   12....       LCALL   ?FLT_MUL
   \   0001A7   7404         MOV     A,#0x4
   \   0001A9   12....       LCALL   ?XSTACK_DISP0_8
   \   0001AC   78..         MOV     R0,#?V0 + 8
   \   0001AE   12....       LCALL   ?L_MOV_TO_X
   1544            number8=(uint8)xposition+'0';
   1545            data[6]=number8;
   \   0001B1   7404         MOV     A,#0x4
   \   0001B3   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B6   78..         MOV     R0,#?V0 + 0
   \   0001B8   12....       LCALL   ?L_MOV_X
   \   0001BB   78..         MOV     R0,#?V0 + 0
   \   0001BD   12....       LCALL   ?FLT_TO_L
   \   0001C0   E5..         MOV     A,?V0 + 0
   \   0001C2   2430         ADD     A,#0x30
   \   0001C4   C0E0         PUSH    A
   \   0001C6   740E         MOV     A,#0xe
   \   0001C8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001CB   D0E0         POP     A
   \   0001CD   F0           MOVX    @DPTR,A
   1546            data[7]=',';
   \   0001CE   740F         MOV     A,#0xf
   \   0001D0   12....       LCALL   ?XSTACK_DISP0_8
   \   0001D3   742C         MOV     A,#0x2c
   \   0001D5   12....       LCALL   ?Subroutine23 & 0xFFFF
   1547            number8=(uint8)yposition;
   \                     ??CrossCallReturnLabel_34:
   \   0001D8   78..         MOV     R0,#?V0 + 0
   \   0001DA   12....       LCALL   ?L_MOV_X
   \   0001DD   78..         MOV     R0,#?V0 + 0
   \   0001DF   12....       LCALL   ?FLT_TO_L
   1548            data[8]=number8+'0';
   \   0001E2   7430         MOV     A,#0x30
   \   0001E4   25..         ADD     A,?V0 + 0
   \   0001E6   C0E0         PUSH    A
   \   0001E8   7410         MOV     A,#0x10
   \   0001EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001ED   D0E0         POP     A
   \   0001EF   F0           MOVX    @DPTR,A
   1549            data[9]='.';
   \   0001F0   7411         MOV     A,#0x11
   \   0001F2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001F5   742E         MOV     A,#0x2e
   \   0001F7   12....       LCALL   ?Subroutine11 & 0xFFFF
   1550            yposition=10*(yposition-(float)number8);
   \                     ??CrossCallReturnLabel_15:
   \   0001FA   12....       LCALL   ?L_MOV_X
   \   0001FD   E4           CLR     A
   \   0001FE   F5..         MOV     ?V0 + 1,A
   \   000200   F5..         MOV     ?V0 + 2,A
   \   000202   F5..         MOV     ?V0 + 3,A
   \   000204   78..         MOV     R0,#?V0 + 0
   \   000206   12....       LCALL   ?UL_TO_FLT
   \   000209   78..         MOV     R0,#?V0 + 8
   \   00020B   79..         MOV     R1,#?V0 + 0
   \   00020D   12....       LCALL   ?FLT_SUB
   \   000210   90....       MOV     DPTR,#__Constant_41200000
   \   000213   78..         MOV     R0,#?V0 + 0
   \   000215   12....       LCALL   ?L_MOV_X
   \   000218   78..         MOV     R0,#?V0 + 8
   \   00021A   79..         MOV     R1,#?V0 + 0
   \   00021C   12....       LCALL   ?FLT_MUL
   \   00021F   85..82       MOV     DPL,?XSP + 0
   \   000222   85..83       MOV     DPH,?XSP + 1
   \   000225   78..         MOV     R0,#?V0 + 8
   \   000227   12....       LCALL   ?L_MOV_TO_X
   1551            number8=(uint8)yposition;
   \   00022A   85..82       MOV     DPL,?XSP + 0
   \   00022D   85..83       MOV     DPH,?XSP + 1
   \   000230   78..         MOV     R0,#?V0 + 0
   \   000232   12....       LCALL   ?L_MOV_X
   \   000235   78..         MOV     R0,#?V0 + 0
   \   000237   12....       LCALL   ?FLT_TO_L
   1552            data[10]=number8+'0';
   \   00023A   7430         MOV     A,#0x30
   \   00023C   25..         ADD     A,?V0 + 0
   \   00023E   C0E0         PUSH    A
   \   000240   7412         MOV     A,#0x12
   \   000242   12....       LCALL   ?XSTACK_DISP0_8
   \   000245   D0E0         POP     A
   \   000247   12....       LCALL   ?Subroutine11 & 0xFFFF
   1553            yposition=10*(yposition-(float)number8);
   \                     ??CrossCallReturnLabel_16:
   \   00024A   12....       LCALL   ?L_MOV_X
   \   00024D   E4           CLR     A
   \   00024E   F5..         MOV     ?V0 + 1,A
   \   000250   F5..         MOV     ?V0 + 2,A
   \   000252   F5..         MOV     ?V0 + 3,A
   \   000254   78..         MOV     R0,#?V0 + 0
   \   000256   12....       LCALL   ?UL_TO_FLT
   \   000259   78..         MOV     R0,#?V0 + 8
   \   00025B   79..         MOV     R1,#?V0 + 0
   \   00025D   12....       LCALL   ?FLT_SUB
   \   000260   90....       MOV     DPTR,#__Constant_41200000
   \   000263   78..         MOV     R0,#?V0 + 0
   \   000265   12....       LCALL   ?L_MOV_X
   \   000268   78..         MOV     R0,#?V0 + 8
   \   00026A   79..         MOV     R1,#?V0 + 0
   \   00026C   12....       LCALL   ?FLT_MUL
   \   00026F   85..82       MOV     DPL,?XSP + 0
   \   000272   85..83       MOV     DPH,?XSP + 1
   \   000275   78..         MOV     R0,#?V0 + 8
   \   000277   12....       LCALL   ?L_MOV_TO_X
   1554            number8=(uint8)yposition+'0';
   1555            data[11]=number8;
   \   00027A   85..82       MOV     DPL,?XSP + 0
   \   00027D   85..83       MOV     DPH,?XSP + 1
   \   000280   78..         MOV     R0,#?V0 + 0
   \   000282   12....       LCALL   ?L_MOV_X
   \   000285   78..         MOV     R0,#?V0 + 0
   \   000287   12....       LCALL   ?FLT_TO_L
   \   00028A   E5..         MOV     A,?V0 + 0
   \   00028C   2430         ADD     A,#0x30
   \   00028E   C0E0         PUSH    A
   \   000290   7413         MOV     A,#0x13
   \   000292   12....       LCALL   ?XSTACK_DISP0_8
   \   000295   D0E0         POP     A
   \   000297   F0           MOVX    @DPTR,A
   1556            data[12]=',';
   \   000298   7414         MOV     A,#0x14
   \   00029A   12....       LCALL   ?XSTACK_DISP0_8
   \   00029D   742C         MOV     A,#0x2c
   \   00029F   12....       LCALL   ?Subroutine4 & 0xFFFF
   1557            number8=(uint8)zposition;
   \                     ??CrossCallReturnLabel_4:
   \   0002A2   12....       LCALL   ?FLT_TO_L
   1558            data[13]=number8+'0';
   \   0002A5   7430         MOV     A,#0x30
   \   0002A7   25..         ADD     A,?V0 + 0
   \   0002A9   C0E0         PUSH    A
   \   0002AB   7415         MOV     A,#0x15
   \   0002AD   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B0   D0E0         POP     A
   \   0002B2   F0           MOVX    @DPTR,A
   1559            data[14]='.';
   \   0002B3   7416         MOV     A,#0x16
   \   0002B5   12....       LCALL   ?XSTACK_DISP0_8
   \   0002B8   12....       LCALL   ?Subroutine6 & 0xFFFF
   1560            zposition=10*(zposition-(float)number8);
   \                     ??CrossCallReturnLabel_76:
   \   0002BB   12....       LCALL   ?UL_TO_FLT
   \   0002BE   78..         MOV     R0,#?V0 + 4
   \   0002C0   79..         MOV     R1,#?V0 + 0
   \   0002C2   12....       LCALL   ?FLT_SUB
   \   0002C5   90....       MOV     DPTR,#__Constant_41200000
   \   0002C8   78..         MOV     R0,#?V0 + 0
   \   0002CA   12....       LCALL   ?L_MOV_X
   \   0002CD   78..         MOV     R0,#?V0 + 4
   \   0002CF   79..         MOV     R1,#?V0 + 0
   \   0002D1   12....       LCALL   ?FLT_MUL
   1561            number8=(uint8)zposition;
   \   0002D4   85....       MOV     ?V0 + 0,?V0 + 4
   \   0002D7   85....       MOV     ?V0 + 1,?V0 + 5
   \   0002DA   85....       MOV     ?V0 + 2,?V0 + 6
   \   0002DD   85....       MOV     ?V0 + 3,?V0 + 7
   \   0002E0   78..         MOV     R0,#?V0 + 0
   \   0002E2   12....       LCALL   ?FLT_TO_L
   1562            data[15]=number8+'0';
   \   0002E5   7430         MOV     A,#0x30
   \   0002E7   25..         ADD     A,?V0 + 0
   \   0002E9   C0E0         PUSH    A
   \   0002EB   7417         MOV     A,#0x17
   \   0002ED   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F0   D0E0         POP     A
   \   0002F2   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   1563            zposition=10*(zposition-(float)number8);
   1564            number8=(uint8)zposition+'0';
   1565            data[16]=number8;
   \                     ??CrossCallReturnLabel_78:
   \   0002F5   12....       LCALL   ?UL_TO_FLT
   \   0002F8   78..         MOV     R0,#?V0 + 4
   \   0002FA   79..         MOV     R1,#?V0 + 0
   \   0002FC   12....       LCALL   ?FLT_SUB
   \   0002FF   90....       MOV     DPTR,#__Constant_41200000
   \   000302   78..         MOV     R0,#?V0 + 0
   \   000304   12....       LCALL   ?L_MOV_X
   \   000307   78..         MOV     R0,#?V0 + 4
   \   000309   79..         MOV     R1,#?V0 + 0
   \   00030B   12....       LCALL   ?FLT_MUL
   \   00030E   78..         MOV     R0,#?V0 + 4
   \   000310   12....       LCALL   ?FLT_TO_L
   \   000313   E5..         MOV     A,?V0 + 4
   \   000315   2430         ADD     A,#0x30
   \   000317   C0E0         PUSH    A
   \   000319   7418         MOV     A,#0x18
   \   00031B   12....       LCALL   ?XSTACK_DISP0_8
   \   00031E   D0E0         POP     A
   \   000320   F0           MOVX    @DPTR,A
   1566            //data[18]='\0';
   1567           // HalUARTWrite(0, data, 18);
   1568            if ( AF_DataRequest( &SampleApp_Quadrotor_Location_DstAddr, &SampleApp_epDesc,
   1569                                   LZQR_GROUP_CLUSTERID,
   1570                                   18,//osal_strlen("Q1")+1,
   1571                                   data,
   1572                                   &SampleApp_TransID,
   1573                                   AF_DISCV_ROUTE,//AF_SKIP_ROUTING,  
   1574                                   AF_DEFAULT_RADIUS// 1
   1575                                     ) == afStatus_SUCCESS )
   \   000321                ; Setup parameters for call to function AF_DataRequest
   \   000321   75..1E       MOV     ?V0 + 0,#0x1e
   \   000324   78..         MOV     R0,#?V0 + 0
   \   000326   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000329   75....       MOV     ?V0 + 0,#SampleApp_TransID & 0xff
   \   00032C   75....       MOV     ?V0 + 1,#(SampleApp_TransID >> 8) & 0xff
   \   00032F   78..         MOV     R0,#?V0 + 0
   \   000331   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000334   740B         MOV     A,#0xb
   \   000336   12....       LCALL   ?XSTACK_DISP0_8
   \   000339   8582..       MOV     ?V0 + 0,DPL
   \   00033C   8583..       MOV     ?V0 + 1,DPH
   \   00033F   78..         MOV     R0,#?V0 + 0
   \   000341   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000344   75..12       MOV     ?V0 + 0,#0x12
   \   000347   75..00       MOV     ?V0 + 1,#0x0
   \   00034A   78..         MOV     R0,#?V0 + 0
   \   00034C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00034F   75..03       MOV     ?V0 + 0,#0x3
   \   000352   78..         MOV     R0,#?V0 + 0
   \   000354   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000357   7920         MOV     R1,#0x20
   \   000359   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   00035B   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00035D   7A..         MOV     R2,#SampleApp_Quadrotor_Location_DstAddr & 0xff
   \   00035F   7B..         MOV     R3,#(SampleApp_Quadrotor_Location_DstAddr >> 8) & 0xff
   \   000361   12....       LCALL   ??AF_DataRequest?relay
   \   000364   7409         MOV     A,#0x9
   \   000366   12....       LCALL   ?DEALLOC_XSTACK8
   1576              {
   1577              }
   1578              else
   1579              {
   1580                // Error occurred in request to send.
   1581              }
   1582          
   1583          
   1584          }
   \   000369   741A         MOV     A,#0x1a
   \   00036B   02....       LJMP    ??Subroutine36_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   000003   78..         MOV     R0,#?V0 + 8
   \   000005   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for imof4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nindex4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex1>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex2>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex3>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aindex4>`:
   \   000000   0000         DW 0
   \   000002   0100         DW 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for nValue>`:
   \   000000   00000040     DD 40000000H
   \   000004   00000040     DD 40000000H
   \   000008   00000040     DD 40000000H
   \   00000C   00000040     DD 40000000H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AValue>`:
   \   000000   295C4D42     DD 424D5C29H
   \   000004   D7A35342     DD 4253A3D7H
   \   000008   B81E4942     DD 42491EB8H
   \   00000C   14AE4E42     DD 424EAE14H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorX>`:
   \   000000   00008040     DD 40800000H
   \   000004   00000000     DD 0H
   \   000008   00000000     DD 0H
   \   00000C   00008040     DD 40800000H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorY>`:
   \   000000   00008040     DD 40800000H
   \   000004   00008040     DD 40800000H
   \   000008   00000000     DD 0H
   \   00000C   00000000     DD 0H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AnchorZ>`:
   \   000000   3333333F     DD 3F333333H
   \   000004   3333333F     DD 3F333333H
   \   000008   3333333F     DD 3F333333H
   \   00000C   3333333F     DD 3F333333H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for RefAValue>`:
   \   000000   00004042     DD 42400000H
   \   000004   00005842     DD 42580000H
   \   000008   00008842     DD 42880000H
   \   00000C   66664242     DD 42426666H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for DeviceID>`:
   \   000000   0200         DW 2

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_QuadrotorMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_QuadrotorMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_AnchorMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_AnchorMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_SendPeriodicMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_SendPeriodicMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_calibrationNMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_calibrationNMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Router_calibrationAMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Router_calibrationAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationAMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibration_differentAMessag:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibration_differentAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Tester_calibrationOffsetAMessage?re:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Tester_calibrationOffsetAMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Quadrotor_SendLocation?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Quadrotor_SendLocation

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "UartInit OK\\n">`:
   \   000000   55617274     DB "UartInit OK\012"
   \            496E6974
   \            204F4B0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 2">`:
   \   000000   47726F75     DB "Group 2"
   \            70203200

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SampleApp">`:
   \   000000   53616D70     DB "SampleApp"
   \            6C654170
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A1">`:
   \   000000   413100       DB "A1"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "N">`:
   \   000000   4E00         DB "N"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">_1`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "A">_2`:
   \   000000   4100         DB "A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "T">`:
   \   000000   5400         DB "T"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "O">`:
   \   000000   4F00         DB "O"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Q">`:
   \   000000   5100         DB "Q"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41200000:
   \   000000   00002041     DD 41200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3dcccccd:
   \   000000   CDCCCC3D     DD 3DCCCCCDH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1:
   \   000000   01000000     DD 1H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3c23d70a:
   \   000000   0AD7233C     DD 3C23D70AH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0H
   1585          
   1586          /*********************************************************************
   1587          *********************************************************************/

   Maximum stack usage in bytes:

   ISTACK PSTACK XSTACK Function
   ------ ------ ------ --------
       0      0     26  SampleApp_AnchorMSGCB
                          0 0 14 -> moving_average
                          0 0 10 -> printRSSIandLQI
       0      0     26  SampleApp_HandleKeys
                          0 0 14 -> SampleApp_Tester_calibrationAMessage
       0      0     14  SampleApp_Init
                          0 0 11 -> HalLcdWriteString
                          0 0 11 -> HalUARTWrite
                          0 0 11 -> MT_UartInit
                          0 0 11 -> MT_UartRegisterTaskID
                          0 0 11 -> RegisterForKeys
                          0 0 11 -> afRegister
                          0 0 11 -> aps_AddGroup
                          0 0 14 -> osal_memcpy
       0      0     32  SampleApp_MessageMSGCB
                          0 0 20 -> HalUARTWrite
       0      0     16  SampleApp_ProcessEvent
                          0 0 12 -> SampleApp_AnchorMSGCB
                          0 0 12 -> SampleApp_HandleKeys
                          0 0 12 -> SampleApp_MessageMSGCB
                          0 0 12 -> SampleApp_QuadrotorMSGCB
                          0 0 12 -> SampleApp_Quadrotor_SendLocation
                          0 0 12 -> SampleApp_Router_SendPeriodicMessage
                          0 0 12 -> SampleApp_Tester_calibrationMSGCB
                          0 0 16 -> SampleApp_Tester_calibrationOffsetAMessage
                          0 0 12 -> SampleApp_Tester_calibration_differentAMessage
                          0 0 12 -> osal_msg_deallocate
                          0 0 12 -> osal_msg_receive
                          0 0 12 -> osal_rand
                          0 0 12 -> osal_start_timerEx
       0      0     44  SampleApp_QuadrotorMSGCB
                          0 0 24 -> HalUARTWrite
                          0 0 28 -> moving_average
                          0 0 32 -> moving_average_f
       2      0     74  SampleApp_Quadrotor_SendLocation
                          0 0 55 -> AF_DataRequest
                          0 0 62 -> SampleApp_MinMax_localization
       2      0     33  SampleApp_Router_SendPeriodicMessage
                          0 0 21 -> AF_DataRequest
                          0 0 17 -> osal_strlen
       2      0     40  SampleApp_Router_calibrationAMessage
                          0 0 36 -> AF_DataRequest
       2      0     37  SampleApp_Router_calibrationNMessage
                          0 0 33 -> AF_DataRequest
       2      0     50  SampleApp_Tester_calibrationAMessage
                          0 0 36 -> AF_DataRequest
       0      0     32  SampleApp_Tester_calibrationMSGCB
                          0 0 16 -> HalUARTWrite
                          0 0 20 -> moving_average
       2      0     53  SampleApp_Tester_calibrationOffsetAMessage
                          0 0 37 -> AF_DataRequest
       2      0     49  SampleApp_Tester_calibration_differentAMessage
                          0 0 37 -> AF_DataRequest


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       2  ?<Constant "A">
       2  ?<Constant "A">_1
       2  ?<Constant "A">_2
       3  ?<Constant "A1">
       8  ?<Constant "Group 1">
       8  ?<Constant "Group 2">
       2  ?<Constant "N">
       2  ?<Constant "O">
       2  ?<Constant "Q">
      10  ?<Constant "SampleApp">
       2  ?<Constant "T">
      13  ?<Constant "UartInit OK\n">
      16  ?<Initializer for AValue>
      16  ?<Initializer for AnchorX>
      16  ?<Initializer for AnchorY>
      16  ?<Initializer for AnchorZ>
       2  ?<Initializer for DeviceID>
      16  ?<Initializer for RefAValue>
       4  ?<Initializer for aindex1>
       4  ?<Initializer for aindex2>
       4  ?<Initializer for aindex3>
       4  ?<Initializer for aindex4>
       4  ?<Initializer for imof1>
       4  ?<Initializer for imof2>
       4  ?<Initializer for imof3>
       4  ?<Initializer for imof4>
      16  ?<Initializer for nValue>
       4  ?<Initializer for nindex1>
       4  ?<Initializer for nindex2>
       4  ?<Initializer for nindex3>
       4  ?<Initializer for nindex4>
       6  ??SampleApp_AnchorMSGCB?relay
       6  ??SampleApp_HandleKeys?relay
       6  ??SampleApp_Init?relay
       6  ??SampleApp_MessageMSGCB?relay
       6  ??SampleApp_ProcessEvent?relay
       6  ??SampleApp_QuadrotorMSGCB?relay
       6  ??SampleApp_Quadrotor_SendLocation?relay
       6  ??SampleApp_Router_SendPeriodicMessage?relay
       6  ??SampleApp_Router_calibrationAMessage?relay
       6  ??SampleApp_Router_calibrationNMessage?relay
       6  ??SampleApp_Tester_calibrationAMessage?relay
       6  ??SampleApp_Tester_calibrationMSGCB?relay
       6  ??SampleApp_Tester_calibrationOffsetAMessage?re
       6  ??SampleApp_Tester_calibration_differentAMessag
       6  ??Subroutine28_0
      10  ??Subroutine29_0
       1  ??Subroutine30_0
       1  ??Subroutine31_0
      24  ??Subroutine32_0
       6  ??Subroutine33_0
      35  ??Subroutine34_0
       7  ??Subroutine35_0
       3  ??Subroutine36_0
       5  ??Subroutine37_0
       5  ??Subroutine38_0
      11  ??Subroutine39_0
       5  ?Subroutine0
     197  ?Subroutine1
      12  ?Subroutine10
       6  ?Subroutine11
       4  ?Subroutine12
       3  ?Subroutine13
      15  ?Subroutine14
       9  ?Subroutine15
      14  ?Subroutine16
       6  ?Subroutine17
      14  ?Subroutine18
       3  ?Subroutine19
       5  ?Subroutine2
       9  ?Subroutine20
      11  ?Subroutine21
      14  ?Subroutine22
       8  ?Subroutine23
       2  ?Subroutine24
       9  ?Subroutine25
      11  ?Subroutine26
       2  ?Subroutine27
       5  ?Subroutine3
       6  ?Subroutine4
      17  ?Subroutine5
       2  ?Subroutine6
       8  ?Subroutine7
      11  ?Subroutine8
       2  ?Subroutine9
      16  AValue
      16  AnchorX
      16  AnchorY
      16  AnchorZ
       2  DeviceID
      16  OffsetAValue
      16  RefAValue
      16  RssiValue
       1  SampleAppFlashCounter
       1  SampleAppPeriodicCounter
     249  SampleApp_AnchorMSGCB
       6  SampleApp_ClusterList
      18  SampleApp_Group_1
      18  SampleApp_Group_2
      98  SampleApp_HandleKeys
     184  SampleApp_Init
     242  SampleApp_MessageMSGCB
       1  SampleApp_NwkState
     563  SampleApp_ProcessEvent
     995  SampleApp_QuadrotorMSGCB
      12  SampleApp_Quadrotor_Location_DstAddr
     878  SampleApp_Quadrotor_SendLocation
      12  SampleApp_Router_Periodic_DstAddr
     138  SampleApp_Router_SendPeriodicMessage
     266  SampleApp_Router_calibrationAMessage
     297  SampleApp_Router_calibrationNMessage
      12  SampleApp_SimpleDesc
       1  SampleApp_TaskID
      12  SampleApp_Tester_DstAddr
     269  SampleApp_Tester_calibrationAMessage
     432  SampleApp_Tester_calibrationMSGCB
     112  SampleApp_Tester_calibrationOffsetAMessage
      95  SampleApp_Tester_calibration_differentAMessage
       1  SampleApp_TransID
       6  SampleApp_epDesc
       6  SampleApp_test_epDesc
       4  __Constant_0
       4  __Constant_1
       4  __Constant_3c23d70a
       4  __Constant_3dcccccd
       4  __Constant_41200000
       2  aindex
       4  aindex1
       4  aindex2
       4  aindex3
       4  aindex4
       1  i1
       1  i2
       1  i3
       1  i4
       4  imof1
       4  imof2
       4  imof3
       4  imof4
       2  index
       2  index
      16  locationX
      16  locationY
      16  locationZ
      16  nValue
       4  nindex1
       4  nindex2
       4  nindex3
       4  nindex4
      32  perRssiBuf1
      32  perRssiBuf2
      32  perRssiBuf3
      32  perRssiBuf4
      32  peraBuf1
      32  peraBuf2
      32  peraBuf3
      32  peraBuf4
      32  pernBuf1
      32  pernBuf2
      32  pernBuf3
      32  pernBuf4
       1  rssivalue
       4  sumRssi1
       4  sumRssi2
       4  sumRssi3
       4  sumRssi4

 
 5 342 bytes in segment BANKED_CODE
    84 bytes in segment BANK_RELAYS
   146 bytes in segment XDATA_I
   146 bytes in segment XDATA_ID
    94 bytes in segment XDATA_ROM_C
   580 bytes in segment XDATA_Z
 
 5 572 bytes of CODE  memory
    74 bytes of CONST memory (+ 20 bytes shared)
   726 bytes of XDATA memory

Errors: none
Warnings: none
